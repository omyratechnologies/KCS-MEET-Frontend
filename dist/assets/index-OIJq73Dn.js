(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const _ of document.querySelectorAll('link[rel="modulepreload"]'))c(_);new MutationObserver(_=>{for(const T of _)if(T.type==="childList")for(const w of T.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&c(w)}).observe(document,{childList:!0,subtree:!0});function o(_){const T={};return _.integrity&&(T.integrity=_.integrity),_.referrerPolicy&&(T.referrerPolicy=_.referrerPolicy),_.crossOrigin==="use-credentials"?T.credentials="include":_.crossOrigin==="anonymous"?T.credentials="omit":T.credentials="same-origin",T}function c(_){if(_.ep)return;_.ep=!0;const T=o(_);fetch(_.href,T)}})();function ty(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var zl={exports:{}},cr={};var ph;function ny(){if(ph)return cr;ph=1;var l=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function o(c,_,T){var w=null;if(T!==void 0&&(w=""+T),_.key!==void 0&&(w=""+_.key),"key"in _){T={};for(var g in _)g!=="key"&&(T[g]=_[g])}else T=_;return _=T.ref,{$$typeof:l,type:c,key:w,ref:_!==void 0?_:null,props:T}}return cr.Fragment=s,cr.jsx=o,cr.jsxs=o,cr}var hh;function iy(){return hh||(hh=1,zl.exports=ny()),zl.exports}var ne=iy(),jl={exports:{}},ve={};var mh;function ay(){if(mh)return ve;mh=1;var l=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),w=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),R=Symbol.iterator;function q(j){return j===null||typeof j!="object"?null:(j=R&&j[R]||j["@@iterator"],typeof j=="function"?j:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},u=Object.assign,f={};function m(j,I,W){this.props=j,this.context=I,this.refs=f,this.updater=W||z}m.prototype.isReactComponent={},m.prototype.setState=function(j,I){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,I,"setState")},m.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function v(){}v.prototype=m.prototype;function L(j,I,W){this.props=j,this.context=I,this.refs=f,this.updater=W||z}var D=L.prototype=new v;D.constructor=L,u(D,m.prototype),D.isPureReactComponent=!0;var M=Array.isArray;function C(){}var h={H:null,A:null,T:null,S:null},E=Object.prototype.hasOwnProperty;function k(j,I,W){var se=W.ref;return{$$typeof:l,type:j,key:I,ref:se!==void 0?se:null,props:W}}function B(j,I){return k(j.type,I,j.props)}function ee(j){return typeof j=="object"&&j!==null&&j.$$typeof===l}function ae(j){var I={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(W){return I[W]})}var b=/\/+/g;function Q(j,I){return typeof j=="object"&&j!==null&&j.key!=null?ae(""+j.key):I.toString(36)}function Z(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(C,C):(j.status="pending",j.then(function(I){j.status==="pending"&&(j.status="fulfilled",j.value=I)},function(I){j.status==="pending"&&(j.status="rejected",j.reason=I)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function O(j,I,W,se,he){var le=typeof j;(le==="undefined"||le==="boolean")&&(j=null);var Se=!1;if(j===null)Se=!0;else switch(le){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(j.$$typeof){case l:case s:Se=!0;break;case p:return Se=j._init,O(Se(j._payload),I,W,se,he)}}if(Se)return he=he(j),Se=se===""?"."+Q(j,0):se,M(he)?(W="",Se!=null&&(W=Se.replace(b,"$&/")+"/"),O(he,I,W,"",function(we){return we})):he!=null&&(ee(he)&&(he=B(he,W+(he.key==null||j&&j.key===he.key?"":(""+he.key).replace(b,"$&/")+"/")+Se)),I.push(he)),1;Se=0;var te=se===""?".":se+":";if(M(j))for(var ie=0;ie<j.length;ie++)se=j[ie],le=te+Q(se,ie),Se+=O(se,I,W,le,he);else if(ie=q(j),typeof ie=="function")for(j=ie.call(j),ie=0;!(se=j.next()).done;)se=se.value,le=te+Q(se,ie++),Se+=O(se,I,W,le,he);else if(le==="object"){if(typeof j.then=="function")return O(Z(j),I,W,se,he);throw I=String(j),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return Se}function P(j,I,W){if(j==null)return j;var se=[],he=0;return O(j,se,"","",function(le){return I.call(W,le,he++)}),se}function J(j){if(j._status===-1){var I=j._result;I=I(),I.then(function(W){(j._status===0||j._status===-1)&&(j._status=1,j._result=W)},function(W){(j._status===0||j._status===-1)&&(j._status=2,j._result=W)}),j._status===-1&&(j._status=0,j._result=I)}if(j._status===1)return j._result.default;throw j._result}var re=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},ue={map:P,forEach:function(j,I,W){P(j,function(){I.apply(this,arguments)},W)},count:function(j){var I=0;return P(j,function(){I++}),I},toArray:function(j){return P(j,function(I){return I})||[]},only:function(j){if(!ee(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return ve.Activity=S,ve.Children=ue,ve.Component=m,ve.Fragment=o,ve.Profiler=_,ve.PureComponent=L,ve.StrictMode=c,ve.Suspense=A,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=h,ve.__COMPILER_RUNTIME={__proto__:null,c:function(j){return h.H.useMemoCache(j)}},ve.cache=function(j){return function(){return j.apply(null,arguments)}},ve.cacheSignal=function(){return null},ve.cloneElement=function(j,I,W){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var se=u({},j.props),he=j.key;if(I!=null)for(le in I.key!==void 0&&(he=""+I.key),I)!E.call(I,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&I.ref===void 0||(se[le]=I[le]);var le=arguments.length-2;if(le===1)se.children=W;else if(1<le){for(var Se=Array(le),te=0;te<le;te++)Se[te]=arguments[te+2];se.children=Se}return k(j.type,he,se)},ve.createContext=function(j){return j={$$typeof:w,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:T,_context:j},j},ve.createElement=function(j,I,W){var se,he={},le=null;if(I!=null)for(se in I.key!==void 0&&(le=""+I.key),I)E.call(I,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(he[se]=I[se]);var Se=arguments.length-2;if(Se===1)he.children=W;else if(1<Se){for(var te=Array(Se),ie=0;ie<Se;ie++)te[ie]=arguments[ie+2];he.children=te}if(j&&j.defaultProps)for(se in Se=j.defaultProps,Se)he[se]===void 0&&(he[se]=Se[se]);return k(j,le,he)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(j){return{$$typeof:g,render:j}},ve.isValidElement=ee,ve.lazy=function(j){return{$$typeof:p,_payload:{_status:-1,_result:j},_init:J}},ve.memo=function(j,I){return{$$typeof:x,type:j,compare:I===void 0?null:I}},ve.startTransition=function(j){var I=h.T,W={};h.T=W;try{var se=j(),he=h.S;he!==null&&he(W,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(C,re)}catch(le){re(le)}finally{I!==null&&W.types!==null&&(I.types=W.types),h.T=I}},ve.unstable_useCacheRefresh=function(){return h.H.useCacheRefresh()},ve.use=function(j){return h.H.use(j)},ve.useActionState=function(j,I,W){return h.H.useActionState(j,I,W)},ve.useCallback=function(j,I){return h.H.useCallback(j,I)},ve.useContext=function(j){return h.H.useContext(j)},ve.useDebugValue=function(){},ve.useDeferredValue=function(j,I){return h.H.useDeferredValue(j,I)},ve.useEffect=function(j,I){return h.H.useEffect(j,I)},ve.useEffectEvent=function(j){return h.H.useEffectEvent(j)},ve.useId=function(){return h.H.useId()},ve.useImperativeHandle=function(j,I,W){return h.H.useImperativeHandle(j,I,W)},ve.useInsertionEffect=function(j,I){return h.H.useInsertionEffect(j,I)},ve.useLayoutEffect=function(j,I){return h.H.useLayoutEffect(j,I)},ve.useMemo=function(j,I){return h.H.useMemo(j,I)},ve.useOptimistic=function(j,I){return h.H.useOptimistic(j,I)},ve.useReducer=function(j,I,W){return h.H.useReducer(j,I,W)},ve.useRef=function(j){return h.H.useRef(j)},ve.useState=function(j){return h.H.useState(j)},ve.useSyncExternalStore=function(j,I,W){return h.H.useSyncExternalStore(j,I,W)},ve.useTransition=function(){return h.H.useTransition()},ve.version="19.2.3",ve}var gh;function su(){return gh||(gh=1,jl.exports=ay()),jl.exports}var pe=su();const ry=ty(pe);var Ul={exports:{}},or={},ql={exports:{}},Bl={};var vh;function sy(){return vh||(vh=1,(function(l){function s(O,P){var J=O.length;O.push(P);e:for(;0<J;){var re=J-1>>>1,ue=O[re];if(0<_(ue,P))O[re]=P,O[J]=ue,J=re;else break e}}function o(O){return O.length===0?null:O[0]}function c(O){if(O.length===0)return null;var P=O[0],J=O.pop();if(J!==P){O[0]=J;e:for(var re=0,ue=O.length,j=ue>>>1;re<j;){var I=2*(re+1)-1,W=O[I],se=I+1,he=O[se];if(0>_(W,J))se<ue&&0>_(he,W)?(O[re]=he,O[se]=J,re=se):(O[re]=W,O[I]=J,re=I);else if(se<ue&&0>_(he,J))O[re]=he,O[se]=J,re=se;else break e}}return P}function _(O,P){var J=O.sortIndex-P.sortIndex;return J!==0?J:O.id-P.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var T=performance;l.unstable_now=function(){return T.now()}}else{var w=Date,g=w.now();l.unstable_now=function(){return w.now()-g}}var A=[],x=[],p=1,S=null,R=3,q=!1,z=!1,u=!1,f=!1,m=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function D(O){for(var P=o(x);P!==null;){if(P.callback===null)c(x);else if(P.startTime<=O)c(x),P.sortIndex=P.expirationTime,s(A,P);else break;P=o(x)}}function M(O){if(u=!1,D(O),!z)if(o(A)!==null)z=!0,C||(C=!0,ae());else{var P=o(x);P!==null&&Z(M,P.startTime-O)}}var C=!1,h=-1,E=5,k=-1;function B(){return f?!0:!(l.unstable_now()-k<E)}function ee(){if(f=!1,C){var O=l.unstable_now();k=O;var P=!0;try{e:{z=!1,u&&(u=!1,v(h),h=-1),q=!0;var J=R;try{t:{for(D(O),S=o(A);S!==null&&!(S.expirationTime>O&&B());){var re=S.callback;if(typeof re=="function"){S.callback=null,R=S.priorityLevel;var ue=re(S.expirationTime<=O);if(O=l.unstable_now(),typeof ue=="function"){S.callback=ue,D(O),P=!0;break t}S===o(A)&&c(A),D(O)}else c(A);S=o(A)}if(S!==null)P=!0;else{var j=o(x);j!==null&&Z(M,j.startTime-O),P=!1}}break e}finally{S=null,R=J,q=!1}P=void 0}}finally{P?ae():C=!1}}}var ae;if(typeof L=="function")ae=function(){L(ee)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,Q=b.port2;b.port1.onmessage=ee,ae=function(){Q.postMessage(null)}}else ae=function(){m(ee,0)};function Z(O,P){h=m(function(){O(l.unstable_now())},P)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(O){O.callback=null},l.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<O?Math.floor(1e3/O):5},l.unstable_getCurrentPriorityLevel=function(){return R},l.unstable_next=function(O){switch(R){case 1:case 2:case 3:var P=3;break;default:P=R}var J=R;R=P;try{return O()}finally{R=J}},l.unstable_requestPaint=function(){f=!0},l.unstable_runWithPriority=function(O,P){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var J=R;R=O;try{return P()}finally{R=J}},l.unstable_scheduleCallback=function(O,P,J){var re=l.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?re+J:re):J=re,O){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=J+ue,O={id:p++,callback:P,priorityLevel:O,startTime:J,expirationTime:ue,sortIndex:-1},J>re?(O.sortIndex=J,s(x,O),o(A)===null&&O===o(x)&&(u?(v(h),h=-1):u=!0,Z(M,J-re))):(O.sortIndex=ue,s(A,O),z||q||(z=!0,C||(C=!0,ae()))),O},l.unstable_shouldYield=B,l.unstable_wrapCallback=function(O){var P=R;return function(){var J=R;R=P;try{return O.apply(this,arguments)}finally{R=J}}}})(Bl)),Bl}var yh;function cy(){return yh||(yh=1,ql.exports=sy()),ql.exports}var Hl={exports:{}},dt={};var _h;function oy(){if(_h)return dt;_h=1;var l=su();function s(A){var x="https://react.dev/errors/"+A;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)x+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+A+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var c={d:{f:o,r:function(){throw Error(s(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},_=Symbol.for("react.portal");function T(A,x,p){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_,key:S==null?null:""+S,children:A,containerInfo:x,implementation:p}}var w=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(A,x){if(A==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return dt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=c,dt.createPortal=function(A,x){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(s(299));return T(A,x,null,p)},dt.flushSync=function(A){var x=w.T,p=c.p;try{if(w.T=null,c.p=2,A)return A()}finally{w.T=x,c.p=p,c.d.f()}},dt.preconnect=function(A,x){typeof A=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,c.d.C(A,x))},dt.prefetchDNS=function(A){typeof A=="string"&&c.d.D(A)},dt.preinit=function(A,x){if(typeof A=="string"&&x&&typeof x.as=="string"){var p=x.as,S=g(p,x.crossOrigin),R=typeof x.integrity=="string"?x.integrity:void 0,q=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;p==="style"?c.d.S(A,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:S,integrity:R,fetchPriority:q}):p==="script"&&c.d.X(A,{crossOrigin:S,integrity:R,fetchPriority:q,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},dt.preinitModule=function(A,x){if(typeof A=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var p=g(x.as,x.crossOrigin);c.d.M(A,{crossOrigin:p,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&c.d.M(A)},dt.preload=function(A,x){if(typeof A=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var p=x.as,S=g(p,x.crossOrigin);c.d.L(A,p,{crossOrigin:S,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},dt.preloadModule=function(A,x){if(typeof A=="string")if(x){var p=g(x.as,x.crossOrigin);c.d.m(A,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:p,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else c.d.m(A)},dt.requestFormReset=function(A){c.d.r(A)},dt.unstable_batchedUpdates=function(A,x){return A(x)},dt.useFormState=function(A,x,p){return w.H.useFormState(A,x,p)},dt.useFormStatus=function(){return w.H.useHostTransitionStatus()},dt.version="19.2.3",dt}var bh;function ly(){if(bh)return Hl.exports;bh=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(s){console.error(s)}}return l(),Hl.exports=oy(),Hl.exports}var Sh;function uy(){if(Sh)return or;Sh=1;var l=cy(),s=su(),o=ly();function c(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function _(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function T(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function w(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function A(e){if(T(e)!==e)throw Error(c(188))}function x(e){var t=e.alternate;if(!t){if(t=T(e),t===null)throw Error(c(188));return t!==e?null:e}for(var n=e,i=t;;){var a=n.return;if(a===null)break;var r=a.alternate;if(r===null){if(i=a.return,i!==null){n=i;continue}break}if(a.child===r.child){for(r=a.child;r;){if(r===n)return A(a),e;if(r===i)return A(a),t;r=r.sibling}throw Error(c(188))}if(n.return!==i.return)n=a,i=r;else{for(var d=!1,y=a.child;y;){if(y===n){d=!0,n=a,i=r;break}if(y===i){d=!0,i=a,n=r;break}y=y.sibling}if(!d){for(y=r.child;y;){if(y===n){d=!0,n=r,i=a;break}if(y===i){d=!0,i=r,n=a;break}y=y.sibling}if(!d)throw Error(c(189))}}if(n.alternate!==i)throw Error(c(190))}if(n.tag!==3)throw Error(c(188));return n.stateNode.current===n?e:t}function p(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=p(e),t!==null)return t;e=e.sibling}return null}var S=Object.assign,R=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),v=Symbol.for("react.consumer"),L=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function ae(e){return e===null||typeof e!="object"?null:(e=ee&&e[ee]||e["@@iterator"],typeof e=="function"?e:null)}var b=Symbol.for("react.client.reference");function Q(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===b?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case u:return"Fragment";case m:return"Profiler";case f:return"StrictMode";case M:return"Suspense";case C:return"SuspenseList";case k:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case z:return"Portal";case L:return e.displayName||"Context";case v:return(e._context.displayName||"Context")+".Consumer";case D:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case h:return t=e.displayName||null,t!==null?t:Q(e.type)||"Memo";case E:t=e._payload,e=e._init;try{return Q(e(t))}catch{}}return null}var Z=Array.isArray,O=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},re=[],ue=-1;function j(e){return{current:e}}function I(e){0>ue||(e.current=re[ue],re[ue]=null,ue--)}function W(e,t){ue++,re[ue]=e.current,e.current=t}var se=j(null),he=j(null),le=j(null),Se=j(null);function te(e,t){switch(W(le,t),W(he,e),W(se,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?jp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=jp(t),e=Up(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}I(se),W(se,e)}function ie(){I(se),I(he),I(le)}function we(e){e.memoizedState!==null&&W(Se,e);var t=se.current,n=Up(t,e.type);t!==n&&(W(he,e),W(se,n))}function xe(e){he.current===e&&(I(se),I(he)),Se.current===e&&(I(Se),ir._currentValue=J)}var Ne,Ue;function Ae(e){if(Ne===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ne=t&&t[1]||"",Ue=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ne+e+Ue}var nt=!1;function Pe(e,t){if(!e||nt)return"";nt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(X){var G=X}Reflect.construct(e,[],$)}else{try{$.call()}catch(X){G=X}e.call($.prototype)}}else{try{throw Error()}catch(X){G=X}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(X){if(X&&G&&typeof X.stack=="string")return[X.stack,G.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=i.DetermineComponentFrameRoot(),d=r[0],y=r[1];if(d&&y){var N=d.split(`
`),V=y.split(`
`);for(a=i=0;i<N.length&&!N[i].includes("DetermineComponentFrameRoot");)i++;for(;a<V.length&&!V[a].includes("DetermineComponentFrameRoot");)a++;if(i===N.length||a===V.length)for(i=N.length-1,a=V.length-1;1<=i&&0<=a&&N[i]!==V[a];)a--;for(;1<=i&&0<=a;i--,a--)if(N[i]!==V[a]){if(i!==1||a!==1)do if(i--,a--,0>a||N[i]!==V[a]){var F=`
`+N[i].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=i&&0<=a);break}}}finally{nt=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ae(n):""}function sn(e,t){switch(e.tag){case 26:case 27:case 5:return Ae(e.type);case 16:return Ae("Lazy");case 13:return e.child!==t&&t!==null?Ae("Suspense Fallback"):Ae("Suspense");case 19:return Ae("SuspenseList");case 0:case 15:return Pe(e.type,!1);case 11:return Pe(e.type.render,!1);case 1:return Pe(e.type,!0);case 31:return Ae("Activity");default:return""}}function Et(e){try{var t="",n=null;do t+=sn(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var ti=Object.prototype.hasOwnProperty,pa=l.unstable_scheduleCallback,ha=l.unstable_cancelCallback,Sc=l.unstable_shouldYield,oe=l.unstable_requestPaint,ce=l.unstable_now,Ce=l.unstable_getCurrentPriorityLevel,Ci=l.unstable_ImmediatePriority,hu=l.unstable_UserBlockingPriority,qr=l.unstable_NormalPriority,jm=l.unstable_LowPriority,mu=l.unstable_IdlePriority,Um=l.log,qm=l.unstable_setDisableYieldValue,ma=null,Tt=null;function Dn(e){if(typeof Um=="function"&&qm(e),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode(ma,e)}catch{}}var Rt=Math.clz32?Math.clz32:Pm,Bm=Math.log,Hm=Math.LN2;function Pm(e){return e>>>=0,e===0?32:31-(Bm(e)/Hm|0)|0}var Br=256,Hr=262144,Pr=4194304;function ni(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ir(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var a=0,r=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var y=i&134217727;return y!==0?(i=y&~r,i!==0?a=ni(i):(d&=y,d!==0?a=ni(d):n||(n=y&~e,n!==0&&(a=ni(n))))):(y=i&~r,y!==0?a=ni(y):d!==0?a=ni(d):n||(n=i&~e,n!==0&&(a=ni(n)))),a===0?0:t!==0&&t!==a&&(t&r)===0&&(r=a&-a,n=t&-t,r>=n||r===32&&(n&4194048)!==0)?t:a}function ga(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Im(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gu(){var e=Pr;return Pr<<=1,(Pr&62914560)===0&&(Pr=4194304),e}function wc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function va(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ym(e,t,n,i,a,r){var d=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var y=e.entanglements,N=e.expirationTimes,V=e.hiddenUpdates;for(n=d&~n;0<n;){var F=31-Rt(n),$=1<<F;y[F]=0,N[F]=-1;var G=V[F];if(G!==null)for(V[F]=null,F=0;F<G.length;F++){var X=G[F];X!==null&&(X.lane&=-536870913)}n&=~$}i!==0&&vu(e,i,0),r!==0&&a===0&&e.tag!==0&&(e.suspendedLanes|=r&~(d&~t))}function vu(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Rt(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function yu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Rt(n),a=1<<i;a&t|e[i]&t&&(e[i]|=t),n&=~a}}function _u(e,t){var n=t&-t;return n=(n&42)!==0?1:Cc(n),(n&(e.suspendedLanes|t))!==0?0:n}function Cc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ec(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function bu(){var e=P.p;return e!==0?e:(e=window.event,e===void 0?32:sh(e.type))}function Su(e,t){var n=P.p;try{return P.p=e,t()}finally{P.p=n}}var xn=Math.random().toString(36).slice(2),st="__reactFiber$"+xn,gt="__reactProps$"+xn,Ei="__reactContainer$"+xn,Tc="__reactEvents$"+xn,Vm="__reactListeners$"+xn,Gm="__reactHandles$"+xn,wu="__reactResources$"+xn,ya="__reactMarker$"+xn;function Rc(e){delete e[st],delete e[gt],delete e[Tc],delete e[Vm],delete e[Gm]}function Ti(e){var t=e[st];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ei]||n[st]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Vp(e);e!==null;){if(n=e[st])return n;e=Vp(e)}return t}e=n,n=e.parentNode}return null}function Ri(e){if(e=e[st]||e[Ei]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function _a(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(c(33))}function Di(e){var t=e[wu];return t||(t=e[wu]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function it(e){e[ya]=!0}var Cu=new Set,Eu={};function ii(e,t){xi(e,t),xi(e+"Capture",t)}function xi(e,t){for(Eu[e]=t,e=0;e<t.length;e++)Cu.add(t[e])}var Qm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tu={},Ru={};function Xm(e){return ti.call(Ru,e)?!0:ti.call(Tu,e)?!1:Qm.test(e)?Ru[e]=!0:(Tu[e]=!0,!1)}function Yr(e,t,n){if(Xm(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Vr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function cn(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function zt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Du(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Fm(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var a=i.get,r=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(d){n=""+d,r.call(this,d)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(d){n=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Dc(e){if(!e._valueTracker){var t=Du(e)?"checked":"value";e._valueTracker=Fm(e,t,""+e[t])}}function xu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Du(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Gr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Zm=/[\n"\\]/g;function jt(e){return e.replace(Zm,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function xc(e,t,n,i,a,r,d,y){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),t!=null?d==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+zt(t)):e.value!==""+zt(t)&&(e.value=""+zt(t)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),t!=null?Mc(e,d,zt(t)):n!=null?Mc(e,d,zt(n)):i!=null&&e.removeAttribute("value"),a==null&&r!=null&&(e.defaultChecked=!!r),a!=null&&(e.checked=a&&typeof a!="function"&&typeof a!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+zt(y):e.removeAttribute("name")}function Mu(e,t,n,i,a,r,d,y){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||t!=null)){Dc(e);return}n=n!=null?""+zt(n):"",t=t!=null?""+zt(t):n,y||t===e.value||(e.value=t),e.defaultValue=t}i=i??a,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=y?e.checked:!!i,e.defaultChecked=!!i,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d),Dc(e)}function Mc(e,t,n){t==="number"&&Gr(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Mi(e,t,n,i){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&i&&(e[n].defaultSelected=!0)}else{for(n=""+zt(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,i&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Au(e,t,n){if(t!=null&&(t=""+zt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+zt(n):""}function Ou(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(c(92));if(Z(i)){if(1<i.length)throw Error(c(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=zt(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),Dc(e)}function Ai(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Km=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lu(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||Km.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function ku(e,t,n){if(t!=null&&typeof t!="object")throw Error(c(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var a in t)i=t[a],t.hasOwnProperty(a)&&n[a]!==i&&Lu(e,a,i)}else for(var r in t)t.hasOwnProperty(r)&&Lu(e,r,t[r])}function Ac(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$m=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qr(e){return $m.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function on(){}var Oc=null;function Lc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Oi=null,Li=null;function Nu(e){var t=Ri(e);if(t&&(e=t.stateNode)){var n=e[gt]||null;e:switch(e=t.stateNode,t.type){case"input":if(xc(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+jt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var a=i[gt]||null;if(!a)throw Error(c(90));xc(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&xu(i)}break e;case"textarea":Au(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Mi(e,!!n.multiple,t,!1)}}}var kc=!1;function zu(e,t,n){if(kc)return e(t,n);kc=!0;try{var i=e(t);return i}finally{if(kc=!1,(Oi!==null||Li!==null)&&(ks(),Oi&&(t=Oi,e=Li,Li=Oi=null,Nu(t),e)))for(t=0;t<e.length;t++)Nu(e[t])}}function ba(e,t){var n=e.stateNode;if(n===null)return null;var i=n[gt]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(c(231,t,typeof n));return n}var ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nc=!1;if(ln)try{var Sa={};Object.defineProperty(Sa,"passive",{get:function(){Nc=!0}}),window.addEventListener("test",Sa,Sa),window.removeEventListener("test",Sa,Sa)}catch{Nc=!1}var Mn=null,zc=null,Xr=null;function ju(){if(Xr)return Xr;var e,t=zc,n=t.length,i,a="value"in Mn?Mn.value:Mn.textContent,r=a.length;for(e=0;e<n&&t[e]===a[e];e++);var d=n-e;for(i=1;i<=d&&t[n-i]===a[r-i];i++);return Xr=a.slice(e,1<i?1-i:void 0)}function Fr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zr(){return!0}function Uu(){return!1}function vt(e){function t(n,i,a,r,d){this._reactName=n,this._targetInst=a,this.type=i,this.nativeEvent=r,this.target=d,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(n=e[y],this[y]=n?n(r):r[y]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Zr:Uu,this.isPropagationStopped=Uu,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zr)},persist:function(){},isPersistent:Zr}),t}var ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kr=vt(ai),wa=S({},ai,{view:0,detail:0}),Wm=vt(wa),jc,Uc,Ca,Jr=S({},wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ca&&(Ca&&e.type==="mousemove"?(jc=e.screenX-Ca.screenX,Uc=e.screenY-Ca.screenY):Uc=jc=0,Ca=e),jc)},movementY:function(e){return"movementY"in e?e.movementY:Uc}}),qu=vt(Jr),eg=S({},Jr,{dataTransfer:0}),tg=vt(eg),ng=S({},wa,{relatedTarget:0}),qc=vt(ng),ig=S({},ai,{animationName:0,elapsedTime:0,pseudoElement:0}),ag=vt(ig),rg=S({},ai,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sg=vt(rg),cg=S({},ai,{data:0}),Bu=vt(cg),og={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ug={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ug[e])?!!t[e]:!1}function Bc(){return dg}var fg=S({},wa,{key:function(e){if(e.key){var t=og[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bc,charCode:function(e){return e.type==="keypress"?Fr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pg=vt(fg),hg=S({},Jr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hu=vt(hg),mg=S({},wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bc}),gg=vt(mg),vg=S({},ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),yg=vt(vg),_g=S({},Jr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bg=vt(_g),Sg=S({},ai,{newState:0,oldState:0}),wg=vt(Sg),Cg=[9,13,27,32],Hc=ln&&"CompositionEvent"in window,Ea=null;ln&&"documentMode"in document&&(Ea=document.documentMode);var Eg=ln&&"TextEvent"in window&&!Ea,Pu=ln&&(!Hc||Ea&&8<Ea&&11>=Ea),Iu=" ",Yu=!1;function Vu(e,t){switch(e){case"keyup":return Cg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ki=!1;function Tg(e,t){switch(e){case"compositionend":return Gu(t);case"keypress":return t.which!==32?null:(Yu=!0,Iu);case"textInput":return e=t.data,e===Iu&&Yu?null:e;default:return null}}function Rg(e,t){if(ki)return e==="compositionend"||!Hc&&Vu(e,t)?(e=ju(),Xr=zc=Mn=null,ki=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pu&&t.locale!=="ko"?null:t.data;default:return null}}var Dg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Dg[e.type]:t==="textarea"}function Xu(e,t,n,i){Oi?Li?Li.push(i):Li=[i]:Oi=i,t=Hs(t,"onChange"),0<t.length&&(n=new Kr("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Ta=null,Ra=null;function xg(e){Ap(e,0)}function $r(e){var t=_a(e);if(xu(t))return e}function Fu(e,t){if(e==="change")return t}var Zu=!1;if(ln){var Pc;if(ln){var Ic="oninput"in document;if(!Ic){var Ku=document.createElement("div");Ku.setAttribute("oninput","return;"),Ic=typeof Ku.oninput=="function"}Pc=Ic}else Pc=!1;Zu=Pc&&(!document.documentMode||9<document.documentMode)}function Ju(){Ta&&(Ta.detachEvent("onpropertychange",$u),Ra=Ta=null)}function $u(e){if(e.propertyName==="value"&&$r(Ra)){var t=[];Xu(t,Ra,e,Lc(e)),zu(xg,t)}}function Mg(e,t,n){e==="focusin"?(Ju(),Ta=t,Ra=n,Ta.attachEvent("onpropertychange",$u)):e==="focusout"&&Ju()}function Ag(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $r(Ra)}function Og(e,t){if(e==="click")return $r(t)}function Lg(e,t){if(e==="input"||e==="change")return $r(t)}function kg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dt=typeof Object.is=="function"?Object.is:kg;function Da(e,t){if(Dt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var a=n[i];if(!ti.call(t,a)||!Dt(e[a],t[a]))return!1}return!0}function Wu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ed(e,t){var n=Wu(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Wu(n)}}function td(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?td(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function nd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Gr(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Gr(e.document)}return t}function Yc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Ng=ln&&"documentMode"in document&&11>=document.documentMode,Ni=null,Vc=null,xa=null,Gc=!1;function id(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gc||Ni==null||Ni!==Gr(i)||(i=Ni,"selectionStart"in i&&Yc(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),xa&&Da(xa,i)||(xa=i,i=Hs(Vc,"onSelect"),0<i.length&&(t=new Kr("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Ni)))}function ri(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var zi={animationend:ri("Animation","AnimationEnd"),animationiteration:ri("Animation","AnimationIteration"),animationstart:ri("Animation","AnimationStart"),transitionrun:ri("Transition","TransitionRun"),transitionstart:ri("Transition","TransitionStart"),transitioncancel:ri("Transition","TransitionCancel"),transitionend:ri("Transition","TransitionEnd")},Qc={},ad={};ln&&(ad=document.createElement("div").style,"AnimationEvent"in window||(delete zi.animationend.animation,delete zi.animationiteration.animation,delete zi.animationstart.animation),"TransitionEvent"in window||delete zi.transitionend.transition);function si(e){if(Qc[e])return Qc[e];if(!zi[e])return e;var t=zi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ad)return Qc[e]=t[n];return e}var rd=si("animationend"),sd=si("animationiteration"),cd=si("animationstart"),zg=si("transitionrun"),jg=si("transitionstart"),Ug=si("transitioncancel"),od=si("transitionend"),ld=new Map,Xc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xc.push("scrollEnd");function Xt(e,t){ld.set(e,t),ii(t,[e])}var Wr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ut=[],ji=0,Fc=0;function es(){for(var e=ji,t=Fc=ji=0;t<e;){var n=Ut[t];Ut[t++]=null;var i=Ut[t];Ut[t++]=null;var a=Ut[t];Ut[t++]=null;var r=Ut[t];if(Ut[t++]=null,i!==null&&a!==null){var d=i.pending;d===null?a.next=a:(a.next=d.next,d.next=a),i.pending=a}r!==0&&ud(n,a,r)}}function ts(e,t,n,i){Ut[ji++]=e,Ut[ji++]=t,Ut[ji++]=n,Ut[ji++]=i,Fc|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Zc(e,t,n,i){return ts(e,t,n,i),ns(e)}function ci(e,t){return ts(e,null,null,t),ns(e)}function ud(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var a=!1,r=e.return;r!==null;)r.childLanes|=n,i=r.alternate,i!==null&&(i.childLanes|=n),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(a=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,a&&t!==null&&(a=31-Rt(n),e=r.hiddenUpdates,i=e[a],i===null?e[a]=[t]:i.push(t),t.lane=n|536870912),r):null}function ns(e){if(50<Ka)throw Ka=0,rl=null,Error(c(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ui={};function qg(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xt(e,t,n,i){return new qg(e,t,n,i)}function Kc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function un(e,t){var n=e.alternate;return n===null?(n=xt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function dd(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function is(e,t,n,i,a,r){var d=0;if(i=e,typeof e=="function")Kc(e)&&(d=1);else if(typeof e=="string")d=Yv(e,n,se.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case k:return e=xt(31,n,t,a),e.elementType=k,e.lanes=r,e;case u:return oi(n.children,a,r,t);case f:d=8,a|=24;break;case m:return e=xt(12,n,t,a|2),e.elementType=m,e.lanes=r,e;case M:return e=xt(13,n,t,a),e.elementType=M,e.lanes=r,e;case C:return e=xt(19,n,t,a),e.elementType=C,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case L:d=10;break e;case v:d=9;break e;case D:d=11;break e;case h:d=14;break e;case E:d=16,i=null;break e}d=29,n=Error(c(130,e===null?"null":typeof e,"")),i=null}return t=xt(d,n,t,a),t.elementType=e,t.type=i,t.lanes=r,t}function oi(e,t,n,i){return e=xt(7,e,i,t),e.lanes=n,e}function Jc(e,t,n){return e=xt(6,e,null,t),e.lanes=n,e}function fd(e){var t=xt(18,null,null,0);return t.stateNode=e,t}function $c(e,t,n){return t=xt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var pd=new WeakMap;function qt(e,t){if(typeof e=="object"&&e!==null){var n=pd.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Et(t)},pd.set(e,t),t)}return{value:e,source:t,stack:Et(t)}}var qi=[],Bi=0,as=null,Ma=0,Bt=[],Ht=0,An=null,Wt=1,en="";function dn(e,t){qi[Bi++]=Ma,qi[Bi++]=as,as=e,Ma=t}function hd(e,t,n){Bt[Ht++]=Wt,Bt[Ht++]=en,Bt[Ht++]=An,An=e;var i=Wt;e=en;var a=32-Rt(i)-1;i&=~(1<<a),n+=1;var r=32-Rt(t)+a;if(30<r){var d=a-a%5;r=(i&(1<<d)-1).toString(32),i>>=d,a-=d,Wt=1<<32-Rt(t)+a|n<<a|i,en=r+e}else Wt=1<<r|n<<a|i,en=e}function Wc(e){e.return!==null&&(dn(e,1),hd(e,1,0))}function eo(e){for(;e===as;)as=qi[--Bi],qi[Bi]=null,Ma=qi[--Bi],qi[Bi]=null;for(;e===An;)An=Bt[--Ht],Bt[Ht]=null,en=Bt[--Ht],Bt[Ht]=null,Wt=Bt[--Ht],Bt[Ht]=null}function md(e,t){Bt[Ht++]=Wt,Bt[Ht++]=en,Bt[Ht++]=An,Wt=t.id,en=t.overflow,An=e}var ct=null,Ye=null,Me=!1,On=null,Pt=!1,to=Error(c(519));function Ln(e){var t=Error(c(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Aa(qt(t,e)),to}function gd(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[st]=e,t[gt]=i,n){case"dialog":Te("cancel",t),Te("close",t);break;case"iframe":case"object":case"embed":Te("load",t);break;case"video":case"audio":for(n=0;n<$a.length;n++)Te($a[n],t);break;case"source":Te("error",t);break;case"img":case"image":case"link":Te("error",t),Te("load",t);break;case"details":Te("toggle",t);break;case"input":Te("invalid",t),Mu(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":Te("invalid",t);break;case"textarea":Te("invalid",t),Ou(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||Np(t.textContent,n)?(i.popover!=null&&(Te("beforetoggle",t),Te("toggle",t)),i.onScroll!=null&&Te("scroll",t),i.onScrollEnd!=null&&Te("scrollend",t),i.onClick!=null&&(t.onclick=on),t=!0):t=!1,t||Ln(e,!0)}function vd(e){for(ct=e.return;ct;)switch(ct.tag){case 5:case 31:case 13:Pt=!1;return;case 27:case 3:Pt=!0;return;default:ct=ct.return}}function Hi(e){if(e!==ct)return!1;if(!Me)return vd(e),Me=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||bl(e.type,e.memoizedProps)),n=!n),n&&Ye&&Ln(e),vd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));Ye=Yp(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));Ye=Yp(e)}else t===27?(t=Ye,Qn(e.type)?(e=Tl,Tl=null,Ye=e):Ye=t):Ye=ct?Yt(e.stateNode.nextSibling):null;return!0}function li(){Ye=ct=null,Me=!1}function no(){var e=On;return e!==null&&(St===null?St=e:St.push.apply(St,e),On=null),e}function Aa(e){On===null?On=[e]:On.push(e)}var io=j(null),ui=null,fn=null;function kn(e,t,n){W(io,t._currentValue),t._currentValue=n}function pn(e){e._currentValue=io.current,I(io)}function ao(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function ro(e,t,n,i){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var r=a.dependencies;if(r!==null){var d=a.child;r=r.firstContext;e:for(;r!==null;){var y=r;r=a;for(var N=0;N<t.length;N++)if(y.context===t[N]){r.lanes|=n,y=r.alternate,y!==null&&(y.lanes|=n),ao(r.return,n,e),i||(d=null);break e}r=y.next}}else if(a.tag===18){if(d=a.return,d===null)throw Error(c(341));d.lanes|=n,r=d.alternate,r!==null&&(r.lanes|=n),ao(d,n,e),d=null}else d=a.child;if(d!==null)d.return=a;else for(d=a;d!==null;){if(d===e){d=null;break}if(a=d.sibling,a!==null){a.return=d.return,d=a;break}d=d.return}a=d}}function Pi(e,t,n,i){e=null;for(var a=t,r=!1;a!==null;){if(!r){if((a.flags&524288)!==0)r=!0;else if((a.flags&262144)!==0)break}if(a.tag===10){var d=a.alternate;if(d===null)throw Error(c(387));if(d=d.memoizedProps,d!==null){var y=a.type;Dt(a.pendingProps.value,d.value)||(e!==null?e.push(y):e=[y])}}else if(a===Se.current){if(d=a.alternate,d===null)throw Error(c(387));d.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e!==null?e.push(ir):e=[ir])}a=a.return}e!==null&&ro(t,e,n,i),t.flags|=262144}function rs(e){for(e=e.firstContext;e!==null;){if(!Dt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function di(e){ui=e,fn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ot(e){return yd(ui,e)}function ss(e,t){return ui===null&&di(e),yd(e,t)}function yd(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},fn===null){if(e===null)throw Error(c(308));fn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else fn=fn.next=t;return n}var Bg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Hg=l.unstable_scheduleCallback,Pg=l.unstable_NormalPriority,Ke={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function so(){return{controller:new Bg,data:new Map,refCount:0}}function Oa(e){e.refCount--,e.refCount===0&&Hg(Pg,function(){e.controller.abort()})}var La=null,co=0,Ii=0,Yi=null;function Ig(e,t){if(La===null){var n=La=[];co=0,Ii=dl(),Yi={status:"pending",value:void 0,then:function(i){n.push(i)}}}return co++,t.then(_d,_d),t}function _d(){if(--co===0&&La!==null){Yi!==null&&(Yi.status="fulfilled");var e=La;La=null,Ii=0,Yi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Yg(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(a){n.push(a)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var a=0;a<n.length;a++)(0,n[a])(t)},function(a){for(i.status="rejected",i.reason=a,a=0;a<n.length;a++)(0,n[a])(void 0)}),i}var bd=O.S;O.S=function(e,t){ap=ce(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Ig(e,t),bd!==null&&bd(e,t)};var fi=j(null);function oo(){var e=fi.current;return e!==null?e:Ie.pooledCache}function cs(e,t){t===null?W(fi,fi.current):W(fi,t.pool)}function Sd(){var e=oo();return e===null?null:{parent:Ke._currentValue,pool:e}}var Vi=Error(c(460)),lo=Error(c(474)),os=Error(c(542)),ls={then:function(){}};function wd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Cd(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(on,on),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Td(e),e;default:if(typeof t.status=="string")t.then(on,on);else{if(e=Ie,e!==null&&100<e.shellSuspendCounter)throw Error(c(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var a=t;a.status="fulfilled",a.value=i}},function(i){if(t.status==="pending"){var a=t;a.status="rejected",a.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Td(e),e}throw hi=t,Vi}}function pi(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(hi=n,Vi):n}}var hi=null;function Ed(){if(hi===null)throw Error(c(459));var e=hi;return hi=null,e}function Td(e){if(e===Vi||e===os)throw Error(c(483))}var Gi=null,ka=0;function us(e){var t=ka;return ka+=1,Gi===null&&(Gi=[]),Cd(Gi,e,t)}function Na(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ds(e,t){throw t.$$typeof===R?Error(c(525)):(e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Rd(e){function t(H,U){if(e){var Y=H.deletions;Y===null?(H.deletions=[U],H.flags|=16):Y.push(U)}}function n(H,U){if(!e)return null;for(;U!==null;)t(H,U),U=U.sibling;return null}function i(H){for(var U=new Map;H!==null;)H.key!==null?U.set(H.key,H):U.set(H.index,H),H=H.sibling;return U}function a(H,U){return H=un(H,U),H.index=0,H.sibling=null,H}function r(H,U,Y){return H.index=Y,e?(Y=H.alternate,Y!==null?(Y=Y.index,Y<U?(H.flags|=67108866,U):Y):(H.flags|=67108866,U)):(H.flags|=1048576,U)}function d(H){return e&&H.alternate===null&&(H.flags|=67108866),H}function y(H,U,Y,K){return U===null||U.tag!==6?(U=Jc(Y,H.mode,K),U.return=H,U):(U=a(U,Y),U.return=H,U)}function N(H,U,Y,K){var me=Y.type;return me===u?F(H,U,Y.props.children,K,Y.key):U!==null&&(U.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===E&&pi(me)===U.type)?(U=a(U,Y.props),Na(U,Y),U.return=H,U):(U=is(Y.type,Y.key,Y.props,null,H.mode,K),Na(U,Y),U.return=H,U)}function V(H,U,Y,K){return U===null||U.tag!==4||U.stateNode.containerInfo!==Y.containerInfo||U.stateNode.implementation!==Y.implementation?(U=$c(Y,H.mode,K),U.return=H,U):(U=a(U,Y.children||[]),U.return=H,U)}function F(H,U,Y,K,me){return U===null||U.tag!==7?(U=oi(Y,H.mode,K,me),U.return=H,U):(U=a(U,Y),U.return=H,U)}function $(H,U,Y){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Jc(""+U,H.mode,Y),U.return=H,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case q:return Y=is(U.type,U.key,U.props,null,H.mode,Y),Na(Y,U),Y.return=H,Y;case z:return U=$c(U,H.mode,Y),U.return=H,U;case E:return U=pi(U),$(H,U,Y)}if(Z(U)||ae(U))return U=oi(U,H.mode,Y,null),U.return=H,U;if(typeof U.then=="function")return $(H,us(U),Y);if(U.$$typeof===L)return $(H,ss(H,U),Y);ds(H,U)}return null}function G(H,U,Y,K){var me=U!==null?U.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return me!==null?null:y(H,U,""+Y,K);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case q:return Y.key===me?N(H,U,Y,K):null;case z:return Y.key===me?V(H,U,Y,K):null;case E:return Y=pi(Y),G(H,U,Y,K)}if(Z(Y)||ae(Y))return me!==null?null:F(H,U,Y,K,null);if(typeof Y.then=="function")return G(H,U,us(Y),K);if(Y.$$typeof===L)return G(H,U,ss(H,Y),K);ds(H,Y)}return null}function X(H,U,Y,K,me){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return H=H.get(Y)||null,y(U,H,""+K,me);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case q:return H=H.get(K.key===null?Y:K.key)||null,N(U,H,K,me);case z:return H=H.get(K.key===null?Y:K.key)||null,V(U,H,K,me);case E:return K=pi(K),X(H,U,Y,K,me)}if(Z(K)||ae(K))return H=H.get(Y)||null,F(U,H,K,me,null);if(typeof K.then=="function")return X(H,U,Y,us(K),me);if(K.$$typeof===L)return X(H,U,Y,ss(U,K),me);ds(U,K)}return null}function de(H,U,Y,K){for(var me=null,Oe=null,fe=U,_e=U=0,De=null;fe!==null&&_e<Y.length;_e++){fe.index>_e?(De=fe,fe=null):De=fe.sibling;var Le=G(H,fe,Y[_e],K);if(Le===null){fe===null&&(fe=De);break}e&&fe&&Le.alternate===null&&t(H,fe),U=r(Le,U,_e),Oe===null?me=Le:Oe.sibling=Le,Oe=Le,fe=De}if(_e===Y.length)return n(H,fe),Me&&dn(H,_e),me;if(fe===null){for(;_e<Y.length;_e++)fe=$(H,Y[_e],K),fe!==null&&(U=r(fe,U,_e),Oe===null?me=fe:Oe.sibling=fe,Oe=fe);return Me&&dn(H,_e),me}for(fe=i(fe);_e<Y.length;_e++)De=X(fe,H,_e,Y[_e],K),De!==null&&(e&&De.alternate!==null&&fe.delete(De.key===null?_e:De.key),U=r(De,U,_e),Oe===null?me=De:Oe.sibling=De,Oe=De);return e&&fe.forEach(function(Jn){return t(H,Jn)}),Me&&dn(H,_e),me}function ge(H,U,Y,K){if(Y==null)throw Error(c(151));for(var me=null,Oe=null,fe=U,_e=U=0,De=null,Le=Y.next();fe!==null&&!Le.done;_e++,Le=Y.next()){fe.index>_e?(De=fe,fe=null):De=fe.sibling;var Jn=G(H,fe,Le.value,K);if(Jn===null){fe===null&&(fe=De);break}e&&fe&&Jn.alternate===null&&t(H,fe),U=r(Jn,U,_e),Oe===null?me=Jn:Oe.sibling=Jn,Oe=Jn,fe=De}if(Le.done)return n(H,fe),Me&&dn(H,_e),me;if(fe===null){for(;!Le.done;_e++,Le=Y.next())Le=$(H,Le.value,K),Le!==null&&(U=r(Le,U,_e),Oe===null?me=Le:Oe.sibling=Le,Oe=Le);return Me&&dn(H,_e),me}for(fe=i(fe);!Le.done;_e++,Le=Y.next())Le=X(fe,H,_e,Le.value,K),Le!==null&&(e&&Le.alternate!==null&&fe.delete(Le.key===null?_e:Le.key),U=r(Le,U,_e),Oe===null?me=Le:Oe.sibling=Le,Oe=Le);return e&&fe.forEach(function(ey){return t(H,ey)}),Me&&dn(H,_e),me}function He(H,U,Y,K){if(typeof Y=="object"&&Y!==null&&Y.type===u&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case q:e:{for(var me=Y.key;U!==null;){if(U.key===me){if(me=Y.type,me===u){if(U.tag===7){n(H,U.sibling),K=a(U,Y.props.children),K.return=H,H=K;break e}}else if(U.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===E&&pi(me)===U.type){n(H,U.sibling),K=a(U,Y.props),Na(K,Y),K.return=H,H=K;break e}n(H,U);break}else t(H,U);U=U.sibling}Y.type===u?(K=oi(Y.props.children,H.mode,K,Y.key),K.return=H,H=K):(K=is(Y.type,Y.key,Y.props,null,H.mode,K),Na(K,Y),K.return=H,H=K)}return d(H);case z:e:{for(me=Y.key;U!==null;){if(U.key===me)if(U.tag===4&&U.stateNode.containerInfo===Y.containerInfo&&U.stateNode.implementation===Y.implementation){n(H,U.sibling),K=a(U,Y.children||[]),K.return=H,H=K;break e}else{n(H,U);break}else t(H,U);U=U.sibling}K=$c(Y,H.mode,K),K.return=H,H=K}return d(H);case E:return Y=pi(Y),He(H,U,Y,K)}if(Z(Y))return de(H,U,Y,K);if(ae(Y)){if(me=ae(Y),typeof me!="function")throw Error(c(150));return Y=me.call(Y),ge(H,U,Y,K)}if(typeof Y.then=="function")return He(H,U,us(Y),K);if(Y.$$typeof===L)return He(H,U,ss(H,Y),K);ds(H,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,U!==null&&U.tag===6?(n(H,U.sibling),K=a(U,Y),K.return=H,H=K):(n(H,U),K=Jc(Y,H.mode,K),K.return=H,H=K),d(H)):n(H,U)}return function(H,U,Y,K){try{ka=0;var me=He(H,U,Y,K);return Gi=null,me}catch(fe){if(fe===Vi||fe===os)throw fe;var Oe=xt(29,fe,null,H.mode);return Oe.lanes=K,Oe.return=H,Oe}}}var mi=Rd(!0),Dd=Rd(!1),Nn=!1;function uo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function zn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function jn(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(ke&2)!==0){var a=i.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),i.pending=t,t=ns(e),ud(e,null,n),t}return ts(e,i,t,n),ns(e)}function za(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,yu(e,n)}}function po(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var a=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var d={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?a=r=d:r=r.next=d,n=n.next}while(n!==null);r===null?a=r=t:r=r.next=t}else a=r=t;n={baseState:i.baseState,firstBaseUpdate:a,lastBaseUpdate:r,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ho=!1;function ja(){if(ho){var e=Yi;if(e!==null)throw e}}function Ua(e,t,n,i){ho=!1;var a=e.updateQueue;Nn=!1;var r=a.firstBaseUpdate,d=a.lastBaseUpdate,y=a.shared.pending;if(y!==null){a.shared.pending=null;var N=y,V=N.next;N.next=null,d===null?r=V:d.next=V,d=N;var F=e.alternate;F!==null&&(F=F.updateQueue,y=F.lastBaseUpdate,y!==d&&(y===null?F.firstBaseUpdate=V:y.next=V,F.lastBaseUpdate=N))}if(r!==null){var $=a.baseState;d=0,F=V=N=null,y=r;do{var G=y.lane&-536870913,X=G!==y.lane;if(X?(Re&G)===G:(i&G)===G){G!==0&&G===Ii&&(ho=!0),F!==null&&(F=F.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var de=e,ge=y;G=t;var He=n;switch(ge.tag){case 1:if(de=ge.payload,typeof de=="function"){$=de.call(He,$,G);break e}$=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=ge.payload,G=typeof de=="function"?de.call(He,$,G):de,G==null)break e;$=S({},$,G);break e;case 2:Nn=!0}}G=y.callback,G!==null&&(e.flags|=64,X&&(e.flags|=8192),X=a.callbacks,X===null?a.callbacks=[G]:X.push(G))}else X={lane:G,tag:y.tag,payload:y.payload,callback:y.callback,next:null},F===null?(V=F=X,N=$):F=F.next=X,d|=G;if(y=y.next,y===null){if(y=a.shared.pending,y===null)break;X=y,y=X.next,X.next=null,a.lastBaseUpdate=X,a.shared.pending=null}}while(!0);F===null&&(N=$),a.baseState=N,a.firstBaseUpdate=V,a.lastBaseUpdate=F,r===null&&(a.shared.lanes=0),Pn|=d,e.lanes=d,e.memoizedState=$}}function xd(e,t){if(typeof e!="function")throw Error(c(191,e));e.call(t)}function Md(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)xd(n[e],t)}var Qi=j(null),fs=j(0);function Ad(e,t){e=wn,W(fs,e),W(Qi,t),wn=e|t.baseLanes}function mo(){W(fs,wn),W(Qi,Qi.current)}function go(){wn=fs.current,I(Qi),I(fs)}var Mt=j(null),It=null;function Un(e){var t=e.alternate;W(Fe,Fe.current&1),W(Mt,e),It===null&&(t===null||Qi.current!==null||t.memoizedState!==null)&&(It=e)}function vo(e){W(Fe,Fe.current),W(Mt,e),It===null&&(It=e)}function Od(e){e.tag===22?(W(Fe,Fe.current),W(Mt,e),It===null&&(It=e)):qn()}function qn(){W(Fe,Fe.current),W(Mt,Mt.current)}function At(e){I(Mt),It===e&&(It=null),I(Fe)}var Fe=j(0);function ps(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Cl(n)||El(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hn=0,ye=null,qe=null,Je=null,hs=!1,Xi=!1,gi=!1,ms=0,qa=0,Fi=null,Vg=0;function Qe(){throw Error(c(321))}function yo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Dt(e[n],t[n]))return!1;return!0}function _o(e,t,n,i,a,r){return hn=r,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=e===null||e.memoizedState===null?mf:No,gi=!1,r=n(i,a),gi=!1,Xi&&(r=kd(t,n,i,a)),Ld(e),r}function Ld(e){O.H=Pa;var t=qe!==null&&qe.next!==null;if(hn=0,Je=qe=ye=null,hs=!1,qa=0,Fi=null,t)throw Error(c(300));e===null||$e||(e=e.dependencies,e!==null&&rs(e)&&($e=!0))}function kd(e,t,n,i){ye=e;var a=0;do{if(Xi&&(Fi=null),qa=0,Xi=!1,25<=a)throw Error(c(301));if(a+=1,Je=qe=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}O.H=gf,r=t(n,i)}while(Xi);return r}function Gg(){var e=O.H,t=e.useState()[0];return t=typeof t.then=="function"?Ba(t):t,e=e.useState()[0],(qe!==null?qe.memoizedState:null)!==e&&(ye.flags|=1024),t}function bo(){var e=ms!==0;return ms=0,e}function So(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function wo(e){if(hs){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}hs=!1}hn=0,Je=qe=ye=null,Xi=!1,qa=ms=0,Fi=null}function pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?ye.memoizedState=Je=e:Je=Je.next=e,Je}function Ze(){if(qe===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=qe.next;var t=Je===null?ye.memoizedState:Je.next;if(t!==null)Je=t,qe=e;else{if(e===null)throw ye.alternate===null?Error(c(467)):Error(c(310));qe=e,e={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},Je===null?ye.memoizedState=Je=e:Je=Je.next=e}return Je}function gs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ba(e){var t=qa;return qa+=1,Fi===null&&(Fi=[]),e=Cd(Fi,e,t),t=ye,(Je===null?t.memoizedState:Je.next)===null&&(t=t.alternate,O.H=t===null||t.memoizedState===null?mf:No),e}function vs(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ba(e);if(e.$$typeof===L)return ot(e)}throw Error(c(438,String(e)))}function Co(e){var t=null,n=ye.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=ye.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(a){return a.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=gs(),ye.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=B;return t.index++,n}function mn(e,t){return typeof t=="function"?t(e):t}function ys(e){var t=Ze();return Eo(t,qe,e)}function Eo(e,t,n){var i=e.queue;if(i===null)throw Error(c(311));i.lastRenderedReducer=n;var a=e.baseQueue,r=i.pending;if(r!==null){if(a!==null){var d=a.next;a.next=r.next,r.next=d}t.baseQueue=a=r,i.pending=null}if(r=e.baseState,a===null)e.memoizedState=r;else{t=a.next;var y=d=null,N=null,V=t,F=!1;do{var $=V.lane&-536870913;if($!==V.lane?(Re&$)===$:(hn&$)===$){var G=V.revertLane;if(G===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),$===Ii&&(F=!0);else if((hn&G)===G){V=V.next,G===Ii&&(F=!0);continue}else $={lane:0,revertLane:V.revertLane,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},N===null?(y=N=$,d=r):N=N.next=$,ye.lanes|=G,Pn|=G;$=V.action,gi&&n(r,$),r=V.hasEagerState?V.eagerState:n(r,$)}else G={lane:$,revertLane:V.revertLane,gesture:V.gesture,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},N===null?(y=N=G,d=r):N=N.next=G,ye.lanes|=$,Pn|=$;V=V.next}while(V!==null&&V!==t);if(N===null?d=r:N.next=y,!Dt(r,e.memoizedState)&&($e=!0,F&&(n=Yi,n!==null)))throw n;e.memoizedState=r,e.baseState=d,e.baseQueue=N,i.lastRenderedState=r}return a===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function To(e){var t=Ze(),n=t.queue;if(n===null)throw Error(c(311));n.lastRenderedReducer=e;var i=n.dispatch,a=n.pending,r=t.memoizedState;if(a!==null){n.pending=null;var d=a=a.next;do r=e(r,d.action),d=d.next;while(d!==a);Dt(r,t.memoizedState)||($e=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),n.lastRenderedState=r}return[r,i]}function Nd(e,t,n){var i=ye,a=Ze(),r=Me;if(r){if(n===void 0)throw Error(c(407));n=n()}else n=t();var d=!Dt((qe||a).memoizedState,n);if(d&&(a.memoizedState=n,$e=!0),a=a.queue,xo(Ud.bind(null,i,a,e),[e]),a.getSnapshot!==t||d||Je!==null&&Je.memoizedState.tag&1){if(i.flags|=2048,Zi(9,{destroy:void 0},jd.bind(null,i,a,n,t),null),Ie===null)throw Error(c(349));r||(hn&127)!==0||zd(i,t,n)}return n}function zd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ye.updateQueue,t===null?(t=gs(),ye.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function jd(e,t,n,i){t.value=n,t.getSnapshot=i,qd(t)&&Bd(e)}function Ud(e,t,n){return n(function(){qd(t)&&Bd(e)})}function qd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Dt(e,n)}catch{return!0}}function Bd(e){var t=ci(e,2);t!==null&&wt(t,e,2)}function Ro(e){var t=pt();if(typeof e=="function"){var n=e;if(e=n(),gi){Dn(!0);try{n()}finally{Dn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mn,lastRenderedState:e},t}function Hd(e,t,n,i){return e.baseState=n,Eo(e,qe,typeof i=="function"?i:mn)}function Qg(e,t,n,i,a){if(Ss(e))throw Error(c(485));if(e=t.action,e!==null){var r={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){r.listeners.push(d)}};O.T!==null?n(!0):r.isTransition=!1,i(r),n=t.pending,n===null?(r.next=t.pending=r,Pd(t,r)):(r.next=n.next,t.pending=n.next=r)}}function Pd(e,t){var n=t.action,i=t.payload,a=e.state;if(t.isTransition){var r=O.T,d={};O.T=d;try{var y=n(a,i),N=O.S;N!==null&&N(d,y),Id(e,t,y)}catch(V){Do(e,t,V)}finally{r!==null&&d.types!==null&&(r.types=d.types),O.T=r}}else try{r=n(a,i),Id(e,t,r)}catch(V){Do(e,t,V)}}function Id(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Yd(e,t,i)},function(i){return Do(e,t,i)}):Yd(e,t,n)}function Yd(e,t,n){t.status="fulfilled",t.value=n,Vd(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Pd(e,n)))}function Do(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,Vd(t),t=t.next;while(t!==i)}e.action=null}function Vd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Gd(e,t){return t}function Qd(e,t){if(Me){var n=Ie.formState;if(n!==null){e:{var i=ye;if(Me){if(Ye){t:{for(var a=Ye,r=Pt;a.nodeType!==8;){if(!r){a=null;break t}if(a=Yt(a.nextSibling),a===null){a=null;break t}}r=a.data,a=r==="F!"||r==="F"?a:null}if(a){Ye=Yt(a.nextSibling),i=a.data==="F!";break e}}Ln(i)}i=!1}i&&(t=n[0])}}return n=pt(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gd,lastRenderedState:t},n.queue=i,n=ff.bind(null,ye,i),i.dispatch=n,i=Ro(!1),r=ko.bind(null,ye,!1,i.queue),i=pt(),a={state:t,dispatch:null,action:e,pending:null},i.queue=a,n=Qg.bind(null,ye,a,r,n),a.dispatch=n,i.memoizedState=e,[t,n,!1]}function Xd(e){var t=Ze();return Fd(t,qe,e)}function Fd(e,t,n){if(t=Eo(e,t,Gd)[0],e=ys(mn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Ba(t)}catch(d){throw d===Vi?os:d}else i=t;t=Ze();var a=t.queue,r=a.dispatch;return n!==t.memoizedState&&(ye.flags|=2048,Zi(9,{destroy:void 0},Xg.bind(null,a,n),null)),[i,r,e]}function Xg(e,t){e.action=t}function Zd(e){var t=Ze(),n=qe;if(n!==null)return Fd(t,n,e);Ze(),t=t.memoizedState,n=Ze();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Zi(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=ye.updateQueue,t===null&&(t=gs(),ye.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Kd(){return Ze().memoizedState}function _s(e,t,n,i){var a=pt();ye.flags|=e,a.memoizedState=Zi(1|t,{destroy:void 0},n,i===void 0?null:i)}function bs(e,t,n,i){var a=Ze();i=i===void 0?null:i;var r=a.memoizedState.inst;qe!==null&&i!==null&&yo(i,qe.memoizedState.deps)?a.memoizedState=Zi(t,r,n,i):(ye.flags|=e,a.memoizedState=Zi(1|t,r,n,i))}function Jd(e,t){_s(8390656,8,e,t)}function xo(e,t){bs(2048,8,e,t)}function Fg(e){ye.flags|=4;var t=ye.updateQueue;if(t===null)t=gs(),ye.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function $d(e){var t=Ze().memoizedState;return Fg({ref:t,nextImpl:e}),function(){if((ke&2)!==0)throw Error(c(440));return t.impl.apply(void 0,arguments)}}function Wd(e,t){return bs(4,2,e,t)}function ef(e,t){return bs(4,4,e,t)}function tf(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nf(e,t,n){n=n!=null?n.concat([e]):null,bs(4,4,tf.bind(null,t,e),n)}function Mo(){}function af(e,t){var n=Ze();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&yo(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function rf(e,t){var n=Ze();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&yo(t,i[1]))return i[0];if(i=e(),gi){Dn(!0);try{e()}finally{Dn(!1)}}return n.memoizedState=[i,t],i}function Ao(e,t,n){return n===void 0||(hn&1073741824)!==0&&(Re&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=sp(),ye.lanes|=e,Pn|=e,n)}function sf(e,t,n,i){return Dt(n,t)?n:Qi.current!==null?(e=Ao(e,n,i),Dt(e,t)||($e=!0),e):(hn&42)===0||(hn&1073741824)!==0&&(Re&261930)===0?($e=!0,e.memoizedState=n):(e=sp(),ye.lanes|=e,Pn|=e,t)}function cf(e,t,n,i,a){var r=P.p;P.p=r!==0&&8>r?r:8;var d=O.T,y={};O.T=y,ko(e,!1,t,n);try{var N=a(),V=O.S;if(V!==null&&V(y,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var F=Yg(N,i);Ha(e,t,F,kt(e))}else Ha(e,t,i,kt(e))}catch($){Ha(e,t,{then:function(){},status:"rejected",reason:$},kt())}finally{P.p=r,d!==null&&y.types!==null&&(d.types=y.types),O.T=d}}function Zg(){}function Oo(e,t,n,i){if(e.tag!==5)throw Error(c(476));var a=of(e).queue;cf(e,a,t,J,n===null?Zg:function(){return lf(e),n(i)})}function of(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mn,lastRenderedState:J},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function lf(e){var t=of(e);t.next===null&&(t=e.alternate.memoizedState),Ha(e,t.next.queue,{},kt())}function Lo(){return ot(ir)}function uf(){return Ze().memoizedState}function df(){return Ze().memoizedState}function Kg(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=kt();e=zn(n);var i=jn(t,e,n);i!==null&&(wt(i,t,n),za(i,t,n)),t={cache:so()},e.payload=t;return}t=t.return}}function Jg(e,t,n){var i=kt();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ss(e)?pf(t,n):(n=Zc(e,t,n,i),n!==null&&(wt(n,e,i),hf(n,t,i)))}function ff(e,t,n){var i=kt();Ha(e,t,n,i)}function Ha(e,t,n,i){var a={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ss(e))pf(t,a);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var d=t.lastRenderedState,y=r(d,n);if(a.hasEagerState=!0,a.eagerState=y,Dt(y,d))return ts(e,t,a,0),Ie===null&&es(),!1}catch{}if(n=Zc(e,t,a,i),n!==null)return wt(n,e,i),hf(n,t,i),!0}return!1}function ko(e,t,n,i){if(i={lane:2,revertLane:dl(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Ss(e)){if(t)throw Error(c(479))}else t=Zc(e,n,i,2),t!==null&&wt(t,e,2)}function Ss(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function pf(e,t){Xi=hs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function hf(e,t,n){if((n&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,yu(e,n)}}var Pa={readContext:ot,use:vs,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useLayoutEffect:Qe,useInsertionEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useSyncExternalStore:Qe,useId:Qe,useHostTransitionStatus:Qe,useFormState:Qe,useActionState:Qe,useOptimistic:Qe,useMemoCache:Qe,useCacheRefresh:Qe};Pa.useEffectEvent=Qe;var mf={readContext:ot,use:vs,useCallback:function(e,t){return pt().memoizedState=[e,t===void 0?null:t],e},useContext:ot,useEffect:Jd,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,_s(4194308,4,tf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _s(4194308,4,e,t)},useInsertionEffect:function(e,t){_s(4,2,e,t)},useMemo:function(e,t){var n=pt();t=t===void 0?null:t;var i=e();if(gi){Dn(!0);try{e()}finally{Dn(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=pt();if(n!==void 0){var a=n(t);if(gi){Dn(!0);try{n(t)}finally{Dn(!1)}}}else a=t;return i.memoizedState=i.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},i.queue=e,e=e.dispatch=Jg.bind(null,ye,e),[i.memoizedState,e]},useRef:function(e){var t=pt();return e={current:e},t.memoizedState=e},useState:function(e){e=Ro(e);var t=e.queue,n=ff.bind(null,ye,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Mo,useDeferredValue:function(e,t){var n=pt();return Ao(n,e,t)},useTransition:function(){var e=Ro(!1);return e=cf.bind(null,ye,e.queue,!0,!1),pt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=ye,a=pt();if(Me){if(n===void 0)throw Error(c(407));n=n()}else{if(n=t(),Ie===null)throw Error(c(349));(Re&127)!==0||zd(i,t,n)}a.memoizedState=n;var r={value:n,getSnapshot:t};return a.queue=r,Jd(Ud.bind(null,i,r,e),[e]),i.flags|=2048,Zi(9,{destroy:void 0},jd.bind(null,i,r,n,t),null),n},useId:function(){var e=pt(),t=Ie.identifierPrefix;if(Me){var n=en,i=Wt;n=(i&~(1<<32-Rt(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=ms++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Vg++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Lo,useFormState:Qd,useActionState:Qd,useOptimistic:function(e){var t=pt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ko.bind(null,ye,!0,n),n.dispatch=t,[e,t]},useMemoCache:Co,useCacheRefresh:function(){return pt().memoizedState=Kg.bind(null,ye)},useEffectEvent:function(e){var t=pt(),n={impl:e};return t.memoizedState=n,function(){if((ke&2)!==0)throw Error(c(440));return n.impl.apply(void 0,arguments)}}},No={readContext:ot,use:vs,useCallback:af,useContext:ot,useEffect:xo,useImperativeHandle:nf,useInsertionEffect:Wd,useLayoutEffect:ef,useMemo:rf,useReducer:ys,useRef:Kd,useState:function(){return ys(mn)},useDebugValue:Mo,useDeferredValue:function(e,t){var n=Ze();return sf(n,qe.memoizedState,e,t)},useTransition:function(){var e=ys(mn)[0],t=Ze().memoizedState;return[typeof e=="boolean"?e:Ba(e),t]},useSyncExternalStore:Nd,useId:uf,useHostTransitionStatus:Lo,useFormState:Xd,useActionState:Xd,useOptimistic:function(e,t){var n=Ze();return Hd(n,qe,e,t)},useMemoCache:Co,useCacheRefresh:df};No.useEffectEvent=$d;var gf={readContext:ot,use:vs,useCallback:af,useContext:ot,useEffect:xo,useImperativeHandle:nf,useInsertionEffect:Wd,useLayoutEffect:ef,useMemo:rf,useReducer:To,useRef:Kd,useState:function(){return To(mn)},useDebugValue:Mo,useDeferredValue:function(e,t){var n=Ze();return qe===null?Ao(n,e,t):sf(n,qe.memoizedState,e,t)},useTransition:function(){var e=To(mn)[0],t=Ze().memoizedState;return[typeof e=="boolean"?e:Ba(e),t]},useSyncExternalStore:Nd,useId:uf,useHostTransitionStatus:Lo,useFormState:Zd,useActionState:Zd,useOptimistic:function(e,t){var n=Ze();return qe!==null?Hd(n,qe,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Co,useCacheRefresh:df};gf.useEffectEvent=$d;function zo(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:S({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var jo={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=kt(),a=zn(i);a.payload=t,n!=null&&(a.callback=n),t=jn(e,a,i),t!==null&&(wt(t,e,i),za(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=kt(),a=zn(i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=jn(e,a,i),t!==null&&(wt(t,e,i),za(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=kt(),i=zn(n);i.tag=2,t!=null&&(i.callback=t),t=jn(e,i,n),t!==null&&(wt(t,e,n),za(t,e,n))}};function vf(e,t,n,i,a,r,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,r,d):t.prototype&&t.prototype.isPureReactComponent?!Da(n,i)||!Da(a,r):!0}function yf(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&jo.enqueueReplaceState(t,t.state,null)}function vi(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=S({},n));for(var a in e)n[a]===void 0&&(n[a]=e[a])}return n}function _f(e){Wr(e)}function bf(e){console.error(e)}function Sf(e){Wr(e)}function ws(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function wf(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function Uo(e,t,n){return n=zn(n),n.tag=3,n.payload={element:null},n.callback=function(){ws(e,t)},n}function Cf(e){return e=zn(e),e.tag=3,e}function Ef(e,t,n,i){var a=n.type.getDerivedStateFromError;if(typeof a=="function"){var r=i.value;e.payload=function(){return a(r)},e.callback=function(){wf(t,n,i)}}var d=n.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){wf(t,n,i),typeof a!="function"&&(In===null?In=new Set([this]):In.add(this));var y=i.stack;this.componentDidCatch(i.value,{componentStack:y!==null?y:""})})}function $g(e,t,n,i,a){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Pi(t,n,a,!0),n=Mt.current,n!==null){switch(n.tag){case 31:case 13:return It===null?Ns():n.alternate===null&&Xe===0&&(Xe=3),n.flags&=-257,n.flags|=65536,n.lanes=a,i===ls?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),ol(e,i,a)),!1;case 22:return n.flags|=65536,i===ls?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),ol(e,i,a)),!1}throw Error(c(435,n.tag))}return ol(e,i,a),Ns(),!1}if(Me)return t=Mt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=a,i!==to&&(e=Error(c(422),{cause:i}),Aa(qt(e,n)))):(i!==to&&(t=Error(c(423),{cause:i}),Aa(qt(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,i=qt(i,n),a=Uo(e.stateNode,i,a),po(e,a),Xe!==4&&(Xe=2)),!1;var r=Error(c(520),{cause:i});if(r=qt(r,n),Za===null?Za=[r]:Za.push(r),Xe!==4&&(Xe=2),t===null)return!0;i=qt(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=Uo(n.stateNode,i,e),po(n,e),!1;case 1:if(t=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(In===null||!In.has(r))))return n.flags|=65536,a&=-a,n.lanes|=a,a=Cf(a),Ef(a,e,n,i),po(n,a),!1}n=n.return}while(n!==null);return!1}var qo=Error(c(461)),$e=!1;function lt(e,t,n,i){t.child=e===null?Dd(t,null,n,i):mi(t,e.child,n,i)}function Tf(e,t,n,i,a){n=n.render;var r=t.ref;if("ref"in i){var d={};for(var y in i)y!=="ref"&&(d[y]=i[y])}else d=i;return di(t),i=_o(e,t,n,d,r,a),y=bo(),e!==null&&!$e?(So(e,t,a),gn(e,t,a)):(Me&&y&&Wc(t),t.flags|=1,lt(e,t,i,a),t.child)}function Rf(e,t,n,i,a){if(e===null){var r=n.type;return typeof r=="function"&&!Kc(r)&&r.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=r,Df(e,t,r,i,a)):(e=is(n.type,null,i,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!Qo(e,a)){var d=r.memoizedProps;if(n=n.compare,n=n!==null?n:Da,n(d,i)&&e.ref===t.ref)return gn(e,t,a)}return t.flags|=1,e=un(r,i),e.ref=t.ref,e.return=t,t.child=e}function Df(e,t,n,i,a){if(e!==null){var r=e.memoizedProps;if(Da(r,i)&&e.ref===t.ref)if($e=!1,t.pendingProps=i=r,Qo(e,a))(e.flags&131072)!==0&&($e=!0);else return t.lanes=e.lanes,gn(e,t,a)}return Bo(e,t,n,i,a)}function xf(e,t,n,i){var a=i.children,r=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((t.flags&128)!==0){if(r=r!==null?r.baseLanes|n:n,e!==null){for(i=t.child=e.child,a=0;i!==null;)a=a|i.lanes|i.childLanes,i=i.sibling;i=a&~r}else i=0,t.child=null;return Mf(e,t,r,n,i)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&cs(t,r!==null?r.cachePool:null),r!==null?Ad(t,r):mo(),Od(t);else return i=t.lanes=536870912,Mf(e,t,r!==null?r.baseLanes|n:n,n,i)}else r!==null?(cs(t,r.cachePool),Ad(t,r),qn(),t.memoizedState=null):(e!==null&&cs(t,null),mo(),qn());return lt(e,t,a,n),t.child}function Ia(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Mf(e,t,n,i,a){var r=oo();return r=r===null?null:{parent:Ke._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&cs(t,null),mo(),Od(t),e!==null&&Pi(e,t,i,!0),t.childLanes=a,null}function Cs(e,t){return t=Ts({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Af(e,t,n){return mi(t,e.child,null,n),e=Cs(t,t.pendingProps),e.flags|=2,At(t),t.memoizedState=null,e}function Wg(e,t,n){var i=t.pendingProps,a=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Me){if(i.mode==="hidden")return e=Cs(t,i),t.lanes=536870912,Ia(null,e);if(vo(t),(e=Ye)?(e=Ip(e,Pt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:An!==null?{id:Wt,overflow:en}:null,retryLane:536870912,hydrationErrors:null},n=fd(e),n.return=t,t.child=n,ct=t,Ye=null)):e=null,e===null)throw Ln(t);return t.lanes=536870912,null}return Cs(t,i)}var r=e.memoizedState;if(r!==null){var d=r.dehydrated;if(vo(t),a)if(t.flags&256)t.flags&=-257,t=Af(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(c(558));else if($e||Pi(e,t,n,!1),a=(n&e.childLanes)!==0,$e||a){if(i=Ie,i!==null&&(d=_u(i,n),d!==0&&d!==r.retryLane))throw r.retryLane=d,ci(e,d),wt(i,e,d),qo;Ns(),t=Af(e,t,n)}else e=r.treeContext,Ye=Yt(d.nextSibling),ct=t,Me=!0,On=null,Pt=!1,e!==null&&md(t,e),t=Cs(t,i),t.flags|=4096;return t}return e=un(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Es(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(c(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Bo(e,t,n,i,a){return di(t),n=_o(e,t,n,i,void 0,a),i=bo(),e!==null&&!$e?(So(e,t,a),gn(e,t,a)):(Me&&i&&Wc(t),t.flags|=1,lt(e,t,n,a),t.child)}function Of(e,t,n,i,a,r){return di(t),t.updateQueue=null,n=kd(t,i,n,a),Ld(e),i=bo(),e!==null&&!$e?(So(e,t,r),gn(e,t,r)):(Me&&i&&Wc(t),t.flags|=1,lt(e,t,n,r),t.child)}function Lf(e,t,n,i,a){if(di(t),t.stateNode===null){var r=Ui,d=n.contextType;typeof d=="object"&&d!==null&&(r=ot(d)),r=new n(i,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=jo,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=i,r.state=t.memoizedState,r.refs={},uo(t),d=n.contextType,r.context=typeof d=="object"&&d!==null?ot(d):Ui,r.state=t.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(zo(t,n,d,i),r.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(d=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),d!==r.state&&jo.enqueueReplaceState(r,r.state,null),Ua(t,i,r,a),ja(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){r=t.stateNode;var y=t.memoizedProps,N=vi(n,y);r.props=N;var V=r.context,F=n.contextType;d=Ui,typeof F=="object"&&F!==null&&(d=ot(F));var $=n.getDerivedStateFromProps;F=typeof $=="function"||typeof r.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,F||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(y||V!==d)&&yf(t,r,i,d),Nn=!1;var G=t.memoizedState;r.state=G,Ua(t,i,r,a),ja(),V=t.memoizedState,y||G!==V||Nn?(typeof $=="function"&&(zo(t,n,$,i),V=t.memoizedState),(N=Nn||vf(t,n,N,i,G,V,d))?(F||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=V),r.props=i,r.state=V,r.context=d,i=N):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{r=t.stateNode,fo(e,t),d=t.memoizedProps,F=vi(n,d),r.props=F,$=t.pendingProps,G=r.context,V=n.contextType,N=Ui,typeof V=="object"&&V!==null&&(N=ot(V)),y=n.getDerivedStateFromProps,(V=typeof y=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(d!==$||G!==N)&&yf(t,r,i,N),Nn=!1,G=t.memoizedState,r.state=G,Ua(t,i,r,a),ja();var X=t.memoizedState;d!==$||G!==X||Nn||e!==null&&e.dependencies!==null&&rs(e.dependencies)?(typeof y=="function"&&(zo(t,n,y,i),X=t.memoizedState),(F=Nn||vf(t,n,F,i,G,X,N)||e!==null&&e.dependencies!==null&&rs(e.dependencies))?(V||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(i,X,N),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(i,X,N)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||d===e.memoizedProps&&G===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&G===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=X),r.props=i,r.state=X,r.context=N,i=F):(typeof r.componentDidUpdate!="function"||d===e.memoizedProps&&G===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&G===e.memoizedState||(t.flags|=1024),i=!1)}return r=i,Es(e,t),i=(t.flags&128)!==0,r||i?(r=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&i?(t.child=mi(t,e.child,null,a),t.child=mi(t,null,n,a)):lt(e,t,n,a),t.memoizedState=r.state,e=t.child):e=gn(e,t,a),e}function kf(e,t,n,i){return li(),t.flags|=256,lt(e,t,n,i),t.child}var Ho={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Po(e){return{baseLanes:e,cachePool:Sd()}}function Io(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Lt),e}function Nf(e,t,n){var i=t.pendingProps,a=!1,r=(t.flags&128)!==0,d;if((d=r)||(d=e!==null&&e.memoizedState===null?!1:(Fe.current&2)!==0),d&&(a=!0,t.flags&=-129),d=(t.flags&32)!==0,t.flags&=-33,e===null){if(Me){if(a?Un(t):qn(),(e=Ye)?(e=Ip(e,Pt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:An!==null?{id:Wt,overflow:en}:null,retryLane:536870912,hydrationErrors:null},n=fd(e),n.return=t,t.child=n,ct=t,Ye=null)):e=null,e===null)throw Ln(t);return El(e)?t.lanes=32:t.lanes=536870912,null}var y=i.children;return i=i.fallback,a?(qn(),a=t.mode,y=Ts({mode:"hidden",children:y},a),i=oi(i,a,n,null),y.return=t,i.return=t,y.sibling=i,t.child=y,i=t.child,i.memoizedState=Po(n),i.childLanes=Io(e,d,n),t.memoizedState=Ho,Ia(null,i)):(Un(t),Yo(t,y))}var N=e.memoizedState;if(N!==null&&(y=N.dehydrated,y!==null)){if(r)t.flags&256?(Un(t),t.flags&=-257,t=Vo(e,t,n)):t.memoizedState!==null?(qn(),t.child=e.child,t.flags|=128,t=null):(qn(),y=i.fallback,a=t.mode,i=Ts({mode:"visible",children:i.children},a),y=oi(y,a,n,null),y.flags|=2,i.return=t,y.return=t,i.sibling=y,t.child=i,mi(t,e.child,null,n),i=t.child,i.memoizedState=Po(n),i.childLanes=Io(e,d,n),t.memoizedState=Ho,t=Ia(null,i));else if(Un(t),El(y)){if(d=y.nextSibling&&y.nextSibling.dataset,d)var V=d.dgst;d=V,i=Error(c(419)),i.stack="",i.digest=d,Aa({value:i,source:null,stack:null}),t=Vo(e,t,n)}else if($e||Pi(e,t,n,!1),d=(n&e.childLanes)!==0,$e||d){if(d=Ie,d!==null&&(i=_u(d,n),i!==0&&i!==N.retryLane))throw N.retryLane=i,ci(e,i),wt(d,e,i),qo;Cl(y)||Ns(),t=Vo(e,t,n)}else Cl(y)?(t.flags|=192,t.child=e.child,t=null):(e=N.treeContext,Ye=Yt(y.nextSibling),ct=t,Me=!0,On=null,Pt=!1,e!==null&&md(t,e),t=Yo(t,i.children),t.flags|=4096);return t}return a?(qn(),y=i.fallback,a=t.mode,N=e.child,V=N.sibling,i=un(N,{mode:"hidden",children:i.children}),i.subtreeFlags=N.subtreeFlags&65011712,V!==null?y=un(V,y):(y=oi(y,a,n,null),y.flags|=2),y.return=t,i.return=t,i.sibling=y,t.child=i,Ia(null,i),i=t.child,y=e.child.memoizedState,y===null?y=Po(n):(a=y.cachePool,a!==null?(N=Ke._currentValue,a=a.parent!==N?{parent:N,pool:N}:a):a=Sd(),y={baseLanes:y.baseLanes|n,cachePool:a}),i.memoizedState=y,i.childLanes=Io(e,d,n),t.memoizedState=Ho,Ia(e.child,i)):(Un(t),n=e.child,e=n.sibling,n=un(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(d=t.deletions,d===null?(t.deletions=[e],t.flags|=16):d.push(e)),t.child=n,t.memoizedState=null,n)}function Yo(e,t){return t=Ts({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ts(e,t){return e=xt(22,e,null,t),e.lanes=0,e}function Vo(e,t,n){return mi(t,e.child,null,n),e=Yo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function zf(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),ao(e.return,t,n)}function Go(e,t,n,i,a,r){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:a,treeForkCount:r}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=i,d.tail=n,d.tailMode=a,d.treeForkCount=r)}function jf(e,t,n){var i=t.pendingProps,a=i.revealOrder,r=i.tail;i=i.children;var d=Fe.current,y=(d&2)!==0;if(y?(d=d&1|2,t.flags|=128):d&=1,W(Fe,d),lt(e,t,i,n),i=Me?Ma:0,!y&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zf(e,n,t);else if(e.tag===19)zf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&ps(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Go(t,!1,a,n,r,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&ps(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Go(t,!0,n,null,r,i);break;case"together":Go(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function gn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Pn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Pi(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,n=un(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=un(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Qo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&rs(e)))}function ev(e,t,n){switch(t.tag){case 3:te(t,t.stateNode.containerInfo),kn(t,Ke,e.memoizedState.cache),li();break;case 27:case 5:we(t);break;case 4:te(t,t.stateNode.containerInfo);break;case 10:kn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,vo(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Un(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Nf(e,t,n):(Un(t),e=gn(e,t,n),e!==null?e.sibling:null);Un(t);break;case 19:var a=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Pi(e,t,n,!1),i=(n&t.childLanes)!==0),a){if(i)return jf(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),W(Fe,Fe.current),i)break;return null;case 22:return t.lanes=0,xf(e,t,n,t.pendingProps);case 24:kn(t,Ke,e.memoizedState.cache)}return gn(e,t,n)}function Uf(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)$e=!0;else{if(!Qo(e,n)&&(t.flags&128)===0)return $e=!1,ev(e,t,n);$e=(e.flags&131072)!==0}else $e=!1,Me&&(t.flags&1048576)!==0&&hd(t,Ma,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=pi(t.elementType),t.type=e,typeof e=="function")Kc(e)?(i=vi(e,i),t.tag=1,t=Lf(null,t,e,i,n)):(t.tag=0,t=Bo(null,t,e,i,n));else{if(e!=null){var a=e.$$typeof;if(a===D){t.tag=11,t=Tf(null,t,e,i,n);break e}else if(a===h){t.tag=14,t=Rf(null,t,e,i,n);break e}}throw t=Q(e)||e,Error(c(306,t,""))}}return t;case 0:return Bo(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,a=vi(i,t.pendingProps),Lf(e,t,i,a,n);case 3:e:{if(te(t,t.stateNode.containerInfo),e===null)throw Error(c(387));i=t.pendingProps;var r=t.memoizedState;a=r.element,fo(e,t),Ua(t,i,null,n);var d=t.memoizedState;if(i=d.cache,kn(t,Ke,i),i!==r.cache&&ro(t,[Ke],n,!0),ja(),i=d.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:d.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=kf(e,t,i,n);break e}else if(i!==a){a=qt(Error(c(424)),t),Aa(a),t=kf(e,t,i,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ye=Yt(e.firstChild),ct=t,Me=!0,On=null,Pt=!0,n=Dd(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(li(),i===a){t=gn(e,t,n);break e}lt(e,t,i,n)}t=t.child}return t;case 26:return Es(e,t),e===null?(n=Fp(t.type,null,t.pendingProps,null))?t.memoizedState=n:Me||(n=t.type,e=t.pendingProps,i=Ps(le.current).createElement(n),i[st]=t,i[gt]=e,ut(i,n,e),it(i),t.stateNode=i):t.memoizedState=Fp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return we(t),e===null&&Me&&(i=t.stateNode=Gp(t.type,t.pendingProps,le.current),ct=t,Pt=!0,a=Ye,Qn(t.type)?(Tl=a,Ye=Yt(i.firstChild)):Ye=a),lt(e,t,t.pendingProps.children,n),Es(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Me&&((a=i=Ye)&&(i=Av(i,t.type,t.pendingProps,Pt),i!==null?(t.stateNode=i,ct=t,Ye=Yt(i.firstChild),Pt=!1,a=!0):a=!1),a||Ln(t)),we(t),a=t.type,r=t.pendingProps,d=e!==null?e.memoizedProps:null,i=r.children,bl(a,r)?i=null:d!==null&&bl(a,d)&&(t.flags|=32),t.memoizedState!==null&&(a=_o(e,t,Gg,null,null,n),ir._currentValue=a),Es(e,t),lt(e,t,i,n),t.child;case 6:return e===null&&Me&&((e=n=Ye)&&(n=Ov(n,t.pendingProps,Pt),n!==null?(t.stateNode=n,ct=t,Ye=null,e=!0):e=!1),e||Ln(t)),null;case 13:return Nf(e,t,n);case 4:return te(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=mi(t,null,i,n):lt(e,t,i,n),t.child;case 11:return Tf(e,t,t.type,t.pendingProps,n);case 7:return lt(e,t,t.pendingProps,n),t.child;case 8:return lt(e,t,t.pendingProps.children,n),t.child;case 12:return lt(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,kn(t,t.type,i.value),lt(e,t,i.children,n),t.child;case 9:return a=t.type._context,i=t.pendingProps.children,di(t),a=ot(a),i=i(a),t.flags|=1,lt(e,t,i,n),t.child;case 14:return Rf(e,t,t.type,t.pendingProps,n);case 15:return Df(e,t,t.type,t.pendingProps,n);case 19:return jf(e,t,n);case 31:return Wg(e,t,n);case 22:return xf(e,t,n,t.pendingProps);case 24:return di(t),i=ot(Ke),e===null?(a=oo(),a===null&&(a=Ie,r=so(),a.pooledCache=r,r.refCount++,r!==null&&(a.pooledCacheLanes|=n),a=r),t.memoizedState={parent:i,cache:a},uo(t),kn(t,Ke,a)):((e.lanes&n)!==0&&(fo(e,t),Ua(t,null,null,n),ja()),a=e.memoizedState,r=t.memoizedState,a.parent!==i?(a={parent:i,cache:i},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),kn(t,Ke,i)):(i=r.cache,kn(t,Ke,i),i!==a.cache&&ro(t,[Ke],n,!0))),lt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(c(156,t.tag))}function vn(e){e.flags|=4}function Xo(e,t,n,i,a){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(a&335544128)===a)if(e.stateNode.complete)e.flags|=8192;else if(up())e.flags|=8192;else throw hi=ls,lo}else e.flags&=-16777217}function qf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Wp(t))if(up())e.flags|=8192;else throw hi=ls,lo}function Rs(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?gu():536870912,e.lanes|=t,Wi|=t)}function Ya(e,t){if(!Me)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags&65011712,i|=a.flags&65011712,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags,i|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function tv(e,t,n){var i=t.pendingProps;switch(eo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(t),null;case 1:return Ve(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),pn(Ke),ie(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Hi(t)?vn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,no())),Ve(t),null;case 26:var a=t.type,r=t.memoizedState;return e===null?(vn(t),r!==null?(Ve(t),qf(t,r)):(Ve(t),Xo(t,a,null,i,n))):r?r!==e.memoizedState?(vn(t),Ve(t),qf(t,r)):(Ve(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&vn(t),Ve(t),Xo(t,a,e,i,n)),null;case 27:if(xe(t),n=le.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&vn(t);else{if(!i){if(t.stateNode===null)throw Error(c(166));return Ve(t),null}e=se.current,Hi(t)?gd(t):(e=Gp(a,i,n),t.stateNode=e,vn(t))}return Ve(t),null;case 5:if(xe(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&vn(t);else{if(!i){if(t.stateNode===null)throw Error(c(166));return Ve(t),null}if(r=se.current,Hi(t))gd(t);else{var d=Ps(le.current);switch(r){case 1:r=d.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:r=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":r=d.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":r=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":r=d.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof i.is=="string"?d.createElement("select",{is:i.is}):d.createElement("select"),i.multiple?r.multiple=!0:i.size&&(r.size=i.size);break;default:r=typeof i.is=="string"?d.createElement(a,{is:i.is}):d.createElement(a)}}r[st]=t,r[gt]=i;e:for(d=t.child;d!==null;){if(d.tag===5||d.tag===6)r.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}t.stateNode=r;e:switch(ut(r,a,i),a){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&vn(t)}}return Ve(t),Xo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&vn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(c(166));if(e=le.current,Hi(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,a=ct,a!==null)switch(a.tag){case 27:case 5:i=a.memoizedProps}e[st]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||Np(e.nodeValue,n)),e||Ln(t,!0)}else e=Ps(e).createTextNode(i),e[st]=t,t.stateNode=e}return Ve(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=Hi(t),n!==null){if(e===null){if(!i)throw Error(c(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(557));e[st]=t}else li(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ve(t),e=!1}else n=no(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(At(t),t):(At(t),null);if((t.flags&128)!==0)throw Error(c(558))}return Ve(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Hi(t),i!==null&&i.dehydrated!==null){if(e===null){if(!a)throw Error(c(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(c(317));a[st]=t}else li(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ve(t),a=!1}else a=no(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(At(t),t):(At(t),null)}return At(t),(t.flags&128)!==0?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,a=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(a=i.alternate.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==a&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Rs(t,t.updateQueue),Ve(t),null);case 4:return ie(),e===null&&ml(t.stateNode.containerInfo),Ve(t),null;case 10:return pn(t.type),Ve(t),null;case 19:if(I(Fe),i=t.memoizedState,i===null)return Ve(t),null;if(a=(t.flags&128)!==0,r=i.rendering,r===null)if(a)Ya(i,!1);else{if(Xe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(r=ps(e),r!==null){for(t.flags|=128,Ya(i,!1),e=r.updateQueue,t.updateQueue=e,Rs(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)dd(n,e),n=n.sibling;return W(Fe,Fe.current&1|2),Me&&dn(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&ce()>Os&&(t.flags|=128,a=!0,Ya(i,!1),t.lanes=4194304)}else{if(!a)if(e=ps(r),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Rs(t,e),Ya(i,!0),i.tail===null&&i.tailMode==="hidden"&&!r.alternate&&!Me)return Ve(t),null}else 2*ce()-i.renderingStartTime>Os&&n!==536870912&&(t.flags|=128,a=!0,Ya(i,!1),t.lanes=4194304);i.isBackwards?(r.sibling=t.child,t.child=r):(e=i.last,e!==null?e.sibling=r:t.child=r,i.last=r)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ce(),e.sibling=null,n=Fe.current,W(Fe,a?n&1|2:n&1),Me&&dn(t,i.treeForkCount),e):(Ve(t),null);case 22:case 23:return At(t),go(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(n&536870912)!==0&&(t.flags&128)===0&&(Ve(t),t.subtreeFlags&6&&(t.flags|=8192)):Ve(t),n=t.updateQueue,n!==null&&Rs(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&I(fi),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),pn(Ke),Ve(t),null;case 25:return null;case 30:return null}throw Error(c(156,t.tag))}function nv(e,t){switch(eo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return pn(Ke),ie(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return xe(t),null;case 31:if(t.memoizedState!==null){if(At(t),t.alternate===null)throw Error(c(340));li()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(At(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));li()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return I(Fe),null;case 4:return ie(),null;case 10:return pn(t.type),null;case 22:case 23:return At(t),go(),e!==null&&I(fi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return pn(Ke),null;case 25:return null;default:return null}}function Bf(e,t){switch(eo(t),t.tag){case 3:pn(Ke),ie();break;case 26:case 27:case 5:xe(t);break;case 4:ie();break;case 31:t.memoizedState!==null&&At(t);break;case 13:At(t);break;case 19:I(Fe);break;case 10:pn(t.type);break;case 22:case 23:At(t),go(),e!==null&&I(fi);break;case 24:pn(Ke)}}function Va(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var a=i.next;n=a;do{if((n.tag&e)===e){i=void 0;var r=n.create,d=n.inst;i=r(),d.destroy=i}n=n.next}while(n!==a)}}catch(y){je(t,t.return,y)}}function Bn(e,t,n){try{var i=t.updateQueue,a=i!==null?i.lastEffect:null;if(a!==null){var r=a.next;i=r;do{if((i.tag&e)===e){var d=i.inst,y=d.destroy;if(y!==void 0){d.destroy=void 0,a=t;var N=n,V=y;try{V()}catch(F){je(a,N,F)}}}i=i.next}while(i!==r)}}catch(F){je(t,t.return,F)}}function Hf(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Md(t,n)}catch(i){je(e,e.return,i)}}}function Pf(e,t,n){n.props=vi(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){je(e,t,i)}}function Ga(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(a){je(e,t,a)}}function tn(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(a){je(e,t,a)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(a){je(e,t,a)}else n.current=null}function If(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(a){je(e,e.return,a)}}function Fo(e,t,n){try{var i=e.stateNode;Ev(i,e.type,n,t),i[gt]=t}catch(a){je(e,e.return,a)}}function Yf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Qn(e.type)||e.tag===4}function Zo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Yf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Qn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ko(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=on));else if(i!==4&&(i===27&&Qn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Ko(e,t,n),e=e.sibling;e!==null;)Ko(e,t,n),e=e.sibling}function Ds(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Qn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Ds(e,t,n),e=e.sibling;e!==null;)Ds(e,t,n),e=e.sibling}function Vf(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);ut(t,i,n),t[st]=e,t[gt]=n}catch(r){je(e,e.return,r)}}var yn=!1,We=!1,Jo=!1,Gf=typeof WeakSet=="function"?WeakSet:Set,at=null;function iv(e,t){if(e=e.containerInfo,yl=Fs,e=nd(e),Yc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var a=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var d=0,y=-1,N=-1,V=0,F=0,$=e,G=null;t:for(;;){for(var X;$!==n||a!==0&&$.nodeType!==3||(y=d+a),$!==r||i!==0&&$.nodeType!==3||(N=d+i),$.nodeType===3&&(d+=$.nodeValue.length),(X=$.firstChild)!==null;)G=$,$=X;for(;;){if($===e)break t;if(G===n&&++V===a&&(y=d),G===r&&++F===i&&(N=d),(X=$.nextSibling)!==null)break;$=G,G=$.parentNode}$=X}n=y===-1||N===-1?null:{start:y,end:N}}else n=null}n=n||{start:0,end:0}}else n=null;for(_l={focusedElem:e,selectionRange:n},Fs=!1,at=t;at!==null;)if(t=at,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,at=e;else for(;at!==null;){switch(t=at,r=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)a=e[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&r!==null){e=void 0,n=t,a=r.memoizedProps,r=r.memoizedState,i=n.stateNode;try{var de=vi(n.type,a);e=i.getSnapshotBeforeUpdate(de,r),i.__reactInternalSnapshotBeforeUpdate=e}catch(ge){je(n,n.return,ge)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)wl(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":wl(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(c(163))}if(e=t.sibling,e!==null){e.return=t.return,at=e;break}at=t.return}}function Qf(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:bn(e,n),i&4&&Va(5,n);break;case 1:if(bn(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(d){je(n,n.return,d)}else{var a=vi(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(d){je(n,n.return,d)}}i&64&&Hf(n),i&512&&Ga(n,n.return);break;case 3:if(bn(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Md(e,t)}catch(d){je(n,n.return,d)}}break;case 27:t===null&&i&4&&Vf(n);case 26:case 5:bn(e,n),t===null&&i&4&&If(n),i&512&&Ga(n,n.return);break;case 12:bn(e,n);break;case 31:bn(e,n),i&4&&Zf(e,n);break;case 13:bn(e,n),i&4&&Kf(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=fv.bind(null,n),Lv(e,n))));break;case 22:if(i=n.memoizedState!==null||yn,!i){t=t!==null&&t.memoizedState!==null||We,a=yn;var r=We;yn=i,(We=t)&&!r?Sn(e,n,(n.subtreeFlags&8772)!==0):bn(e,n),yn=a,We=r}break;case 30:break;default:bn(e,n)}}function Xf(e){var t=e.alternate;t!==null&&(e.alternate=null,Xf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Rc(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ge=null,yt=!1;function _n(e,t,n){for(n=n.child;n!==null;)Ff(e,t,n),n=n.sibling}function Ff(e,t,n){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(ma,n)}catch{}switch(n.tag){case 26:We||tn(n,t),_n(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:We||tn(n,t);var i=Ge,a=yt;Qn(n.type)&&(Ge=n.stateNode,yt=!1),_n(e,t,n),er(n.stateNode),Ge=i,yt=a;break;case 5:We||tn(n,t);case 6:if(i=Ge,a=yt,Ge=null,_n(e,t,n),Ge=i,yt=a,Ge!==null)if(yt)try{(Ge.nodeType===9?Ge.body:Ge.nodeName==="HTML"?Ge.ownerDocument.body:Ge).removeChild(n.stateNode)}catch(r){je(n,t,r)}else try{Ge.removeChild(n.stateNode)}catch(r){je(n,t,r)}break;case 18:Ge!==null&&(yt?(e=Ge,Hp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ca(e)):Hp(Ge,n.stateNode));break;case 4:i=Ge,a=yt,Ge=n.stateNode.containerInfo,yt=!0,_n(e,t,n),Ge=i,yt=a;break;case 0:case 11:case 14:case 15:Bn(2,n,t),We||Bn(4,n,t),_n(e,t,n);break;case 1:We||(tn(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&Pf(n,t,i)),_n(e,t,n);break;case 21:_n(e,t,n);break;case 22:We=(i=We)||n.memoizedState!==null,_n(e,t,n),We=i;break;default:_n(e,t,n)}}function Zf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ca(e)}catch(n){je(t,t.return,n)}}}function Kf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ca(e)}catch(n){je(t,t.return,n)}}function av(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Gf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Gf),t;default:throw Error(c(435,e.tag))}}function xs(e,t){var n=av(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var a=pv.bind(null,e,i);i.then(a,a)}})}function _t(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var a=n[i],r=e,d=t,y=d;e:for(;y!==null;){switch(y.tag){case 27:if(Qn(y.type)){Ge=y.stateNode,yt=!1;break e}break;case 5:Ge=y.stateNode,yt=!1;break e;case 3:case 4:Ge=y.stateNode.containerInfo,yt=!0;break e}y=y.return}if(Ge===null)throw Error(c(160));Ff(r,d,a),Ge=null,yt=!1,r=a.alternate,r!==null&&(r.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Jf(t,e),t=t.sibling}var Ft=null;function Jf(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:_t(t,e),bt(e),i&4&&(Bn(3,e,e.return),Va(3,e),Bn(5,e,e.return));break;case 1:_t(t,e),bt(e),i&512&&(We||n===null||tn(n,n.return)),i&64&&yn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var a=Ft;if(_t(t,e),bt(e),i&512&&(We||n===null||tn(n,n.return)),i&4){var r=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(i){case"title":r=a.getElementsByTagName("title")[0],(!r||r[ya]||r[st]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=a.createElement(i),a.head.insertBefore(r,a.querySelector("head > title"))),ut(r,i,n),r[st]=e,it(r),i=r;break e;case"link":var d=Jp("link","href",a).get(i+(n.href||""));if(d){for(var y=0;y<d.length;y++)if(r=d[y],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){d.splice(y,1);break t}}r=a.createElement(i),ut(r,i,n),a.head.appendChild(r);break;case"meta":if(d=Jp("meta","content",a).get(i+(n.content||""))){for(y=0;y<d.length;y++)if(r=d[y],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){d.splice(y,1);break t}}r=a.createElement(i),ut(r,i,n),a.head.appendChild(r);break;default:throw Error(c(468,i))}r[st]=e,it(r),i=r}e.stateNode=i}else $p(a,e.type,e.stateNode);else e.stateNode=Kp(a,i,e.memoizedProps);else r!==i?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,i===null?$p(a,e.type,e.stateNode):Kp(a,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Fo(e,e.memoizedProps,n.memoizedProps)}break;case 27:_t(t,e),bt(e),i&512&&(We||n===null||tn(n,n.return)),n!==null&&i&4&&Fo(e,e.memoizedProps,n.memoizedProps);break;case 5:if(_t(t,e),bt(e),i&512&&(We||n===null||tn(n,n.return)),e.flags&32){a=e.stateNode;try{Ai(a,"")}catch(de){je(e,e.return,de)}}i&4&&e.stateNode!=null&&(a=e.memoizedProps,Fo(e,a,n!==null?n.memoizedProps:a)),i&1024&&(Jo=!0);break;case 6:if(_t(t,e),bt(e),i&4){if(e.stateNode===null)throw Error(c(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(de){je(e,e.return,de)}}break;case 3:if(Vs=null,a=Ft,Ft=Is(t.containerInfo),_t(t,e),Ft=a,bt(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{ca(t.containerInfo)}catch(de){je(e,e.return,de)}Jo&&(Jo=!1,$f(e));break;case 4:i=Ft,Ft=Is(e.stateNode.containerInfo),_t(t,e),bt(e),Ft=i;break;case 12:_t(t,e),bt(e);break;case 31:_t(t,e),bt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,xs(e,i)));break;case 13:_t(t,e),bt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(As=ce()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,xs(e,i)));break;case 22:a=e.memoizedState!==null;var N=n!==null&&n.memoizedState!==null,V=yn,F=We;if(yn=V||a,We=F||N,_t(t,e),We=F,yn=V,bt(e),i&8192)e:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||N||yn||We||yi(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){N=n=t;try{if(r=N.stateNode,a)d=r.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{y=N.stateNode;var $=N.memoizedProps.style,G=$!=null&&$.hasOwnProperty("display")?$.display:null;y.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(de){je(N,N.return,de)}}}else if(t.tag===6){if(n===null){N=t;try{N.stateNode.nodeValue=a?"":N.memoizedProps}catch(de){je(N,N.return,de)}}}else if(t.tag===18){if(n===null){N=t;try{var X=N.stateNode;a?Pp(X,!0):Pp(N.stateNode,!1)}catch(de){je(N,N.return,de)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,xs(e,n))));break;case 19:_t(t,e),bt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,xs(e,i)));break;case 30:break;case 21:break;default:_t(t,e),bt(e)}}function bt(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(Yf(i)){n=i;break}i=i.return}if(n==null)throw Error(c(160));switch(n.tag){case 27:var a=n.stateNode,r=Zo(e);Ds(e,r,a);break;case 5:var d=n.stateNode;n.flags&32&&(Ai(d,""),n.flags&=-33);var y=Zo(e);Ds(e,y,d);break;case 3:case 4:var N=n.stateNode.containerInfo,V=Zo(e);Ko(e,V,N);break;default:throw Error(c(161))}}catch(F){je(e,e.return,F)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $f(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;$f(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function bn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Qf(e,t.alternate,t),t=t.sibling}function yi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Bn(4,t,t.return),yi(t);break;case 1:tn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Pf(t,t.return,n),yi(t);break;case 27:er(t.stateNode);case 26:case 5:tn(t,t.return),yi(t);break;case 22:t.memoizedState===null&&yi(t);break;case 30:yi(t);break;default:yi(t)}e=e.sibling}}function Sn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,a=e,r=t,d=r.flags;switch(r.tag){case 0:case 11:case 15:Sn(a,r,n),Va(4,r);break;case 1:if(Sn(a,r,n),i=r,a=i.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(V){je(i,i.return,V)}if(i=r,a=i.updateQueue,a!==null){var y=i.stateNode;try{var N=a.shared.hiddenCallbacks;if(N!==null)for(a.shared.hiddenCallbacks=null,a=0;a<N.length;a++)xd(N[a],y)}catch(V){je(i,i.return,V)}}n&&d&64&&Hf(r),Ga(r,r.return);break;case 27:Vf(r);case 26:case 5:Sn(a,r,n),n&&i===null&&d&4&&If(r),Ga(r,r.return);break;case 12:Sn(a,r,n);break;case 31:Sn(a,r,n),n&&d&4&&Zf(a,r);break;case 13:Sn(a,r,n),n&&d&4&&Kf(a,r);break;case 22:r.memoizedState===null&&Sn(a,r,n),Ga(r,r.return);break;case 30:break;default:Sn(a,r,n)}t=t.sibling}}function $o(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Oa(n))}function Wo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Oa(e))}function Zt(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Wf(e,t,n,i),t=t.sibling}function Wf(e,t,n,i){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Zt(e,t,n,i),a&2048&&Va(9,t);break;case 1:Zt(e,t,n,i);break;case 3:Zt(e,t,n,i),a&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Oa(e)));break;case 12:if(a&2048){Zt(e,t,n,i),e=t.stateNode;try{var r=t.memoizedProps,d=r.id,y=r.onPostCommit;typeof y=="function"&&y(d,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){je(t,t.return,N)}}else Zt(e,t,n,i);break;case 31:Zt(e,t,n,i);break;case 13:Zt(e,t,n,i);break;case 23:break;case 22:r=t.stateNode,d=t.alternate,t.memoizedState!==null?r._visibility&2?Zt(e,t,n,i):Qa(e,t):r._visibility&2?Zt(e,t,n,i):(r._visibility|=2,Ki(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),a&2048&&$o(d,t);break;case 24:Zt(e,t,n,i),a&2048&&Wo(t.alternate,t);break;default:Zt(e,t,n,i)}}function Ki(e,t,n,i,a){for(a=a&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var r=e,d=t,y=n,N=i,V=d.flags;switch(d.tag){case 0:case 11:case 15:Ki(r,d,y,N,a),Va(8,d);break;case 23:break;case 22:var F=d.stateNode;d.memoizedState!==null?F._visibility&2?Ki(r,d,y,N,a):Qa(r,d):(F._visibility|=2,Ki(r,d,y,N,a)),a&&V&2048&&$o(d.alternate,d);break;case 24:Ki(r,d,y,N,a),a&&V&2048&&Wo(d.alternate,d);break;default:Ki(r,d,y,N,a)}t=t.sibling}}function Qa(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,a=i.flags;switch(i.tag){case 22:Qa(n,i),a&2048&&$o(i.alternate,i);break;case 24:Qa(n,i),a&2048&&Wo(i.alternate,i);break;default:Qa(n,i)}t=t.sibling}}var Xa=8192;function Ji(e,t,n){if(e.subtreeFlags&Xa)for(e=e.child;e!==null;)ep(e,t,n),e=e.sibling}function ep(e,t,n){switch(e.tag){case 26:Ji(e,t,n),e.flags&Xa&&e.memoizedState!==null&&Vv(n,Ft,e.memoizedState,e.memoizedProps);break;case 5:Ji(e,t,n);break;case 3:case 4:var i=Ft;Ft=Is(e.stateNode.containerInfo),Ji(e,t,n),Ft=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Xa,Xa=16777216,Ji(e,t,n),Xa=i):Ji(e,t,n));break;default:Ji(e,t,n)}}function tp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Fa(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];at=i,ip(i,e)}tp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)np(e),e=e.sibling}function np(e){switch(e.tag){case 0:case 11:case 15:Fa(e),e.flags&2048&&Bn(9,e,e.return);break;case 3:Fa(e);break;case 12:Fa(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ms(e)):Fa(e);break;default:Fa(e)}}function Ms(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];at=i,ip(i,e)}tp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Bn(8,t,t.return),Ms(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Ms(t));break;default:Ms(t)}e=e.sibling}}function ip(e,t){for(;at!==null;){var n=at;switch(n.tag){case 0:case 11:case 15:Bn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Oa(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,at=i;else e:for(n=e;at!==null;){i=at;var a=i.sibling,r=i.return;if(Xf(i),i===n){at=null;break e}if(a!==null){a.return=r,at=a;break e}at=r}}}var rv={getCacheForType:function(e){var t=ot(Ke),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return ot(Ke).controller.signal}},sv=typeof WeakMap=="function"?WeakMap:Map,ke=0,Ie=null,Ee=null,Re=0,ze=0,Ot=null,Hn=!1,$i=!1,el=!1,wn=0,Xe=0,Pn=0,_i=0,tl=0,Lt=0,Wi=0,Za=null,St=null,nl=!1,As=0,ap=0,Os=1/0,Ls=null,In=null,tt=0,Yn=null,ea=null,Cn=0,il=0,al=null,rp=null,Ka=0,rl=null;function kt(){return(ke&2)!==0&&Re!==0?Re&-Re:O.T!==null?dl():bu()}function sp(){if(Lt===0)if((Re&536870912)===0||Me){var e=Hr;Hr<<=1,(Hr&3932160)===0&&(Hr=262144),Lt=e}else Lt=536870912;return e=Mt.current,e!==null&&(e.flags|=32),Lt}function wt(e,t,n){(e===Ie&&(ze===2||ze===9)||e.cancelPendingCommit!==null)&&(ta(e,0),Vn(e,Re,Lt,!1)),va(e,n),((ke&2)===0||e!==Ie)&&(e===Ie&&((ke&2)===0&&(_i|=n),Xe===4&&Vn(e,Re,Lt,!1)),nn(e))}function cp(e,t,n){if((ke&6)!==0)throw Error(c(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||ga(e,t),a=i?lv(e,t):cl(e,t,!0),r=i;do{if(a===0){$i&&!i&&Vn(e,t,0,!1);break}else{if(n=e.current.alternate,r&&!cv(n)){a=cl(e,t,!1),r=!1;continue}if(a===2){if(r=t,e.errorRecoveryDisabledLanes&r)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){t=d;e:{var y=e;a=Za;var N=y.current.memoizedState.isDehydrated;if(N&&(ta(y,d).flags|=256),d=cl(y,d,!1),d!==2){if(el&&!N){y.errorRecoveryDisabledLanes|=r,_i|=r,a=4;break e}r=St,St=a,r!==null&&(St===null?St=r:St.push.apply(St,r))}a=d}if(r=!1,a!==2)continue}}if(a===1){ta(e,0),Vn(e,t,0,!0);break}e:{switch(i=e,r=a,r){case 0:case 1:throw Error(c(345));case 4:if((t&4194048)!==t)break;case 6:Vn(i,t,Lt,!Hn);break e;case 2:St=null;break;case 3:case 5:break;default:throw Error(c(329))}if((t&62914560)===t&&(a=As+300-ce(),10<a)){if(Vn(i,t,Lt,!Hn),Ir(i,0,!0)!==0)break e;Cn=t,i.timeoutHandle=qp(op.bind(null,i,n,St,Ls,nl,t,Lt,_i,Wi,Hn,r,"Throttled",-0,0),a);break e}op(i,n,St,Ls,nl,t,Lt,_i,Wi,Hn,r,null,-0,0)}}break}while(!0);nn(e)}function op(e,t,n,i,a,r,d,y,N,V,F,$,G,X){if(e.timeoutHandle=-1,$=t.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:on},ep(t,r,$);var de=(r&62914560)===r?As-ce():(r&4194048)===r?ap-ce():0;if(de=Gv($,de),de!==null){Cn=r,e.cancelPendingCommit=de(gp.bind(null,e,t,r,n,i,a,d,y,N,F,$,null,G,X)),Vn(e,r,d,!V);return}}gp(e,t,r,n,i,a,d,y,N)}function cv(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var a=n[i],r=a.getSnapshot;a=a.value;try{if(!Dt(r(),a))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vn(e,t,n,i){t&=~tl,t&=~_i,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var a=t;0<a;){var r=31-Rt(a),d=1<<r;i[r]=-1,a&=~d}n!==0&&vu(e,n,t)}function ks(){return(ke&6)===0?(Ja(0),!1):!0}function sl(){if(Ee!==null){if(ze===0)var e=Ee.return;else e=Ee,fn=ui=null,wo(e),Gi=null,ka=0,e=Ee;for(;e!==null;)Bf(e.alternate,e),e=e.return;Ee=null}}function ta(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Dv(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Cn=0,sl(),Ie=e,Ee=n=un(e.current,null),Re=t,ze=0,Ot=null,Hn=!1,$i=ga(e,t),el=!1,Wi=Lt=tl=_i=Pn=Xe=0,St=Za=null,nl=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var a=31-Rt(i),r=1<<a;t|=e[a],i&=~r}return wn=t,es(),n}function lp(e,t){ye=null,O.H=Pa,t===Vi||t===os?(t=Ed(),ze=3):t===lo?(t=Ed(),ze=4):ze=t===qo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ot=t,Ee===null&&(Xe=1,ws(e,qt(t,e.current)))}function up(){var e=Mt.current;return e===null?!0:(Re&4194048)===Re?It===null:(Re&62914560)===Re||(Re&536870912)!==0?e===It:!1}function dp(){var e=O.H;return O.H=Pa,e===null?Pa:e}function fp(){var e=O.A;return O.A=rv,e}function Ns(){Xe=4,Hn||(Re&4194048)!==Re&&Mt.current!==null||($i=!0),(Pn&134217727)===0&&(_i&134217727)===0||Ie===null||Vn(Ie,Re,Lt,!1)}function cl(e,t,n){var i=ke;ke|=2;var a=dp(),r=fp();(Ie!==e||Re!==t)&&(Ls=null,ta(e,t)),t=!1;var d=Xe;e:do try{if(ze!==0&&Ee!==null){var y=Ee,N=Ot;switch(ze){case 8:sl(),d=6;break e;case 3:case 2:case 9:case 6:Mt.current===null&&(t=!0);var V=ze;if(ze=0,Ot=null,na(e,y,N,V),n&&$i){d=0;break e}break;default:V=ze,ze=0,Ot=null,na(e,y,N,V)}}ov(),d=Xe;break}catch(F){lp(e,F)}while(!0);return t&&e.shellSuspendCounter++,fn=ui=null,ke=i,O.H=a,O.A=r,Ee===null&&(Ie=null,Re=0,es()),d}function ov(){for(;Ee!==null;)pp(Ee)}function lv(e,t){var n=ke;ke|=2;var i=dp(),a=fp();Ie!==e||Re!==t?(Ls=null,Os=ce()+500,ta(e,t)):$i=ga(e,t);e:do try{if(ze!==0&&Ee!==null){t=Ee;var r=Ot;t:switch(ze){case 1:ze=0,Ot=null,na(e,t,r,1);break;case 2:case 9:if(wd(r)){ze=0,Ot=null,hp(t);break}t=function(){ze!==2&&ze!==9||Ie!==e||(ze=7),nn(e)},r.then(t,t);break e;case 3:ze=7;break e;case 4:ze=5;break e;case 7:wd(r)?(ze=0,Ot=null,hp(t)):(ze=0,Ot=null,na(e,t,r,7));break;case 5:var d=null;switch(Ee.tag){case 26:d=Ee.memoizedState;case 5:case 27:var y=Ee;if(d?Wp(d):y.stateNode.complete){ze=0,Ot=null;var N=y.sibling;if(N!==null)Ee=N;else{var V=y.return;V!==null?(Ee=V,zs(V)):Ee=null}break t}}ze=0,Ot=null,na(e,t,r,5);break;case 6:ze=0,Ot=null,na(e,t,r,6);break;case 8:sl(),Xe=6;break e;default:throw Error(c(462))}}uv();break}catch(F){lp(e,F)}while(!0);return fn=ui=null,O.H=i,O.A=a,ke=n,Ee!==null?0:(Ie=null,Re=0,es(),Xe)}function uv(){for(;Ee!==null&&!Sc();)pp(Ee)}function pp(e){var t=Uf(e.alternate,e,wn);e.memoizedProps=e.pendingProps,t===null?zs(e):Ee=t}function hp(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Of(n,t,t.pendingProps,t.type,void 0,Re);break;case 11:t=Of(n,t,t.pendingProps,t.type.render,t.ref,Re);break;case 5:wo(t);default:Bf(n,t),t=Ee=dd(t,wn),t=Uf(n,t,wn)}e.memoizedProps=e.pendingProps,t===null?zs(e):Ee=t}function na(e,t,n,i){fn=ui=null,wo(t),Gi=null,ka=0;var a=t.return;try{if($g(e,a,t,n,Re)){Xe=1,ws(e,qt(n,e.current)),Ee=null;return}}catch(r){if(a!==null)throw Ee=a,r;Xe=1,ws(e,qt(n,e.current)),Ee=null;return}t.flags&32768?(Me||i===1?e=!0:$i||(Re&536870912)!==0?e=!1:(Hn=e=!0,(i===2||i===9||i===3||i===6)&&(i=Mt.current,i!==null&&i.tag===13&&(i.flags|=16384))),mp(t,e)):zs(t)}function zs(e){var t=e;do{if((t.flags&32768)!==0){mp(t,Hn);return}e=t.return;var n=tv(t.alternate,t,wn);if(n!==null){Ee=n;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);Xe===0&&(Xe=5)}function mp(e,t){do{var n=nv(e.alternate,e);if(n!==null){n.flags&=32767,Ee=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ee=e;return}Ee=e=n}while(e!==null);Xe=6,Ee=null}function gp(e,t,n,i,a,r,d,y,N){e.cancelPendingCommit=null;do js();while(tt!==0);if((ke&6)!==0)throw Error(c(327));if(t!==null){if(t===e.current)throw Error(c(177));if(r=t.lanes|t.childLanes,r|=Fc,Ym(e,n,r,d,y,N),e===Ie&&(Ee=Ie=null,Re=0),ea=t,Yn=e,Cn=n,il=r,al=a,rp=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,hv(qr,function(){return Sp(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=O.T,O.T=null,a=P.p,P.p=2,d=ke,ke|=4;try{iv(e,t,n)}finally{ke=d,P.p=a,O.T=i}}tt=1,vp(),yp(),_p()}}function vp(){if(tt===1){tt=0;var e=Yn,t=ea,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=O.T,O.T=null;var i=P.p;P.p=2;var a=ke;ke|=4;try{Jf(t,e);var r=_l,d=nd(e.containerInfo),y=r.focusedElem,N=r.selectionRange;if(d!==y&&y&&y.ownerDocument&&td(y.ownerDocument.documentElement,y)){if(N!==null&&Yc(y)){var V=N.start,F=N.end;if(F===void 0&&(F=V),"selectionStart"in y)y.selectionStart=V,y.selectionEnd=Math.min(F,y.value.length);else{var $=y.ownerDocument||document,G=$&&$.defaultView||window;if(G.getSelection){var X=G.getSelection(),de=y.textContent.length,ge=Math.min(N.start,de),He=N.end===void 0?ge:Math.min(N.end,de);!X.extend&&ge>He&&(d=He,He=ge,ge=d);var H=ed(y,ge),U=ed(y,He);if(H&&U&&(X.rangeCount!==1||X.anchorNode!==H.node||X.anchorOffset!==H.offset||X.focusNode!==U.node||X.focusOffset!==U.offset)){var Y=$.createRange();Y.setStart(H.node,H.offset),X.removeAllRanges(),ge>He?(X.addRange(Y),X.extend(U.node,U.offset)):(Y.setEnd(U.node,U.offset),X.addRange(Y))}}}}for($=[],X=y;X=X.parentNode;)X.nodeType===1&&$.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<$.length;y++){var K=$[y];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Fs=!!yl,_l=yl=null}finally{ke=a,P.p=i,O.T=n}}e.current=t,tt=2}}function yp(){if(tt===2){tt=0;var e=Yn,t=ea,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=O.T,O.T=null;var i=P.p;P.p=2;var a=ke;ke|=4;try{Qf(e,t.alternate,t)}finally{ke=a,P.p=i,O.T=n}}tt=3}}function _p(){if(tt===4||tt===3){tt=0,oe();var e=Yn,t=ea,n=Cn,i=rp;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?tt=5:(tt=0,ea=Yn=null,bp(e,e.pendingLanes));var a=e.pendingLanes;if(a===0&&(In=null),Ec(n),t=t.stateNode,Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(ma,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=O.T,a=P.p,P.p=2,O.T=null;try{for(var r=e.onRecoverableError,d=0;d<i.length;d++){var y=i[d];r(y.value,{componentStack:y.stack})}}finally{O.T=t,P.p=a}}(Cn&3)!==0&&js(),nn(e),a=e.pendingLanes,(n&261930)!==0&&(a&42)!==0?e===rl?Ka++:(Ka=0,rl=e):Ka=0,Ja(0)}}function bp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Oa(t)))}function js(){return vp(),yp(),_p(),Sp()}function Sp(){if(tt!==5)return!1;var e=Yn,t=il;il=0;var n=Ec(Cn),i=O.T,a=P.p;try{P.p=32>n?32:n,O.T=null,n=al,al=null;var r=Yn,d=Cn;if(tt=0,ea=Yn=null,Cn=0,(ke&6)!==0)throw Error(c(331));var y=ke;if(ke|=4,np(r.current),Wf(r,r.current,d,n),ke=y,Ja(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(ma,r)}catch{}return!0}finally{P.p=a,O.T=i,bp(e,t)}}function wp(e,t,n){t=qt(n,t),t=Uo(e.stateNode,t,2),e=jn(e,t,2),e!==null&&(va(e,2),nn(e))}function je(e,t,n){if(e.tag===3)wp(e,e,n);else for(;t!==null;){if(t.tag===3){wp(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(In===null||!In.has(i))){e=qt(n,e),n=Cf(2),i=jn(t,n,2),i!==null&&(Ef(n,i,t,e),va(i,2),nn(i));break}}t=t.return}}function ol(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new sv;var a=new Set;i.set(t,a)}else a=i.get(t),a===void 0&&(a=new Set,i.set(t,a));a.has(n)||(el=!0,a.add(n),e=dv.bind(null,e,t,n),t.then(e,e))}function dv(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ie===e&&(Re&n)===n&&(Xe===4||Xe===3&&(Re&62914560)===Re&&300>ce()-As?(ke&2)===0&&ta(e,0):tl|=n,Wi===Re&&(Wi=0)),nn(e)}function Cp(e,t){t===0&&(t=gu()),e=ci(e,t),e!==null&&(va(e,t),nn(e))}function fv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Cp(e,n)}function pv(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(c(314))}i!==null&&i.delete(t),Cp(e,n)}function hv(e,t){return pa(e,t)}var Us=null,ia=null,ll=!1,qs=!1,ul=!1,Gn=0;function nn(e){e!==ia&&e.next===null&&(ia===null?Us=ia=e:ia=ia.next=e),qs=!0,ll||(ll=!0,gv())}function Ja(e,t){if(!ul&&qs){ul=!0;do for(var n=!1,i=Us;i!==null;){if(e!==0){var a=i.pendingLanes;if(a===0)var r=0;else{var d=i.suspendedLanes,y=i.pingedLanes;r=(1<<31-Rt(42|e)+1)-1,r&=a&~(d&~y),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,Dp(i,r))}else r=Re,r=Ir(i,i===Ie?r:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(r&3)===0||ga(i,r)||(n=!0,Dp(i,r));i=i.next}while(n);ul=!1}}function mv(){Ep()}function Ep(){qs=ll=!1;var e=0;Gn!==0&&Rv()&&(e=Gn);for(var t=ce(),n=null,i=Us;i!==null;){var a=i.next,r=Tp(i,t);r===0?(i.next=null,n===null?Us=a:n.next=a,a===null&&(ia=n)):(n=i,(e!==0||(r&3)!==0)&&(qs=!0)),i=a}tt!==0&&tt!==5||Ja(e),Gn!==0&&(Gn=0)}function Tp(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var d=31-Rt(r),y=1<<d,N=a[d];N===-1?((y&n)===0||(y&i)!==0)&&(a[d]=Im(y,t)):N<=t&&(e.expiredLanes|=y),r&=~y}if(t=Ie,n=Re,n=Ir(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(ze===2||ze===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&ha(i),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||ga(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&ha(i),Ec(n)){case 2:case 8:n=hu;break;case 32:n=qr;break;case 268435456:n=mu;break;default:n=qr}return i=Rp.bind(null,e),n=pa(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&ha(i),e.callbackPriority=2,e.callbackNode=null,2}function Rp(e,t){if(tt!==0&&tt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(js()&&e.callbackNode!==n)return null;var i=Re;return i=Ir(e,e===Ie?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(cp(e,i,t),Tp(e,ce()),e.callbackNode!=null&&e.callbackNode===n?Rp.bind(null,e):null)}function Dp(e,t){if(js())return null;cp(e,t,!0)}function gv(){xv(function(){(ke&6)!==0?pa(Ci,mv):Ep()})}function dl(){if(Gn===0){var e=Ii;e===0&&(e=Br,Br<<=1,(Br&261888)===0&&(Br=256)),Gn=e}return Gn}function xp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Qr(""+e)}function Mp(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function vv(e,t,n,i,a){if(t==="submit"&&n&&n.stateNode===a){var r=xp((a[gt]||null).action),d=i.submitter;d&&(t=(t=d[gt]||null)?xp(t.formAction):d.getAttribute("formAction"),t!==null&&(r=t,d=null));var y=new Kr("action","action",null,i,a);e.push({event:y,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Gn!==0){var N=d?Mp(a,d):new FormData(a);Oo(n,{pending:!0,data:N,method:a.method,action:r},null,N)}}else typeof r=="function"&&(y.preventDefault(),N=d?Mp(a,d):new FormData(a),Oo(n,{pending:!0,data:N,method:a.method,action:r},r,N))},currentTarget:a}]})}}for(var fl=0;fl<Xc.length;fl++){var pl=Xc[fl],yv=pl.toLowerCase(),_v=pl[0].toUpperCase()+pl.slice(1);Xt(yv,"on"+_v)}Xt(rd,"onAnimationEnd"),Xt(sd,"onAnimationIteration"),Xt(cd,"onAnimationStart"),Xt("dblclick","onDoubleClick"),Xt("focusin","onFocus"),Xt("focusout","onBlur"),Xt(zg,"onTransitionRun"),Xt(jg,"onTransitionStart"),Xt(Ug,"onTransitionCancel"),Xt(od,"onTransitionEnd"),xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $a="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($a));function Ap(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],a=i.event;i=i.listeners;e:{var r=void 0;if(t)for(var d=i.length-1;0<=d;d--){var y=i[d],N=y.instance,V=y.currentTarget;if(y=y.listener,N!==r&&a.isPropagationStopped())break e;r=y,a.currentTarget=V;try{r(a)}catch(F){Wr(F)}a.currentTarget=null,r=N}else for(d=0;d<i.length;d++){if(y=i[d],N=y.instance,V=y.currentTarget,y=y.listener,N!==r&&a.isPropagationStopped())break e;r=y,a.currentTarget=V;try{r(a)}catch(F){Wr(F)}a.currentTarget=null,r=N}}}}function Te(e,t){var n=t[Tc];n===void 0&&(n=t[Tc]=new Set);var i=e+"__bubble";n.has(i)||(Op(t,e,2,!1),n.add(i))}function hl(e,t,n){var i=0;t&&(i|=4),Op(n,e,i,t)}var Bs="_reactListening"+Math.random().toString(36).slice(2);function ml(e){if(!e[Bs]){e[Bs]=!0,Cu.forEach(function(n){n!=="selectionchange"&&(bv.has(n)||hl(n,!1,e),hl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Bs]||(t[Bs]=!0,hl("selectionchange",!1,t))}}function Op(e,t,n,i){switch(sh(t)){case 2:var a=Fv;break;case 8:a=Zv;break;default:a=Al}n=a.bind(null,t,n,e),a=void 0,!Nc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),i?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function gl(e,t,n,i,a){var r=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var d=i.tag;if(d===3||d===4){var y=i.stateNode.containerInfo;if(y===a)break;if(d===4)for(d=i.return;d!==null;){var N=d.tag;if((N===3||N===4)&&d.stateNode.containerInfo===a)return;d=d.return}for(;y!==null;){if(d=Ti(y),d===null)return;if(N=d.tag,N===5||N===6||N===26||N===27){i=r=d;continue e}y=y.parentNode}}i=i.return}zu(function(){var V=r,F=Lc(n),$=[];e:{var G=ld.get(e);if(G!==void 0){var X=Kr,de=e;switch(e){case"keypress":if(Fr(n)===0)break e;case"keydown":case"keyup":X=pg;break;case"focusin":de="focus",X=qc;break;case"focusout":de="blur",X=qc;break;case"beforeblur":case"afterblur":X=qc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=qu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=tg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=gg;break;case rd:case sd:case cd:X=ag;break;case od:X=yg;break;case"scroll":case"scrollend":X=Wm;break;case"wheel":X=bg;break;case"copy":case"cut":case"paste":X=sg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Hu;break;case"toggle":case"beforetoggle":X=wg}var ge=(t&4)!==0,He=!ge&&(e==="scroll"||e==="scrollend"),H=ge?G!==null?G+"Capture":null:G;ge=[];for(var U=V,Y;U!==null;){var K=U;if(Y=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||Y===null||H===null||(K=ba(U,H),K!=null&&ge.push(Wa(U,K,Y))),He)break;U=U.return}0<ge.length&&(G=new X(G,de,null,n,F),$.push({event:G,listeners:ge}))}}if((t&7)===0){e:{if(G=e==="mouseover"||e==="pointerover",X=e==="mouseout"||e==="pointerout",G&&n!==Oc&&(de=n.relatedTarget||n.fromElement)&&(Ti(de)||de[Ei]))break e;if((X||G)&&(G=F.window===F?F:(G=F.ownerDocument)?G.defaultView||G.parentWindow:window,X?(de=n.relatedTarget||n.toElement,X=V,de=de?Ti(de):null,de!==null&&(He=T(de),ge=de.tag,de!==He||ge!==5&&ge!==27&&ge!==6)&&(de=null)):(X=null,de=V),X!==de)){if(ge=qu,K="onMouseLeave",H="onMouseEnter",U="mouse",(e==="pointerout"||e==="pointerover")&&(ge=Hu,K="onPointerLeave",H="onPointerEnter",U="pointer"),He=X==null?G:_a(X),Y=de==null?G:_a(de),G=new ge(K,U+"leave",X,n,F),G.target=He,G.relatedTarget=Y,K=null,Ti(F)===V&&(ge=new ge(H,U+"enter",de,n,F),ge.target=Y,ge.relatedTarget=He,K=ge),He=K,X&&de)t:{for(ge=Sv,H=X,U=de,Y=0,K=H;K;K=ge(K))Y++;K=0;for(var me=U;me;me=ge(me))K++;for(;0<Y-K;)H=ge(H),Y--;for(;0<K-Y;)U=ge(U),K--;for(;Y--;){if(H===U||U!==null&&H===U.alternate){ge=H;break t}H=ge(H),U=ge(U)}ge=null}else ge=null;X!==null&&Lp($,G,X,ge,!1),de!==null&&He!==null&&Lp($,He,de,ge,!0)}}e:{if(G=V?_a(V):window,X=G.nodeName&&G.nodeName.toLowerCase(),X==="select"||X==="input"&&G.type==="file")var Oe=Fu;else if(Qu(G))if(Zu)Oe=Lg;else{Oe=Ag;var fe=Mg}else X=G.nodeName,!X||X.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?V&&Ac(V.elementType)&&(Oe=Fu):Oe=Og;if(Oe&&(Oe=Oe(e,V))){Xu($,Oe,n,F);break e}fe&&fe(e,G,V),e==="focusout"&&V&&G.type==="number"&&V.memoizedProps.value!=null&&Mc(G,"number",G.value)}switch(fe=V?_a(V):window,e){case"focusin":(Qu(fe)||fe.contentEditable==="true")&&(Ni=fe,Vc=V,xa=null);break;case"focusout":xa=Vc=Ni=null;break;case"mousedown":Gc=!0;break;case"contextmenu":case"mouseup":case"dragend":Gc=!1,id($,n,F);break;case"selectionchange":if(Ng)break;case"keydown":case"keyup":id($,n,F)}var _e;if(Hc)e:{switch(e){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else ki?Vu(e,n)&&(De="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(De="onCompositionStart");De&&(Pu&&n.locale!=="ko"&&(ki||De!=="onCompositionStart"?De==="onCompositionEnd"&&ki&&(_e=ju()):(Mn=F,zc="value"in Mn?Mn.value:Mn.textContent,ki=!0)),fe=Hs(V,De),0<fe.length&&(De=new Bu(De,e,null,n,F),$.push({event:De,listeners:fe}),_e?De.data=_e:(_e=Gu(n),_e!==null&&(De.data=_e)))),(_e=Eg?Tg(e,n):Rg(e,n))&&(De=Hs(V,"onBeforeInput"),0<De.length&&(fe=new Bu("onBeforeInput","beforeinput",null,n,F),$.push({event:fe,listeners:De}),fe.data=_e)),vv($,e,V,n,F)}Ap($,t)})}function Wa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hs(e,t){for(var n=t+"Capture",i=[];e!==null;){var a=e,r=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||r===null||(a=ba(e,n),a!=null&&i.unshift(Wa(e,a,r)),a=ba(e,t),a!=null&&i.push(Wa(e,a,r))),e.tag===3)return i;e=e.return}return[]}function Sv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Lp(e,t,n,i,a){for(var r=t._reactName,d=[];n!==null&&n!==i;){var y=n,N=y.alternate,V=y.stateNode;if(y=y.tag,N!==null&&N===i)break;y!==5&&y!==26&&y!==27||V===null||(N=V,a?(V=ba(n,r),V!=null&&d.unshift(Wa(n,V,N))):a||(V=ba(n,r),V!=null&&d.push(Wa(n,V,N)))),n=n.return}d.length!==0&&e.push({event:t,listeners:d})}var wv=/\r\n?/g,Cv=/\u0000|\uFFFD/g;function kp(e){return(typeof e=="string"?e:""+e).replace(wv,`
`).replace(Cv,"")}function Np(e,t){return t=kp(t),kp(e)===t}function Be(e,t,n,i,a,r){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Ai(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Ai(e,""+i);break;case"className":Vr(e,"class",i);break;case"tabIndex":Vr(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Vr(e,n,i);break;case"style":ku(e,i,r);break;case"data":if(t!=="object"){Vr(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Qr(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(t!=="input"&&Be(e,t,"name",a.name,a,null),Be(e,t,"formEncType",a.formEncType,a,null),Be(e,t,"formMethod",a.formMethod,a,null),Be(e,t,"formTarget",a.formTarget,a,null)):(Be(e,t,"encType",a.encType,a,null),Be(e,t,"method",a.method,a,null),Be(e,t,"target",a.target,a,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Qr(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=on);break;case"onScroll":i!=null&&Te("scroll",e);break;case"onScrollEnd":i!=null&&Te("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(c(61));if(n=i.__html,n!=null){if(a.children!=null)throw Error(c(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=Qr(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":Te("beforetoggle",e),Te("toggle",e),Yr(e,"popover",i);break;case"xlinkActuate":cn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":cn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":cn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":cn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":cn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":cn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":cn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":cn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":cn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Yr(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Jm.get(n)||n,Yr(e,n,i))}}function vl(e,t,n,i,a,r){switch(n){case"style":ku(e,i,r);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(c(61));if(n=i.__html,n!=null){if(a.children!=null)throw Error(c(60));e.innerHTML=n}}break;case"children":typeof i=="string"?Ai(e,i):(typeof i=="number"||typeof i=="bigint")&&Ai(e,""+i);break;case"onScroll":i!=null&&Te("scroll",e);break;case"onScrollEnd":i!=null&&Te("scrollend",e);break;case"onClick":i!=null&&(e.onclick=on);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Eu.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),r=e[gt]||null,r=r!=null?r[n]:null,typeof r=="function"&&e.removeEventListener(t,r,a),typeof i=="function")){typeof r!="function"&&r!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,a);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):Yr(e,n,i)}}}function ut(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Te("error",e),Te("load",e);var i=!1,a=!1,r;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case"src":i=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:Be(e,t,r,d,n,null)}}a&&Be(e,t,"srcSet",n.srcSet,n,null),i&&Be(e,t,"src",n.src,n,null);return;case"input":Te("invalid",e);var y=r=d=a=null,N=null,V=null;for(i in n)if(n.hasOwnProperty(i)){var F=n[i];if(F!=null)switch(i){case"name":a=F;break;case"type":d=F;break;case"checked":N=F;break;case"defaultChecked":V=F;break;case"value":r=F;break;case"defaultValue":y=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(c(137,t));break;default:Be(e,t,i,F,n,null)}}Mu(e,r,y,N,V,d,a,!1);return;case"select":Te("invalid",e),i=d=r=null;for(a in n)if(n.hasOwnProperty(a)&&(y=n[a],y!=null))switch(a){case"value":r=y;break;case"defaultValue":d=y;break;case"multiple":i=y;default:Be(e,t,a,y,n,null)}t=r,n=d,e.multiple=!!i,t!=null?Mi(e,!!i,t,!1):n!=null&&Mi(e,!!i,n,!0);return;case"textarea":Te("invalid",e),r=a=i=null;for(d in n)if(n.hasOwnProperty(d)&&(y=n[d],y!=null))switch(d){case"value":i=y;break;case"defaultValue":a=y;break;case"children":r=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(c(91));break;default:Be(e,t,d,y,n,null)}Ou(e,i,a,r);return;case"option":for(N in n)n.hasOwnProperty(N)&&(i=n[N],i!=null)&&(N==="selected"?e.selected=i&&typeof i!="function"&&typeof i!="symbol":Be(e,t,N,i,n,null));return;case"dialog":Te("beforetoggle",e),Te("toggle",e),Te("cancel",e),Te("close",e);break;case"iframe":case"object":Te("load",e);break;case"video":case"audio":for(i=0;i<$a.length;i++)Te($a[i],e);break;case"image":Te("error",e),Te("load",e);break;case"details":Te("toggle",e);break;case"embed":case"source":case"link":Te("error",e),Te("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in n)if(n.hasOwnProperty(V)&&(i=n[V],i!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:Be(e,t,V,i,n,null)}return;default:if(Ac(t)){for(F in n)n.hasOwnProperty(F)&&(i=n[F],i!==void 0&&vl(e,t,F,i,n,void 0));return}}for(y in n)n.hasOwnProperty(y)&&(i=n[y],i!=null&&Be(e,t,y,i,n,null))}function Ev(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,r=null,d=null,y=null,N=null,V=null,F=null;for(X in n){var $=n[X];if(n.hasOwnProperty(X)&&$!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":N=$;default:i.hasOwnProperty(X)||Be(e,t,X,null,i,$)}}for(var G in i){var X=i[G];if($=n[G],i.hasOwnProperty(G)&&(X!=null||$!=null))switch(G){case"type":r=X;break;case"name":a=X;break;case"checked":V=X;break;case"defaultChecked":F=X;break;case"value":d=X;break;case"defaultValue":y=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(c(137,t));break;default:X!==$&&Be(e,t,G,X,i,$)}}xc(e,d,y,N,V,F,r,a);return;case"select":X=d=y=G=null;for(r in n)if(N=n[r],n.hasOwnProperty(r)&&N!=null)switch(r){case"value":break;case"multiple":X=N;default:i.hasOwnProperty(r)||Be(e,t,r,null,i,N)}for(a in i)if(r=i[a],N=n[a],i.hasOwnProperty(a)&&(r!=null||N!=null))switch(a){case"value":G=r;break;case"defaultValue":y=r;break;case"multiple":d=r;default:r!==N&&Be(e,t,a,r,i,N)}t=y,n=d,i=X,G!=null?Mi(e,!!n,G,!1):!!i!=!!n&&(t!=null?Mi(e,!!n,t,!0):Mi(e,!!n,n?[]:"",!1));return;case"textarea":X=G=null;for(y in n)if(a=n[y],n.hasOwnProperty(y)&&a!=null&&!i.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:Be(e,t,y,null,i,a)}for(d in i)if(a=i[d],r=n[d],i.hasOwnProperty(d)&&(a!=null||r!=null))switch(d){case"value":G=a;break;case"defaultValue":X=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(c(91));break;default:a!==r&&Be(e,t,d,a,i,r)}Au(e,G,X);return;case"option":for(var de in n)G=n[de],n.hasOwnProperty(de)&&G!=null&&!i.hasOwnProperty(de)&&(de==="selected"?e.selected=!1:Be(e,t,de,null,i,G));for(N in i)G=i[N],X=n[N],i.hasOwnProperty(N)&&G!==X&&(G!=null||X!=null)&&(N==="selected"?e.selected=G&&typeof G!="function"&&typeof G!="symbol":Be(e,t,N,G,i,X));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in n)G=n[ge],n.hasOwnProperty(ge)&&G!=null&&!i.hasOwnProperty(ge)&&Be(e,t,ge,null,i,G);for(V in i)if(G=i[V],X=n[V],i.hasOwnProperty(V)&&G!==X&&(G!=null||X!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(c(137,t));break;default:Be(e,t,V,G,i,X)}return;default:if(Ac(t)){for(var He in n)G=n[He],n.hasOwnProperty(He)&&G!==void 0&&!i.hasOwnProperty(He)&&vl(e,t,He,void 0,i,G);for(F in i)G=i[F],X=n[F],!i.hasOwnProperty(F)||G===X||G===void 0&&X===void 0||vl(e,t,F,G,i,X);return}}for(var H in n)G=n[H],n.hasOwnProperty(H)&&G!=null&&!i.hasOwnProperty(H)&&Be(e,t,H,null,i,G);for($ in i)G=i[$],X=n[$],!i.hasOwnProperty($)||G===X||G==null&&X==null||Be(e,t,$,G,i,X)}function zp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Tv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var a=n[i],r=a.transferSize,d=a.initiatorType,y=a.duration;if(r&&y&&zp(d)){for(d=0,y=a.responseEnd,i+=1;i<n.length;i++){var N=n[i],V=N.startTime;if(V>y)break;var F=N.transferSize,$=N.initiatorType;F&&zp($)&&(N=N.responseEnd,d+=F*(N<y?1:(y-V)/(N-V)))}if(--i,t+=8*(r+d)/(a.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var yl=null,_l=null;function Ps(e){return e.nodeType===9?e:e.ownerDocument}function jp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Up(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function bl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Sl=null;function Rv(){var e=window.event;return e&&e.type==="popstate"?e===Sl?!1:(Sl=e,!0):(Sl=null,!1)}var qp=typeof setTimeout=="function"?setTimeout:void 0,Dv=typeof clearTimeout=="function"?clearTimeout:void 0,Bp=typeof Promise=="function"?Promise:void 0,xv=typeof queueMicrotask=="function"?queueMicrotask:typeof Bp<"u"?function(e){return Bp.resolve(null).then(e).catch(Mv)}:qp;function Mv(e){setTimeout(function(){throw e})}function Qn(e){return e==="head"}function Hp(e,t){var n=t,i=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(a),ca(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")er(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,er(n);for(var r=n.firstChild;r;){var d=r.nextSibling,y=r.nodeName;r[ya]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=d}}else n==="body"&&er(e.ownerDocument.body);n=a}while(n);ca(t)}function Pp(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function wl(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":wl(n),Rc(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Av(e,t,n,i){for(;e.nodeType===1;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[ya])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==a.rel||e.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||e.getAttribute("title")!==(a.title==null?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(a.src==null?null:a.src)||e.getAttribute("type")!==(a.type==null?null:a.type)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=a.name==null?null:""+a.name;if(a.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=Yt(e.nextSibling),e===null)break}return null}function Ov(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Yt(e.nextSibling),e===null))return null;return e}function Ip(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Yt(e.nextSibling),e===null))return null;return e}function Cl(e){return e.data==="$?"||e.data==="$~"}function El(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Lv(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Yt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Tl=null;function Yp(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Yt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Vp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Gp(e,t,n){switch(t=Ps(n),e){case"html":if(e=t.documentElement,!e)throw Error(c(452));return e;case"head":if(e=t.head,!e)throw Error(c(453));return e;case"body":if(e=t.body,!e)throw Error(c(454));return e;default:throw Error(c(451))}}function er(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Rc(e)}var Vt=new Map,Qp=new Set;function Is(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var En=P.d;P.d={f:kv,r:Nv,D:zv,C:jv,L:Uv,m:qv,X:Hv,S:Bv,M:Pv};function kv(){var e=En.f(),t=ks();return e||t}function Nv(e){var t=Ri(e);t!==null&&t.tag===5&&t.type==="form"?lf(t):En.r(e)}var aa=typeof document>"u"?null:document;function Xp(e,t,n){var i=aa;if(i&&typeof t=="string"&&t){var a=jt(t);a='link[rel="'+e+'"][href="'+a+'"]',typeof n=="string"&&(a+='[crossorigin="'+n+'"]'),Qp.has(a)||(Qp.add(a),e={rel:e,crossOrigin:n,href:t},i.querySelector(a)===null&&(t=i.createElement("link"),ut(t,"link",e),it(t),i.head.appendChild(t)))}}function zv(e){En.D(e),Xp("dns-prefetch",e,null)}function jv(e,t){En.C(e,t),Xp("preconnect",e,t)}function Uv(e,t,n){En.L(e,t,n);var i=aa;if(i&&e&&t){var a='link[rel="preload"][as="'+jt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(a+='[imagesrcset="'+jt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(a+='[imagesizes="'+jt(n.imageSizes)+'"]')):a+='[href="'+jt(e)+'"]';var r=a;switch(t){case"style":r=ra(e);break;case"script":r=sa(e)}Vt.has(r)||(e=S({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Vt.set(r,e),i.querySelector(a)!==null||t==="style"&&i.querySelector(tr(r))||t==="script"&&i.querySelector(nr(r))||(t=i.createElement("link"),ut(t,"link",e),it(t),i.head.appendChild(t)))}}function qv(e,t){En.m(e,t);var n=aa;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",a='link[rel="modulepreload"][as="'+jt(i)+'"][href="'+jt(e)+'"]',r=a;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=sa(e)}if(!Vt.has(r)&&(e=S({rel:"modulepreload",href:e},t),Vt.set(r,e),n.querySelector(a)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(nr(r)))return}i=n.createElement("link"),ut(i,"link",e),it(i),n.head.appendChild(i)}}}function Bv(e,t,n){En.S(e,t,n);var i=aa;if(i&&e){var a=Di(i).hoistableStyles,r=ra(e);t=t||"default";var d=a.get(r);if(!d){var y={loading:0,preload:null};if(d=i.querySelector(tr(r)))y.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Vt.get(r))&&Rl(e,n);var N=d=i.createElement("link");it(N),ut(N,"link",e),N._p=new Promise(function(V,F){N.onload=V,N.onerror=F}),N.addEventListener("load",function(){y.loading|=1}),N.addEventListener("error",function(){y.loading|=2}),y.loading|=4,Ys(d,t,i)}d={type:"stylesheet",instance:d,count:1,state:y},a.set(r,d)}}}function Hv(e,t){En.X(e,t);var n=aa;if(n&&e){var i=Di(n).hoistableScripts,a=sa(e),r=i.get(a);r||(r=n.querySelector(nr(a)),r||(e=S({src:e,async:!0},t),(t=Vt.get(a))&&Dl(e,t),r=n.createElement("script"),it(r),ut(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(a,r))}}function Pv(e,t){En.M(e,t);var n=aa;if(n&&e){var i=Di(n).hoistableScripts,a=sa(e),r=i.get(a);r||(r=n.querySelector(nr(a)),r||(e=S({src:e,async:!0,type:"module"},t),(t=Vt.get(a))&&Dl(e,t),r=n.createElement("script"),it(r),ut(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(a,r))}}function Fp(e,t,n,i){var a=(a=le.current)?Is(a):null;if(!a)throw Error(c(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ra(n.href),n=Di(a).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ra(n.href);var r=Di(a).hoistableStyles,d=r.get(e);if(d||(a=a.ownerDocument||a,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,d),(r=a.querySelector(tr(e)))&&!r._p&&(d.instance=r,d.state.loading=5),Vt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Vt.set(e,n),r||Iv(a,e,n,d.state))),t&&i===null)throw Error(c(528,""));return d}if(t&&i!==null)throw Error(c(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=sa(n),n=Di(a).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,e))}}function ra(e){return'href="'+jt(e)+'"'}function tr(e){return'link[rel="stylesheet"]['+e+"]"}function Zp(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function Iv(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),ut(t,"link",n),it(t),e.head.appendChild(t))}function sa(e){return'[src="'+jt(e)+'"]'}function nr(e){return"script[async]"+e}function Kp(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+jt(n.href)+'"]');if(i)return t.instance=i,it(i),i;var a=S({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),it(i),ut(i,"style",a),Ys(i,n.precedence,e),t.instance=i;case"stylesheet":a=ra(n.href);var r=e.querySelector(tr(a));if(r)return t.state.loading|=4,t.instance=r,it(r),r;i=Zp(n),(a=Vt.get(a))&&Rl(i,a),r=(e.ownerDocument||e).createElement("link"),it(r);var d=r;return d._p=new Promise(function(y,N){d.onload=y,d.onerror=N}),ut(r,"link",i),t.state.loading|=4,Ys(r,n.precedence,e),t.instance=r;case"script":return r=sa(n.src),(a=e.querySelector(nr(r)))?(t.instance=a,it(a),a):(i=n,(a=Vt.get(r))&&(i=S({},n),Dl(i,a)),e=e.ownerDocument||e,a=e.createElement("script"),it(a),ut(a,"link",i),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(c(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,Ys(i,n.precedence,e));return t.instance}function Ys(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=i.length?i[i.length-1]:null,r=a,d=0;d<i.length;d++){var y=i[d];if(y.dataset.precedence===t)r=y;else if(r!==a)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Rl(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Dl(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Vs=null;function Jp(e,t,n){if(Vs===null){var i=new Map,a=Vs=new Map;a.set(n,i)}else a=Vs,i=a.get(n),i||(i=new Map,a.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var r=n[a];if(!(r[ya]||r[st]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var d=r.getAttribute(t)||"";d=e+d;var y=i.get(d);y?y.push(r):i.set(d,[r])}}return i}function $p(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Yv(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Wp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Vv(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var a=ra(i.href),r=t.querySelector(tr(a));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Gs.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=r,it(r);return}r=t.ownerDocument||t,i=Zp(i),(a=Vt.get(a))&&Rl(i,a),r=r.createElement("link"),it(r);var d=r;d._p=new Promise(function(y,N){d.onload=y,d.onerror=N}),ut(r,"link",i),n.instance=r}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Gs.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var xl=0;function Gv(e,t){return e.stylesheets&&e.count===0&&Xs(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&Xs(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4+t);0<e.imgBytes&&xl===0&&(xl=62500*Tv());var a=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Xs(e,e.stylesheets),e.unsuspend)){var r=e.unsuspend;e.unsuspend=null,r()}},(e.imgBytes>xl?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(a)}}:null}function Gs(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xs(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Qs=null;function Xs(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Qs=new Map,t.forEach(Qv,e),Qs=null,Gs.call(e))}function Qv(e,t){if(!(t.state.loading&4)){var n=Qs.get(e);if(n)var i=n.get(null);else{n=new Map,Qs.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<a.length;r++){var d=a[r];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(n.set(d.dataset.precedence,d),i=d)}i&&n.set(null,i)}a=t.instance,d=a.getAttribute("data-precedence"),r=n.get(d)||i,r===i&&n.set(null,a),n.set(d,a),this.count++,i=Gs.bind(this),a.addEventListener("load",i),a.addEventListener("error",i),r?r.parentNode.insertBefore(a,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(a,e.firstChild)),t.state.loading|=4}}var ir={$$typeof:L,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function Xv(e,t,n,i,a,r,d,y,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wc(0),this.hiddenUpdates=wc(null),this.identifierPrefix=i,this.onUncaughtError=a,this.onCaughtError=r,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function eh(e,t,n,i,a,r,d,y,N,V,F,$){return e=new Xv(e,t,n,d,N,V,F,$,y),t=1,r===!0&&(t|=24),r=xt(3,null,null,t),e.current=r,r.stateNode=e,t=so(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:i,isDehydrated:n,cache:t},uo(r),e}function th(e){return e?(e=Ui,e):Ui}function nh(e,t,n,i,a,r){a=th(a),i.context===null?i.context=a:i.pendingContext=a,i=zn(t),i.payload={element:n},r=r===void 0?null:r,r!==null&&(i.callback=r),n=jn(e,i,t),n!==null&&(wt(n,e,t),za(n,e,t))}function ih(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ml(e,t){ih(e,t),(e=e.alternate)&&ih(e,t)}function ah(e){if(e.tag===13||e.tag===31){var t=ci(e,67108864);t!==null&&wt(t,e,67108864),Ml(e,67108864)}}function rh(e){if(e.tag===13||e.tag===31){var t=kt();t=Cc(t);var n=ci(e,t);n!==null&&wt(n,e,t),Ml(e,t)}}var Fs=!0;function Fv(e,t,n,i){var a=O.T;O.T=null;var r=P.p;try{P.p=2,Al(e,t,n,i)}finally{P.p=r,O.T=a}}function Zv(e,t,n,i){var a=O.T;O.T=null;var r=P.p;try{P.p=8,Al(e,t,n,i)}finally{P.p=r,O.T=a}}function Al(e,t,n,i){if(Fs){var a=Ol(i);if(a===null)gl(e,t,i,Zs,n),ch(e,i);else if(Jv(a,e,t,n,i))i.stopPropagation();else if(ch(e,i),t&4&&-1<Kv.indexOf(e)){for(;a!==null;){var r=Ri(a);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var d=ni(r.pendingLanes);if(d!==0){var y=r;for(y.pendingLanes|=2,y.entangledLanes|=2;d;){var N=1<<31-Rt(d);y.entanglements[1]|=N,d&=~N}nn(r),(ke&6)===0&&(Os=ce()+500,Ja(0))}}break;case 31:case 13:y=ci(r,2),y!==null&&wt(y,r,2),ks(),Ml(r,2)}if(r=Ol(i),r===null&&gl(e,t,i,Zs,n),r===a)break;a=r}a!==null&&i.stopPropagation()}else gl(e,t,i,null,n)}}function Ol(e){return e=Lc(e),Ll(e)}var Zs=null;function Ll(e){if(Zs=null,e=Ti(e),e!==null){var t=T(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=w(t),e!==null)return e;e=null}else if(n===31){if(e=g(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Zs=e,null}function sh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ce()){case Ci:return 2;case hu:return 8;case qr:case jm:return 32;case mu:return 268435456;default:return 32}default:return 32}}var kl=!1,Xn=null,Fn=null,Zn=null,ar=new Map,rr=new Map,Kn=[],Kv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ch(e,t){switch(e){case"focusin":case"focusout":Xn=null;break;case"dragenter":case"dragleave":Fn=null;break;case"mouseover":case"mouseout":Zn=null;break;case"pointerover":case"pointerout":ar.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rr.delete(t.pointerId)}}function sr(e,t,n,i,a,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[a]},t!==null&&(t=Ri(t),t!==null&&ah(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Jv(e,t,n,i,a){switch(t){case"focusin":return Xn=sr(Xn,e,t,n,i,a),!0;case"dragenter":return Fn=sr(Fn,e,t,n,i,a),!0;case"mouseover":return Zn=sr(Zn,e,t,n,i,a),!0;case"pointerover":var r=a.pointerId;return ar.set(r,sr(ar.get(r)||null,e,t,n,i,a)),!0;case"gotpointercapture":return r=a.pointerId,rr.set(r,sr(rr.get(r)||null,e,t,n,i,a)),!0}return!1}function oh(e){var t=Ti(e.target);if(t!==null){var n=T(t);if(n!==null){if(t=n.tag,t===13){if(t=w(n),t!==null){e.blockedOn=t,Su(e.priority,function(){rh(n)});return}}else if(t===31){if(t=g(n),t!==null){e.blockedOn=t,Su(e.priority,function(){rh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ks(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ol(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Oc=i,n.target.dispatchEvent(i),Oc=null}else return t=Ri(n),t!==null&&ah(t),e.blockedOn=n,!1;t.shift()}return!0}function lh(e,t,n){Ks(e)&&n.delete(t)}function $v(){kl=!1,Xn!==null&&Ks(Xn)&&(Xn=null),Fn!==null&&Ks(Fn)&&(Fn=null),Zn!==null&&Ks(Zn)&&(Zn=null),ar.forEach(lh),rr.forEach(lh)}function Js(e,t){e.blockedOn===t&&(e.blockedOn=null,kl||(kl=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,$v)))}var $s=null;function uh(e){$s!==e&&($s=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){$s===e&&($s=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],a=e[t+2];if(typeof i!="function"){if(Ll(i||n)===null)continue;break}var r=Ri(n);r!==null&&(e.splice(t,3),t-=3,Oo(r,{pending:!0,data:a,method:n.method,action:i},i,a))}}))}function ca(e){function t(N){return Js(N,e)}Xn!==null&&Js(Xn,e),Fn!==null&&Js(Fn,e),Zn!==null&&Js(Zn,e),ar.forEach(t),rr.forEach(t);for(var n=0;n<Kn.length;n++){var i=Kn[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Kn.length&&(n=Kn[0],n.blockedOn===null);)oh(n),n.blockedOn===null&&Kn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var a=n[i],r=n[i+1],d=a[gt]||null;if(typeof r=="function")d||uh(n);else if(d){var y=null;if(r&&r.hasAttribute("formAction")){if(a=r,d=r[gt]||null)y=d.formAction;else if(Ll(a)!==null)continue}else y=d.action;typeof y=="function"?n[i+1]=y:(n.splice(i,3),i-=3),uh(n)}}}function dh(){function e(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(d){return a=d})},focusReset:"manual",scroll:"manual"})}function t(){a!==null&&(a(),a=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,a=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),a!==null&&(a(),a=null)}}}function Nl(e){this._internalRoot=e}Ws.prototype.render=Nl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));var n=t.current,i=kt();nh(n,i,e,t,null,null)},Ws.prototype.unmount=Nl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;nh(e.current,2,null,e,null,null),ks(),t[Ei]=null}};function Ws(e){this._internalRoot=e}Ws.prototype.unstable_scheduleHydration=function(e){if(e){var t=bu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Kn.length&&t!==0&&t<Kn[n].priority;n++);Kn.splice(n,0,e),n===0&&oh(e)}};var fh=s.version;if(fh!=="19.2.3")throw Error(c(527,fh,"19.2.3"));P.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=x(t),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var Wv={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ec.isDisabled&&ec.supportsFiber)try{ma=ec.inject(Wv),Tt=ec}catch{}}return or.createRoot=function(e,t){if(!_(e))throw Error(c(299));var n=!1,i="",a=_f,r=bf,d=Sf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(a=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=eh(e,1,!1,null,null,n,i,null,a,r,d,dh),e[Ei]=t.current,ml(e),new Nl(t)},or.hydrateRoot=function(e,t,n){if(!_(e))throw Error(c(299));var i=!1,a="",r=_f,d=bf,y=Sf,N=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.formState!==void 0&&(N=n.formState)),t=eh(e,1,!0,t,n??null,i,a,N,r,d,y,dh),t.context=th(null),n=t.current,i=kt(),i=Cc(i),a=zn(i),a.callback=null,jn(n,a,i),n=i,t.current.lanes=n,va(t,n),nn(t),e[Ei]=t.current,ml(e),new Ws(t)},or.version="19.2.3",or}var wh;function dy(){if(wh)return Ul.exports;wh=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(s){console.error(s)}}return l(),Ul.exports=uy(),Ul.exports}var fy=dy();const rn=Object.create(null);rn.open="0";rn.close="1";rn.ping="2";rn.pong="3";rn.message="4";rn.upgrade="5";rn.noop="6";const cc=Object.create(null);Object.keys(rn).forEach(l=>{cc[rn[l]]=l});const eu={type:"error",data:"parser error"},bm=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Sm=typeof ArrayBuffer=="function",wm=l=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(l):l&&l.buffer instanceof ArrayBuffer,cu=({type:l,data:s},o,c)=>bm&&s instanceof Blob?o?c(s):Ch(s,c):Sm&&(s instanceof ArrayBuffer||wm(s))?o?c(s):Ch(new Blob([s]),c):c(rn[l]+(s||"")),Ch=(l,s)=>{const o=new FileReader;return o.onload=function(){const c=o.result.split(",")[1];s("b"+(c||""))},o.readAsDataURL(l)};function Eh(l){return l instanceof Uint8Array?l:l instanceof ArrayBuffer?new Uint8Array(l):new Uint8Array(l.buffer,l.byteOffset,l.byteLength)}let Pl;function py(l,s){if(bm&&l.data instanceof Blob)return l.data.arrayBuffer().then(Eh).then(s);if(Sm&&(l.data instanceof ArrayBuffer||wm(l.data)))return s(Eh(l.data));cu(l,!1,o=>{Pl||(Pl=new TextEncoder),s(Pl.encode(o))})}const Th="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Lr=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let l=0;l<Th.length;l++)Lr[Th.charCodeAt(l)]=l;const hy=l=>{let s=l.length*.75,o=l.length,c,_=0,T,w,g,A;l[l.length-1]==="="&&(s--,l[l.length-2]==="="&&s--);const x=new ArrayBuffer(s),p=new Uint8Array(x);for(c=0;c<o;c+=4)T=Lr[l.charCodeAt(c)],w=Lr[l.charCodeAt(c+1)],g=Lr[l.charCodeAt(c+2)],A=Lr[l.charCodeAt(c+3)],p[_++]=T<<2|w>>4,p[_++]=(w&15)<<4|g>>2,p[_++]=(g&3)<<6|A&63;return x},my=typeof ArrayBuffer=="function",ou=(l,s)=>{if(typeof l!="string")return{type:"message",data:Cm(l,s)};const o=l.charAt(0);return o==="b"?{type:"message",data:gy(l.substring(1),s)}:cc[o]?l.length>1?{type:cc[o],data:l.substring(1)}:{type:cc[o]}:eu},gy=(l,s)=>{if(my){const o=hy(l);return Cm(o,s)}else return{base64:!0,data:l}},Cm=(l,s)=>s==="blob"?l instanceof Blob?l:new Blob([l]):l instanceof ArrayBuffer?l:l.buffer,Em="",vy=(l,s)=>{const o=l.length,c=new Array(o);let _=0;l.forEach((T,w)=>{cu(T,!1,g=>{c[w]=g,++_===o&&s(c.join(Em))})})},yy=(l,s)=>{const o=l.split(Em),c=[];for(let _=0;_<o.length;_++){const T=ou(o[_],s);if(c.push(T),T.type==="error")break}return c};function _y(){return new TransformStream({transform(l,s){py(l,o=>{const c=o.length;let _;if(c<126)_=new Uint8Array(1),new DataView(_.buffer).setUint8(0,c);else if(c<65536){_=new Uint8Array(3);const T=new DataView(_.buffer);T.setUint8(0,126),T.setUint16(1,c)}else{_=new Uint8Array(9);const T=new DataView(_.buffer);T.setUint8(0,127),T.setBigUint64(1,BigInt(c))}l.data&&typeof l.data!="string"&&(_[0]|=128),s.enqueue(_),s.enqueue(o)})}})}let Il;function tc(l){return l.reduce((s,o)=>s+o.length,0)}function nc(l,s){if(l[0].length===s)return l.shift();const o=new Uint8Array(s);let c=0;for(let _=0;_<s;_++)o[_]=l[0][c++],c===l[0].length&&(l.shift(),c=0);return l.length&&c<l[0].length&&(l[0]=l[0].slice(c)),o}function by(l,s){Il||(Il=new TextDecoder);const o=[];let c=0,_=-1,T=!1;return new TransformStream({transform(w,g){for(o.push(w);;){if(c===0){if(tc(o)<1)break;const A=nc(o,1);T=(A[0]&128)===128,_=A[0]&127,_<126?c=3:_===126?c=1:c=2}else if(c===1){if(tc(o)<2)break;const A=nc(o,2);_=new DataView(A.buffer,A.byteOffset,A.length).getUint16(0),c=3}else if(c===2){if(tc(o)<8)break;const A=nc(o,8),x=new DataView(A.buffer,A.byteOffset,A.length),p=x.getUint32(0);if(p>Math.pow(2,21)-1){g.enqueue(eu);break}_=p*Math.pow(2,32)+x.getUint32(4),c=3}else{if(tc(o)<_)break;const A=nc(o,_);g.enqueue(ou(T?A:Il.decode(A),s)),c=0}if(_===0||_>l){g.enqueue(eu);break}}}})}const Tm=4;function et(l){if(l)return Sy(l)}function Sy(l){for(var s in et.prototype)l[s]=et.prototype[s];return l}et.prototype.on=et.prototype.addEventListener=function(l,s){return this._callbacks=this._callbacks||{},(this._callbacks["$"+l]=this._callbacks["$"+l]||[]).push(s),this};et.prototype.once=function(l,s){function o(){this.off(l,o),s.apply(this,arguments)}return o.fn=s,this.on(l,o),this};et.prototype.off=et.prototype.removeListener=et.prototype.removeAllListeners=et.prototype.removeEventListener=function(l,s){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var o=this._callbacks["$"+l];if(!o)return this;if(arguments.length==1)return delete this._callbacks["$"+l],this;for(var c,_=0;_<o.length;_++)if(c=o[_],c===s||c.fn===s){o.splice(_,1);break}return o.length===0&&delete this._callbacks["$"+l],this};et.prototype.emit=function(l){this._callbacks=this._callbacks||{};for(var s=new Array(arguments.length-1),o=this._callbacks["$"+l],c=1;c<arguments.length;c++)s[c-1]=arguments[c];if(o){o=o.slice(0);for(var c=0,_=o.length;c<_;++c)o[c].apply(this,s)}return this};et.prototype.emitReserved=et.prototype.emit;et.prototype.listeners=function(l){return this._callbacks=this._callbacks||{},this._callbacks["$"+l]||[]};et.prototype.hasListeners=function(l){return!!this.listeners(l).length};const yc=typeof Promise=="function"&&typeof Promise.resolve=="function"?s=>Promise.resolve().then(s):(s,o)=>o(s,0),Qt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),wy="arraybuffer";function Rm(l,...s){return s.reduce((o,c)=>(l.hasOwnProperty(c)&&(o[c]=l[c]),o),{})}const Cy=Qt.setTimeout,Ey=Qt.clearTimeout;function _c(l,s){s.useNativeTimers?(l.setTimeoutFn=Cy.bind(Qt),l.clearTimeoutFn=Ey.bind(Qt)):(l.setTimeoutFn=Qt.setTimeout.bind(Qt),l.clearTimeoutFn=Qt.clearTimeout.bind(Qt))}const Ty=1.33;function Ry(l){return typeof l=="string"?Dy(l):Math.ceil((l.byteLength||l.size)*Ty)}function Dy(l){let s=0,o=0;for(let c=0,_=l.length;c<_;c++)s=l.charCodeAt(c),s<128?o+=1:s<2048?o+=2:s<55296||s>=57344?o+=3:(c++,o+=4);return o}function Dm(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function xy(l){let s="";for(let o in l)l.hasOwnProperty(o)&&(s.length&&(s+="&"),s+=encodeURIComponent(o)+"="+encodeURIComponent(l[o]));return s}function My(l){let s={},o=l.split("&");for(let c=0,_=o.length;c<_;c++){let T=o[c].split("=");s[decodeURIComponent(T[0])]=decodeURIComponent(T[1])}return s}class Ay extends Error{constructor(s,o,c){super(s),this.description=o,this.context=c,this.type="TransportError"}}let lu=class extends et{constructor(s){super(),this.writable=!1,_c(this,s),this.opts=s,this.query=s.query,this.socket=s.socket,this.supportsBinary=!s.forceBase64}onError(s,o,c){return super.emitReserved("error",new Ay(s,o,c)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(s){this.readyState==="open"&&this.write(s)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(s){const o=ou(s,this.socket.binaryType);this.onPacket(o)}onPacket(s){super.emitReserved("packet",s)}onClose(s){this.readyState="closed",super.emitReserved("close",s)}pause(s){}createUri(s,o={}){return s+"://"+this._hostname()+this._port()+this.opts.path+this._query(o)}_hostname(){const s=this.opts.hostname;return s.indexOf(":")===-1?s:"["+s+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(s){const o=xy(s);return o.length?"?"+o:""}};class Oy extends lu{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(s){this.readyState="pausing";const o=()=>{this.readyState="paused",s()};if(this._polling||!this.writable){let c=0;this._polling&&(c++,this.once("pollComplete",function(){--c||o()})),this.writable||(c++,this.once("drain",function(){--c||o()}))}else o()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(s){const o=c=>{if(this.readyState==="opening"&&c.type==="open"&&this.onOpen(),c.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(c)};yy(s,this.socket.binaryType).forEach(o),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const s=()=>{this.write([{type:"close"}])};this.readyState==="open"?s():this.once("open",s)}write(s){this.writable=!1,vy(s,o=>{this.doWrite(o,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const s=this.opts.secure?"https":"http",o=this.query||{};return this.opts.timestampRequests!==!1&&(o[this.opts.timestampParam]=Dm()),!this.supportsBinary&&!o.sid&&(o.b64=1),this.createUri(s,o)}}let xm=!1;try{xm=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Ly=xm;function ky(){}class Ny extends Oy{constructor(s){if(super(s),typeof location<"u"){const o=location.protocol==="https:";let c=location.port;c||(c=o?"443":"80"),this.xd=typeof location<"u"&&s.hostname!==location.hostname||c!==s.port}}doWrite(s,o){const c=this.request({method:"POST",data:s});c.on("success",o),c.on("error",(_,T)=>{this.onError("xhr post error",_,T)})}doPoll(){const s=this.request();s.on("data",this.onData.bind(this)),s.on("error",(o,c)=>{this.onError("xhr poll error",o,c)}),this.pollXhr=s}}class an extends et{constructor(s,o,c){super(),this.createRequest=s,_c(this,c),this._opts=c,this._method=c.method||"GET",this._uri=o,this._data=c.data!==void 0?c.data:null,this._create()}_create(){var s;const o=Rm(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");o.xdomain=!!this._opts.xd;const c=this._xhr=this.createRequest(o);try{c.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){c.setDisableHeaderCheck&&c.setDisableHeaderCheck(!0);for(let _ in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(_)&&c.setRequestHeader(_,this._opts.extraHeaders[_])}}catch{}if(this._method==="POST")try{c.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{c.setRequestHeader("Accept","*/*")}catch{}(s=this._opts.cookieJar)===null||s===void 0||s.addCookies(c),"withCredentials"in c&&(c.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(c.timeout=this._opts.requestTimeout),c.onreadystatechange=()=>{var _;c.readyState===3&&((_=this._opts.cookieJar)===null||_===void 0||_.parseCookies(c.getResponseHeader("set-cookie"))),c.readyState===4&&(c.status===200||c.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof c.status=="number"?c.status:0)},0))},c.send(this._data)}catch(_){this.setTimeoutFn(()=>{this._onError(_)},0);return}typeof document<"u"&&(this._index=an.requestsCount++,an.requests[this._index]=this)}_onError(s){this.emitReserved("error",s,this._xhr),this._cleanup(!0)}_cleanup(s){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=ky,s)try{this._xhr.abort()}catch{}typeof document<"u"&&delete an.requests[this._index],this._xhr=null}}_onLoad(){const s=this._xhr.responseText;s!==null&&(this.emitReserved("data",s),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}an.requestsCount=0;an.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Rh);else if(typeof addEventListener=="function"){const l="onpagehide"in Qt?"pagehide":"unload";addEventListener(l,Rh,!1)}}function Rh(){for(let l in an.requests)an.requests.hasOwnProperty(l)&&an.requests[l].abort()}const zy=(function(){const l=Mm({xdomain:!1});return l&&l.responseType!==null})();class jy extends Ny{constructor(s){super(s);const o=s&&s.forceBase64;this.supportsBinary=zy&&!o}request(s={}){return Object.assign(s,{xd:this.xd},this.opts),new an(Mm,this.uri(),s)}}function Mm(l){const s=l.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!s||Ly))return new XMLHttpRequest}catch{}if(!s)try{return new Qt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Am=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Uy extends lu{get name(){return"websocket"}doOpen(){const s=this.uri(),o=this.opts.protocols,c=Am?{}:Rm(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(c.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(s,o,c)}catch(_){return this.emitReserved("error",_)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=s=>this.onClose({description:"websocket connection closed",context:s}),this.ws.onmessage=s=>this.onData(s.data),this.ws.onerror=s=>this.onError("websocket error",s)}write(s){this.writable=!1;for(let o=0;o<s.length;o++){const c=s[o],_=o===s.length-1;cu(c,this.supportsBinary,T=>{try{this.doWrite(c,T)}catch{}_&&yc(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const s=this.opts.secure?"wss":"ws",o=this.query||{};return this.opts.timestampRequests&&(o[this.opts.timestampParam]=Dm()),this.supportsBinary||(o.b64=1),this.createUri(s,o)}}const Yl=Qt.WebSocket||Qt.MozWebSocket;class qy extends Uy{createSocket(s,o,c){return Am?new Yl(s,o,c):o?new Yl(s,o):new Yl(s)}doWrite(s,o){this.ws.send(o)}}class By extends lu{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(s){return this.emitReserved("error",s)}this._transport.closed.then(()=>{this.onClose()}).catch(s=>{this.onError("webtransport error",s)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(s=>{const o=by(Number.MAX_SAFE_INTEGER,this.socket.binaryType),c=s.readable.pipeThrough(o).getReader(),_=_y();_.readable.pipeTo(s.writable),this._writer=_.writable.getWriter();const T=()=>{c.read().then(({done:g,value:A})=>{g||(this.onPacket(A),T())}).catch(g=>{})};T();const w={type:"open"};this.query.sid&&(w.data=`{"sid":"${this.query.sid}"}`),this._writer.write(w).then(()=>this.onOpen())})})}write(s){this.writable=!1;for(let o=0;o<s.length;o++){const c=s[o],_=o===s.length-1;this._writer.write(c).then(()=>{_&&yc(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var s;(s=this._transport)===null||s===void 0||s.close()}}const Hy={websocket:qy,webtransport:By,polling:jy},Py=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Iy=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function tu(l){if(l.length>8e3)throw"URI too long";const s=l,o=l.indexOf("["),c=l.indexOf("]");o!=-1&&c!=-1&&(l=l.substring(0,o)+l.substring(o,c).replace(/:/g,";")+l.substring(c,l.length));let _=Py.exec(l||""),T={},w=14;for(;w--;)T[Iy[w]]=_[w]||"";return o!=-1&&c!=-1&&(T.source=s,T.host=T.host.substring(1,T.host.length-1).replace(/;/g,":"),T.authority=T.authority.replace("[","").replace("]","").replace(/;/g,":"),T.ipv6uri=!0),T.pathNames=Yy(T,T.path),T.queryKey=Vy(T,T.query),T}function Yy(l,s){const o=/\/{2,9}/g,c=s.replace(o,"/").split("/");return(s.slice(0,1)=="/"||s.length===0)&&c.splice(0,1),s.slice(-1)=="/"&&c.splice(c.length-1,1),c}function Vy(l,s){const o={};return s.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(c,_,T){_&&(o[_]=T)}),o}const nu=typeof addEventListener=="function"&&typeof removeEventListener=="function",oc=[];nu&&addEventListener("offline",()=>{oc.forEach(l=>l())},!1);class Wn extends et{constructor(s,o){if(super(),this.binaryType=wy,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,s&&typeof s=="object"&&(o=s,s=null),s){const c=tu(s);o.hostname=c.host,o.secure=c.protocol==="https"||c.protocol==="wss",o.port=c.port,c.query&&(o.query=c.query)}else o.host&&(o.hostname=tu(o.host).host);_c(this,o),this.secure=o.secure!=null?o.secure:typeof location<"u"&&location.protocol==="https:",o.hostname&&!o.port&&(o.port=this.secure?"443":"80"),this.hostname=o.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=o.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},o.transports.forEach(c=>{const _=c.prototype.name;this.transports.push(_),this._transportsByName[_]=c}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},o),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=My(this.opts.query)),nu&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},oc.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(s){const o=Object.assign({},this.opts.query);o.EIO=Tm,o.transport=s,this.id&&(o.sid=this.id);const c=Object.assign({},this.opts,{query:o,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[s]);return new this._transportsByName[s](c)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const s=this.opts.rememberUpgrade&&Wn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const o=this.createTransport(s);o.open(),this.setTransport(o)}setTransport(s){this.transport&&this.transport.removeAllListeners(),this.transport=s,s.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",o=>this._onClose("transport close",o))}onOpen(){this.readyState="open",Wn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(s){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",s),this.emitReserved("heartbeat"),s.type){case"open":this.onHandshake(JSON.parse(s.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const o=new Error("server error");o.code=s.data,this._onError(o);break;case"message":this.emitReserved("data",s.data),this.emitReserved("message",s.data);break}}onHandshake(s){this.emitReserved("handshake",s),this.id=s.sid,this.transport.query.sid=s.sid,this._pingInterval=s.pingInterval,this._pingTimeout=s.pingTimeout,this._maxPayload=s.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const s=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+s,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},s),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const s=this._getWritablePackets();this.transport.send(s),this._prevBufferLen=s.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let o=1;for(let c=0;c<this.writeBuffer.length;c++){const _=this.writeBuffer[c].data;if(_&&(o+=Ry(_)),c>0&&o>this._maxPayload)return this.writeBuffer.slice(0,c);o+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const s=Date.now()>this._pingTimeoutTime;return s&&(this._pingTimeoutTime=0,yc(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),s}write(s,o,c){return this._sendPacket("message",s,o,c),this}send(s,o,c){return this._sendPacket("message",s,o,c),this}_sendPacket(s,o,c,_){if(typeof o=="function"&&(_=o,o=void 0),typeof c=="function"&&(_=c,c=null),this.readyState==="closing"||this.readyState==="closed")return;c=c||{},c.compress=c.compress!==!1;const T={type:s,data:o,options:c};this.emitReserved("packetCreate",T),this.writeBuffer.push(T),_&&this.once("flush",_),this.flush()}close(){const s=()=>{this._onClose("forced close"),this.transport.close()},o=()=>{this.off("upgrade",o),this.off("upgradeError",o),s()},c=()=>{this.once("upgrade",o),this.once("upgradeError",o)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?c():s()}):this.upgrading?c():s()),this}_onError(s){if(Wn.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",s),this._onClose("transport error",s)}_onClose(s,o){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),nu&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const c=oc.indexOf(this._offlineEventListener);c!==-1&&oc.splice(c,1)}this.readyState="closed",this.id=null,this.emitReserved("close",s,o),this.writeBuffer=[],this._prevBufferLen=0}}}Wn.protocol=Tm;class Gy extends Wn{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let s=0;s<this._upgrades.length;s++)this._probe(this._upgrades[s])}_probe(s){let o=this.createTransport(s),c=!1;Wn.priorWebsocketSuccess=!1;const _=()=>{c||(o.send([{type:"ping",data:"probe"}]),o.once("packet",S=>{if(!c)if(S.type==="pong"&&S.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",o),!o)return;Wn.priorWebsocketSuccess=o.name==="websocket",this.transport.pause(()=>{c||this.readyState!=="closed"&&(p(),this.setTransport(o),o.send([{type:"upgrade"}]),this.emitReserved("upgrade",o),o=null,this.upgrading=!1,this.flush())})}else{const R=new Error("probe error");R.transport=o.name,this.emitReserved("upgradeError",R)}}))};function T(){c||(c=!0,p(),o.close(),o=null)}const w=S=>{const R=new Error("probe error: "+S);R.transport=o.name,T(),this.emitReserved("upgradeError",R)};function g(){w("transport closed")}function A(){w("socket closed")}function x(S){o&&S.name!==o.name&&T()}const p=()=>{o.removeListener("open",_),o.removeListener("error",w),o.removeListener("close",g),this.off("close",A),this.off("upgrading",x)};o.once("open",_),o.once("error",w),o.once("close",g),this.once("close",A),this.once("upgrading",x),this._upgrades.indexOf("webtransport")!==-1&&s!=="webtransport"?this.setTimeoutFn(()=>{c||o.open()},200):o.open()}onHandshake(s){this._upgrades=this._filterUpgrades(s.upgrades),super.onHandshake(s)}_filterUpgrades(s){const o=[];for(let c=0;c<s.length;c++)~this.transports.indexOf(s[c])&&o.push(s[c]);return o}}let Qy=class extends Gy{constructor(s,o={}){const c=typeof s=="object"?s:o;(!c.transports||c.transports&&typeof c.transports[0]=="string")&&(c.transports=(c.transports||["polling","websocket","webtransport"]).map(_=>Hy[_]).filter(_=>!!_)),super(s,c)}};function Xy(l,s="",o){let c=l;o=o||typeof location<"u"&&location,l==null&&(l=o.protocol+"//"+o.host),typeof l=="string"&&(l.charAt(0)==="/"&&(l.charAt(1)==="/"?l=o.protocol+l:l=o.host+l),/^(https?|wss?):\/\//.test(l)||(typeof o<"u"?l=o.protocol+"//"+l:l="https://"+l),c=tu(l)),c.port||(/^(http|ws)$/.test(c.protocol)?c.port="80":/^(http|ws)s$/.test(c.protocol)&&(c.port="443")),c.path=c.path||"/";const T=c.host.indexOf(":")!==-1?"["+c.host+"]":c.host;return c.id=c.protocol+"://"+T+":"+c.port+s,c.href=c.protocol+"://"+T+(o&&o.port===c.port?"":":"+c.port),c}const Fy=typeof ArrayBuffer=="function",Zy=l=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(l):l.buffer instanceof ArrayBuffer,Om=Object.prototype.toString,Ky=typeof Blob=="function"||typeof Blob<"u"&&Om.call(Blob)==="[object BlobConstructor]",Jy=typeof File=="function"||typeof File<"u"&&Om.call(File)==="[object FileConstructor]";function uu(l){return Fy&&(l instanceof ArrayBuffer||Zy(l))||Ky&&l instanceof Blob||Jy&&l instanceof File}function lc(l,s){if(!l||typeof l!="object")return!1;if(Array.isArray(l)){for(let o=0,c=l.length;o<c;o++)if(lc(l[o]))return!0;return!1}if(uu(l))return!0;if(l.toJSON&&typeof l.toJSON=="function"&&arguments.length===1)return lc(l.toJSON(),!0);for(const o in l)if(Object.prototype.hasOwnProperty.call(l,o)&&lc(l[o]))return!0;return!1}function $y(l){const s=[],o=l.data,c=l;return c.data=iu(o,s),c.attachments=s.length,{packet:c,buffers:s}}function iu(l,s){if(!l)return l;if(uu(l)){const o={_placeholder:!0,num:s.length};return s.push(l),o}else if(Array.isArray(l)){const o=new Array(l.length);for(let c=0;c<l.length;c++)o[c]=iu(l[c],s);return o}else if(typeof l=="object"&&!(l instanceof Date)){const o={};for(const c in l)Object.prototype.hasOwnProperty.call(l,c)&&(o[c]=iu(l[c],s));return o}return l}function Wy(l,s){return l.data=au(l.data,s),delete l.attachments,l}function au(l,s){if(!l)return l;if(l&&l._placeholder===!0){if(typeof l.num=="number"&&l.num>=0&&l.num<s.length)return s[l.num];throw new Error("illegal attachments")}else if(Array.isArray(l))for(let o=0;o<l.length;o++)l[o]=au(l[o],s);else if(typeof l=="object")for(const o in l)Object.prototype.hasOwnProperty.call(l,o)&&(l[o]=au(l[o],s));return l}const Lm=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],e_=5;var be;(function(l){l[l.CONNECT=0]="CONNECT",l[l.DISCONNECT=1]="DISCONNECT",l[l.EVENT=2]="EVENT",l[l.ACK=3]="ACK",l[l.CONNECT_ERROR=4]="CONNECT_ERROR",l[l.BINARY_EVENT=5]="BINARY_EVENT",l[l.BINARY_ACK=6]="BINARY_ACK"})(be||(be={}));class t_{constructor(s){this.replacer=s}encode(s){return(s.type===be.EVENT||s.type===be.ACK)&&lc(s)?this.encodeAsBinary({type:s.type===be.EVENT?be.BINARY_EVENT:be.BINARY_ACK,nsp:s.nsp,data:s.data,id:s.id}):[this.encodeAsString(s)]}encodeAsString(s){let o=""+s.type;return(s.type===be.BINARY_EVENT||s.type===be.BINARY_ACK)&&(o+=s.attachments+"-"),s.nsp&&s.nsp!=="/"&&(o+=s.nsp+","),s.id!=null&&(o+=s.id),s.data!=null&&(o+=JSON.stringify(s.data,this.replacer)),o}encodeAsBinary(s){const o=$y(s),c=this.encodeAsString(o.packet),_=o.buffers;return _.unshift(c),_}}class du extends et{constructor(s){super(),this.reviver=s}add(s){let o;if(typeof s=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");o=this.decodeString(s);const c=o.type===be.BINARY_EVENT;c||o.type===be.BINARY_ACK?(o.type=c?be.EVENT:be.ACK,this.reconstructor=new n_(o),o.attachments===0&&super.emitReserved("decoded",o)):super.emitReserved("decoded",o)}else if(uu(s)||s.base64)if(this.reconstructor)o=this.reconstructor.takeBinaryData(s),o&&(this.reconstructor=null,super.emitReserved("decoded",o));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+s)}decodeString(s){let o=0;const c={type:Number(s.charAt(0))};if(be[c.type]===void 0)throw new Error("unknown packet type "+c.type);if(c.type===be.BINARY_EVENT||c.type===be.BINARY_ACK){const T=o+1;for(;s.charAt(++o)!=="-"&&o!=s.length;);const w=s.substring(T,o);if(w!=Number(w)||s.charAt(o)!=="-")throw new Error("Illegal attachments");c.attachments=Number(w)}if(s.charAt(o+1)==="/"){const T=o+1;for(;++o&&!(s.charAt(o)===","||o===s.length););c.nsp=s.substring(T,o)}else c.nsp="/";const _=s.charAt(o+1);if(_!==""&&Number(_)==_){const T=o+1;for(;++o;){const w=s.charAt(o);if(w==null||Number(w)!=w){--o;break}if(o===s.length)break}c.id=Number(s.substring(T,o+1))}if(s.charAt(++o)){const T=this.tryParse(s.substr(o));if(du.isPayloadValid(c.type,T))c.data=T;else throw new Error("invalid payload")}return c}tryParse(s){try{return JSON.parse(s,this.reviver)}catch{return!1}}static isPayloadValid(s,o){switch(s){case be.CONNECT:return vc(o);case be.DISCONNECT:return o===void 0;case be.CONNECT_ERROR:return typeof o=="string"||vc(o);case be.EVENT:case be.BINARY_EVENT:return Array.isArray(o)&&(typeof o[0]=="number"||typeof o[0]=="string"&&Lm.indexOf(o[0])===-1);case be.ACK:case be.BINARY_ACK:return Array.isArray(o)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class n_{constructor(s){this.packet=s,this.buffers=[],this.reconPack=s}takeBinaryData(s){if(this.buffers.push(s),this.buffers.length===this.reconPack.attachments){const o=Wy(this.reconPack,this.buffers);return this.finishedReconstruction(),o}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function i_(l){return typeof l=="string"}const a_=Number.isInteger||function(l){return typeof l=="number"&&isFinite(l)&&Math.floor(l)===l};function r_(l){return l===void 0||a_(l)}function vc(l){return Object.prototype.toString.call(l)==="[object Object]"}function s_(l,s){switch(l){case be.CONNECT:return s===void 0||vc(s);case be.DISCONNECT:return s===void 0;case be.EVENT:return Array.isArray(s)&&(typeof s[0]=="number"||typeof s[0]=="string"&&Lm.indexOf(s[0])===-1);case be.ACK:return Array.isArray(s);case be.CONNECT_ERROR:return typeof s=="string"||vc(s);default:return!1}}function c_(l){return i_(l.nsp)&&r_(l.id)&&s_(l.type,l.data)}const o_=Object.freeze(Object.defineProperty({__proto__:null,Decoder:du,Encoder:t_,get PacketType(){return be},isPacketValid:c_,protocol:e_},Symbol.toStringTag,{value:"Module"}));function Jt(l,s,o){return l.on(s,o),function(){l.off(s,o)}}const l_=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class km extends et{constructor(s,o,c){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=s,this.nsp=o,c&&c.auth&&(this.auth=c.auth),this._opts=Object.assign({},c),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const s=this.io;this.subs=[Jt(s,"open",this.onopen.bind(this)),Jt(s,"packet",this.onpacket.bind(this)),Jt(s,"error",this.onerror.bind(this)),Jt(s,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...s){return s.unshift("message"),this.emit.apply(this,s),this}emit(s,...o){var c,_,T;if(l_.hasOwnProperty(s))throw new Error('"'+s.toString()+'" is a reserved event name');if(o.unshift(s),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(o),this;const w={type:be.EVENT,data:o};if(w.options={},w.options.compress=this.flags.compress!==!1,typeof o[o.length-1]=="function"){const p=this.ids++,S=o.pop();this._registerAckCallback(p,S),w.id=p}const g=(_=(c=this.io.engine)===null||c===void 0?void 0:c.transport)===null||_===void 0?void 0:_.writable,A=this.connected&&!(!((T=this.io.engine)===null||T===void 0)&&T._hasPingExpired());return this.flags.volatile&&!g||(A?(this.notifyOutgoingListeners(w),this.packet(w)):this.sendBuffer.push(w)),this.flags={},this}_registerAckCallback(s,o){var c;const _=(c=this.flags.timeout)!==null&&c!==void 0?c:this._opts.ackTimeout;if(_===void 0){this.acks[s]=o;return}const T=this.io.setTimeoutFn(()=>{delete this.acks[s];for(let g=0;g<this.sendBuffer.length;g++)this.sendBuffer[g].id===s&&this.sendBuffer.splice(g,1);o.call(this,new Error("operation has timed out"))},_),w=(...g)=>{this.io.clearTimeoutFn(T),o.apply(this,g)};w.withError=!0,this.acks[s]=w}emitWithAck(s,...o){return new Promise((c,_)=>{const T=(w,g)=>w?_(w):c(g);T.withError=!0,o.push(T),this.emit(s,...o)})}_addToQueue(s){let o;typeof s[s.length-1]=="function"&&(o=s.pop());const c={id:this._queueSeq++,tryCount:0,pending:!1,args:s,flags:Object.assign({fromQueue:!0},this.flags)};s.push((_,...T)=>(this._queue[0],_!==null?c.tryCount>this._opts.retries&&(this._queue.shift(),o&&o(_)):(this._queue.shift(),o&&o(null,...T)),c.pending=!1,this._drainQueue())),this._queue.push(c),this._drainQueue()}_drainQueue(s=!1){if(!this.connected||this._queue.length===0)return;const o=this._queue[0];o.pending&&!s||(o.pending=!0,o.tryCount++,this.flags=o.flags,this.emit.apply(this,o.args))}packet(s){s.nsp=this.nsp,this.io._packet(s)}onopen(){typeof this.auth=="function"?this.auth(s=>{this._sendConnectPacket(s)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(s){this.packet({type:be.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},s):s})}onerror(s){this.connected||this.emitReserved("connect_error",s)}onclose(s,o){this.connected=!1,delete this.id,this.emitReserved("disconnect",s,o),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(s=>{if(!this.sendBuffer.some(c=>String(c.id)===s)){const c=this.acks[s];delete this.acks[s],c.withError&&c.call(this,new Error("socket has been disconnected"))}})}onpacket(s){if(s.nsp===this.nsp)switch(s.type){case be.CONNECT:s.data&&s.data.sid?this.onconnect(s.data.sid,s.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case be.EVENT:case be.BINARY_EVENT:this.onevent(s);break;case be.ACK:case be.BINARY_ACK:this.onack(s);break;case be.DISCONNECT:this.ondisconnect();break;case be.CONNECT_ERROR:this.destroy();const c=new Error(s.data.message);c.data=s.data.data,this.emitReserved("connect_error",c);break}}onevent(s){const o=s.data||[];s.id!=null&&o.push(this.ack(s.id)),this.connected?this.emitEvent(o):this.receiveBuffer.push(Object.freeze(o))}emitEvent(s){if(this._anyListeners&&this._anyListeners.length){const o=this._anyListeners.slice();for(const c of o)c.apply(this,s)}super.emit.apply(this,s),this._pid&&s.length&&typeof s[s.length-1]=="string"&&(this._lastOffset=s[s.length-1])}ack(s){const o=this;let c=!1;return function(..._){c||(c=!0,o.packet({type:be.ACK,id:s,data:_}))}}onack(s){const o=this.acks[s.id];typeof o=="function"&&(delete this.acks[s.id],o.withError&&s.data.unshift(null),o.apply(this,s.data))}onconnect(s,o){this.id=s,this.recovered=o&&this._pid===o,this._pid=o,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(s=>this.emitEvent(s)),this.receiveBuffer=[],this.sendBuffer.forEach(s=>{this.notifyOutgoingListeners(s),this.packet(s)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(s=>s()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:be.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(s){return this.flags.compress=s,this}get volatile(){return this.flags.volatile=!0,this}timeout(s){return this.flags.timeout=s,this}onAny(s){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(s),this}prependAny(s){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(s),this}offAny(s){if(!this._anyListeners)return this;if(s){const o=this._anyListeners;for(let c=0;c<o.length;c++)if(s===o[c])return o.splice(c,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(s){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(s),this}prependAnyOutgoing(s){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(s),this}offAnyOutgoing(s){if(!this._anyOutgoingListeners)return this;if(s){const o=this._anyOutgoingListeners;for(let c=0;c<o.length;c++)if(s===o[c])return o.splice(c,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(s){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const o=this._anyOutgoingListeners.slice();for(const c of o)c.apply(this,s.data)}}}function ua(l){l=l||{},this.ms=l.min||100,this.max=l.max||1e4,this.factor=l.factor||2,this.jitter=l.jitter>0&&l.jitter<=1?l.jitter:0,this.attempts=0}ua.prototype.duration=function(){var l=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var s=Math.random(),o=Math.floor(s*this.jitter*l);l=(Math.floor(s*10)&1)==0?l-o:l+o}return Math.min(l,this.max)|0};ua.prototype.reset=function(){this.attempts=0};ua.prototype.setMin=function(l){this.ms=l};ua.prototype.setMax=function(l){this.max=l};ua.prototype.setJitter=function(l){this.jitter=l};class ru extends et{constructor(s,o){var c;super(),this.nsps={},this.subs=[],s&&typeof s=="object"&&(o=s,s=void 0),o=o||{},o.path=o.path||"/socket.io",this.opts=o,_c(this,o),this.reconnection(o.reconnection!==!1),this.reconnectionAttempts(o.reconnectionAttempts||1/0),this.reconnectionDelay(o.reconnectionDelay||1e3),this.reconnectionDelayMax(o.reconnectionDelayMax||5e3),this.randomizationFactor((c=o.randomizationFactor)!==null&&c!==void 0?c:.5),this.backoff=new ua({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(o.timeout==null?2e4:o.timeout),this._readyState="closed",this.uri=s;const _=o.parser||o_;this.encoder=new _.Encoder,this.decoder=new _.Decoder,this._autoConnect=o.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(s){return arguments.length?(this._reconnection=!!s,s||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(s){return s===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=s,this)}reconnectionDelay(s){var o;return s===void 0?this._reconnectionDelay:(this._reconnectionDelay=s,(o=this.backoff)===null||o===void 0||o.setMin(s),this)}randomizationFactor(s){var o;return s===void 0?this._randomizationFactor:(this._randomizationFactor=s,(o=this.backoff)===null||o===void 0||o.setJitter(s),this)}reconnectionDelayMax(s){var o;return s===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=s,(o=this.backoff)===null||o===void 0||o.setMax(s),this)}timeout(s){return arguments.length?(this._timeout=s,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(s){if(~this._readyState.indexOf("open"))return this;this.engine=new Qy(this.uri,this.opts);const o=this.engine,c=this;this._readyState="opening",this.skipReconnect=!1;const _=Jt(o,"open",function(){c.onopen(),s&&s()}),T=g=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",g),s?s(g):this.maybeReconnectOnOpen()},w=Jt(o,"error",T);if(this._timeout!==!1){const g=this._timeout,A=this.setTimeoutFn(()=>{_(),T(new Error("timeout")),o.close()},g);this.opts.autoUnref&&A.unref(),this.subs.push(()=>{this.clearTimeoutFn(A)})}return this.subs.push(_),this.subs.push(w),this}connect(s){return this.open(s)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const s=this.engine;this.subs.push(Jt(s,"ping",this.onping.bind(this)),Jt(s,"data",this.ondata.bind(this)),Jt(s,"error",this.onerror.bind(this)),Jt(s,"close",this.onclose.bind(this)),Jt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(s){try{this.decoder.add(s)}catch(o){this.onclose("parse error",o)}}ondecoded(s){yc(()=>{this.emitReserved("packet",s)},this.setTimeoutFn)}onerror(s){this.emitReserved("error",s)}socket(s,o){let c=this.nsps[s];return c?this._autoConnect&&!c.active&&c.connect():(c=new km(this,s,o),this.nsps[s]=c),c}_destroy(s){const o=Object.keys(this.nsps);for(const c of o)if(this.nsps[c].active)return;this._close()}_packet(s){const o=this.encoder.encode(s);for(let c=0;c<o.length;c++)this.engine.write(o[c],s.options)}cleanup(){this.subs.forEach(s=>s()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(s,o){var c;this.cleanup(),(c=this.engine)===null||c===void 0||c.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",s,o),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const s=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const o=this.backoff.duration();this._reconnecting=!0;const c=this.setTimeoutFn(()=>{s.skipReconnect||(this.emitReserved("reconnect_attempt",s.backoff.attempts),!s.skipReconnect&&s.open(_=>{_?(s._reconnecting=!1,s.reconnect(),this.emitReserved("reconnect_error",_)):s.onreconnect()}))},o);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}}onreconnect(){const s=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",s)}}const lr={};function kr(l,s){typeof l=="object"&&(s=l,l=void 0),s=s||{};const o=Xy(l,s.path||"/socket.io"),c=o.source,_=o.id,T=o.path,w=lr[_]&&T in lr[_].nsps,g=s.forceNew||s["force new connection"]||s.multiplex===!1||w;let A;return g?A=new ru(c,s):(lr[_]||(lr[_]=new ru(c,s)),A=lr[_]),o.query&&!s.query&&(s.query=o.queryKey),A.socket(o.path,s)}Object.assign(kr,{Manager:ru,Socket:km,io:kr,connect:kr});const ft="https://devapi.letscatchup-kcs.com/api";let uc="";const u_=l=>{uc=l,localStorage.setItem("authToken",l)},fu=()=>(uc||(uc=localStorage.getItem("authToken")||""),uc),mt=()=>({"Content-Type":"application/json",Authorization:`Bearer ${fu()}`}),d_=async()=>{try{return await fetch(`${ft}/health`),{success:!0}}catch(l){return{success:!1,error:String(l)}}},f_=async(l,s)=>{try{return await(await fetch(`${ft}/meetings/instant`,{method:"POST",headers:mt(),body:JSON.stringify({title:l,settings:{allow_screen_share:!0,allow_chat:!0,mute_on_entry:!1,allow_anonymous_join:!0,waiting_room_enabled:s?.waiting_room_enabled??!1,auto_admit:s?.auto_admit??!0}})})).json()}catch(o){return{success:!1,error:String(o)}}},p_=async l=>{try{return await(await fetch(`${ft}/meetings/join/${l}`,{method:"GET",headers:mt()})).json()}catch(s){return{success:!1,error:String(s)}}},h_=async l=>{try{return await(await fetch(`${ft}/meetings/${l}/webrtc-config`,{method:"GET",headers:mt()})).json()}catch(s){return{success:!1,error:String(s)}}},Vl=async l=>{try{return await(await fetch(`${ft}/meetings/${l}`,{method:"GET",headers:mt()})).json()}catch(s){return{success:!1,error:String(s)}}},m_=async(l,s)=>{try{return await(await fetch(`${ft}/call/initiate`,{method:"POST",headers:mt(),body:JSON.stringify({calleeId:l,callType:s})})).json()}catch(o){return{success:!1,error:String(o)}}},g_=async l=>{try{return await(await fetch(`${ft}/call/${l}/answer`,{method:"POST",headers:mt()})).json()}catch(s){return{success:!1,error:String(s)}}},v_=async(l,s)=>{try{return await(await fetch(`${ft}/call/${l}/reject`,{method:"POST",headers:mt(),body:JSON.stringify({reason:s})})).json()}catch(o){return{success:!1,error:String(o)}}},y_=async l=>{try{return await(await fetch(`${ft}/call/${l}/end`,{method:"POST",headers:mt()})).json()}catch(s){return{success:!1,error:String(s)}}},__=async l=>{try{return await(await fetch(`${ft}/call/${l}/cancel`,{method:"POST",headers:mt()})).json()}catch(s){return{success:!1,error:String(s)}}},b_=async()=>{try{return await(await fetch(`${ft}/call/active`,{method:"GET",headers:mt()})).json()}catch(l){return{success:!1,error:String(l)}}},S_=async l=>{try{return await(await fetch(`${ft}/meetings/${l}/admission/check`,{method:"GET",headers:mt()})).json()}catch(s){return{success:!1,error:String(s)}}},w_=async(l,s)=>{try{return await(await fetch(`${ft}/meetings/${l}/admission/request`,{method:"POST",headers:mt(),body:JSON.stringify({userName:s})})).json()}catch(o){return{success:!1,error:String(o)}}},C_=async l=>{try{return await(await fetch(`${ft}/meetings/${l}/waiting-room`,{method:"GET",headers:mt()})).json()}catch(s){return{success:!1,error:String(s)}}},E_=async(l,s)=>{try{return await(await fetch(`${ft}/meetings/${l}/admit/${s}`,{method:"POST",headers:mt()})).json()}catch(o){return{success:!1,error:String(o)}}},T_=async(l,s,o)=>{try{return await(await fetch(`${ft}/meetings/${l}/reject/${s}`,{method:"POST",headers:mt(),body:JSON.stringify({reason:o})})).json()}catch(c){return{success:!1,error:String(c)}}};var Gl={},ic={exports:{}},Ql,Dh;function R_(){if(Dh)return Ql;Dh=1;var l=1e3,s=l*60,o=s*60,c=o*24,_=c*7,T=c*365.25;Ql=function(p,S){S=S||{};var R=typeof p;if(R==="string"&&p.length>0)return w(p);if(R==="number"&&isFinite(p))return S.long?A(p):g(p);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(p))};function w(p){if(p=String(p),!(p.length>100)){var S=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(p);if(S){var R=parseFloat(S[1]),q=(S[2]||"ms").toLowerCase();switch(q){case"years":case"year":case"yrs":case"yr":case"y":return R*T;case"weeks":case"week":case"w":return R*_;case"days":case"day":case"d":return R*c;case"hours":case"hour":case"hrs":case"hr":case"h":return R*o;case"minutes":case"minute":case"mins":case"min":case"m":return R*s;case"seconds":case"second":case"secs":case"sec":case"s":return R*l;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return R;default:return}}}}function g(p){var S=Math.abs(p);return S>=c?Math.round(p/c)+"d":S>=o?Math.round(p/o)+"h":S>=s?Math.round(p/s)+"m":S>=l?Math.round(p/l)+"s":p+"ms"}function A(p){var S=Math.abs(p);return S>=c?x(p,S,c,"day"):S>=o?x(p,S,o,"hour"):S>=s?x(p,S,s,"minute"):S>=l?x(p,S,l,"second"):p+" ms"}function x(p,S,R,q){var z=S>=R*1.5;return Math.round(p/R)+" "+q+(z?"s":"")}return Ql}var Xl,xh;function D_(){if(xh)return Xl;xh=1;function l(s){c.debug=c,c.default=c,c.coerce=x,c.disable=g,c.enable=T,c.enabled=A,c.humanize=R_(),c.destroy=p,Object.keys(s).forEach(S=>{c[S]=s[S]}),c.names=[],c.skips=[],c.formatters={};function o(S){let R=0;for(let q=0;q<S.length;q++)R=(R<<5)-R+S.charCodeAt(q),R|=0;return c.colors[Math.abs(R)%c.colors.length]}c.selectColor=o;function c(S){let R,q=null,z,u;function f(...m){if(!f.enabled)return;const v=f,L=Number(new Date),D=L-(R||L);v.diff=D,v.prev=R,v.curr=L,R=L,m[0]=c.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");let M=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,(h,E)=>{if(h==="%%")return"%";M++;const k=c.formatters[E];if(typeof k=="function"){const B=m[M];h=k.call(v,B),m.splice(M,1),M--}return h}),c.formatArgs.call(v,m),(v.log||c.log).apply(v,m)}return f.namespace=S,f.useColors=c.useColors(),f.color=c.selectColor(S),f.extend=_,f.destroy=c.destroy,Object.defineProperty(f,"enabled",{enumerable:!0,configurable:!1,get:()=>q!==null?q:(z!==c.namespaces&&(z=c.namespaces,u=c.enabled(S)),u),set:m=>{q=m}}),typeof c.init=="function"&&c.init(f),f}function _(S,R){const q=c(this.namespace+(typeof R>"u"?":":R)+S);return q.log=this.log,q}function T(S){c.save(S),c.namespaces=S,c.names=[],c.skips=[];const R=(typeof S=="string"?S:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const q of R)q[0]==="-"?c.skips.push(q.slice(1)):c.names.push(q)}function w(S,R){let q=0,z=0,u=-1,f=0;for(;q<S.length;)if(z<R.length&&(R[z]===S[q]||R[z]==="*"))R[z]==="*"?(u=z,f=q,z++):(q++,z++);else if(u!==-1)z=u+1,f++,q=f;else return!1;for(;z<R.length&&R[z]==="*";)z++;return z===R.length}function g(){const S=[...c.names,...c.skips.map(R=>"-"+R)].join(",");return c.enable(""),S}function A(S){for(const R of c.skips)if(w(S,R))return!1;for(const R of c.names)if(w(S,R))return!0;return!1}function x(S){return S instanceof Error?S.stack||S.message:S}function p(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return c.enable(c.load()),c}return Xl=l,Xl}var Mh;function bc(){return Mh||(Mh=1,(function(l,s){var o={};s.formatArgs=_,s.save=T,s.load=w,s.useColors=c,s.storage=g(),s.destroy=(()=>{let x=!1;return()=>{x||(x=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),s.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function c(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let x;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(x=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(x[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function _(x){if(x[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+x[0]+(this.useColors?"%c ":" ")+"+"+l.exports.humanize(this.diff),!this.useColors)return;const p="color: "+this.color;x.splice(1,0,p,"color: inherit");let S=0,R=0;x[0].replace(/%[a-zA-Z%]/g,q=>{q!=="%%"&&(S++,q==="%c"&&(R=S))}),x.splice(R,0,p)}s.log=console.debug||console.log||(()=>{});function T(x){try{x?s.storage.setItem("debug",x):s.storage.removeItem("debug")}catch{}}function w(){let x;try{x=s.storage.getItem("debug")||s.storage.getItem("DEBUG")}catch{}return!x&&typeof process<"u"&&"env"in process&&(x=o.DEBUG),x}function g(){try{return localStorage}catch{}}l.exports=D_()(s);const{formatters:A}=l.exports;A.j=function(x){try{return JSON.stringify(x)}catch(p){return"[UnexpectedJSONParseError]: "+p.message}}})(ic,ic.exports)),ic.exports}var Fl={},Ah;function x_(){return Ah||(Ah=1,Object.defineProperty(Fl,"__esModule",{value:!0})),Fl}var bi={},ur={},Oh;function Ct(){if(Oh)return ur;Oh=1,Object.defineProperty(ur,"__esModule",{value:!0}),ur.Logger=void 0;const l=bc(),s="mediasoup-client";class o{_debug;_warn;_error;constructor(_){_?(this._debug=(0,l.default)(`${s}:${_}`),this._warn=(0,l.default)(`${s}:WARN:${_}`),this._error=(0,l.default)(`${s}:ERROR:${_}`)):(this._debug=(0,l.default)(s),this._warn=(0,l.default)(`${s}:WARN`),this._error=(0,l.default)(`${s}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}return ur.Logger=o,ur}var dr={},ac={exports:{}},Lh;function M_(){if(Lh)return ac.exports;Lh=1;var l=typeof Reflect=="object"?Reflect:null,s=l&&typeof l.apply=="function"?l.apply:function(M,C,h){return Function.prototype.apply.call(M,C,h)},o;l&&typeof l.ownKeys=="function"?o=l.ownKeys:Object.getOwnPropertySymbols?o=function(M){return Object.getOwnPropertyNames(M).concat(Object.getOwnPropertySymbols(M))}:o=function(M){return Object.getOwnPropertyNames(M)};function c(D){console&&console.warn&&console.warn(D)}var _=Number.isNaN||function(M){return M!==M};function T(){T.init.call(this)}ac.exports=T,ac.exports.once=m,T.EventEmitter=T,T.prototype._events=void 0,T.prototype._eventsCount=0,T.prototype._maxListeners=void 0;var w=10;function g(D){if(typeof D!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof D)}Object.defineProperty(T,"defaultMaxListeners",{enumerable:!0,get:function(){return w},set:function(D){if(typeof D!="number"||D<0||_(D))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+D+".");w=D}}),T.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},T.prototype.setMaxListeners=function(M){if(typeof M!="number"||M<0||_(M))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+M+".");return this._maxListeners=M,this};function A(D){return D._maxListeners===void 0?T.defaultMaxListeners:D._maxListeners}T.prototype.getMaxListeners=function(){return A(this)},T.prototype.emit=function(M){for(var C=[],h=1;h<arguments.length;h++)C.push(arguments[h]);var E=M==="error",k=this._events;if(k!==void 0)E=E&&k.error===void 0;else if(!E)return!1;if(E){var B;if(C.length>0&&(B=C[0]),B instanceof Error)throw B;var ee=new Error("Unhandled error."+(B?" ("+B.message+")":""));throw ee.context=B,ee}var ae=k[M];if(ae===void 0)return!1;if(typeof ae=="function")s(ae,this,C);else for(var b=ae.length,Q=z(ae,b),h=0;h<b;++h)s(Q[h],this,C);return!0};function x(D,M,C,h){var E,k,B;if(g(C),k=D._events,k===void 0?(k=D._events=Object.create(null),D._eventsCount=0):(k.newListener!==void 0&&(D.emit("newListener",M,C.listener?C.listener:C),k=D._events),B=k[M]),B===void 0)B=k[M]=C,++D._eventsCount;else if(typeof B=="function"?B=k[M]=h?[C,B]:[B,C]:h?B.unshift(C):B.push(C),E=A(D),E>0&&B.length>E&&!B.warned){B.warned=!0;var ee=new Error("Possible EventEmitter memory leak detected. "+B.length+" "+String(M)+" listeners added. Use emitter.setMaxListeners() to increase limit");ee.name="MaxListenersExceededWarning",ee.emitter=D,ee.type=M,ee.count=B.length,c(ee)}return D}T.prototype.addListener=function(M,C){return x(this,M,C,!1)},T.prototype.on=T.prototype.addListener,T.prototype.prependListener=function(M,C){return x(this,M,C,!0)};function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function S(D,M,C){var h={fired:!1,wrapFn:void 0,target:D,type:M,listener:C},E=p.bind(h);return E.listener=C,h.wrapFn=E,E}T.prototype.once=function(M,C){return g(C),this.on(M,S(this,M,C)),this},T.prototype.prependOnceListener=function(M,C){return g(C),this.prependListener(M,S(this,M,C)),this},T.prototype.removeListener=function(M,C){var h,E,k,B,ee;if(g(C),E=this._events,E===void 0)return this;if(h=E[M],h===void 0)return this;if(h===C||h.listener===C)--this._eventsCount===0?this._events=Object.create(null):(delete E[M],E.removeListener&&this.emit("removeListener",M,h.listener||C));else if(typeof h!="function"){for(k=-1,B=h.length-1;B>=0;B--)if(h[B]===C||h[B].listener===C){ee=h[B].listener,k=B;break}if(k<0)return this;k===0?h.shift():u(h,k),h.length===1&&(E[M]=h[0]),E.removeListener!==void 0&&this.emit("removeListener",M,ee||C)}return this},T.prototype.off=T.prototype.removeListener,T.prototype.removeAllListeners=function(M){var C,h,E;if(h=this._events,h===void 0)return this;if(h.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):h[M]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete h[M]),this;if(arguments.length===0){var k=Object.keys(h),B;for(E=0;E<k.length;++E)B=k[E],B!=="removeListener"&&this.removeAllListeners(B);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(C=h[M],typeof C=="function")this.removeListener(M,C);else if(C!==void 0)for(E=C.length-1;E>=0;E--)this.removeListener(M,C[E]);return this};function R(D,M,C){var h=D._events;if(h===void 0)return[];var E=h[M];return E===void 0?[]:typeof E=="function"?C?[E.listener||E]:[E]:C?f(E):z(E,E.length)}T.prototype.listeners=function(M){return R(this,M,!0)},T.prototype.rawListeners=function(M){return R(this,M,!1)},T.listenerCount=function(D,M){return typeof D.listenerCount=="function"?D.listenerCount(M):q.call(D,M)},T.prototype.listenerCount=q;function q(D){var M=this._events;if(M!==void 0){var C=M[D];if(typeof C=="function")return 1;if(C!==void 0)return C.length}return 0}T.prototype.eventNames=function(){return this._eventsCount>0?o(this._events):[]};function z(D,M){for(var C=new Array(M),h=0;h<M;++h)C[h]=D[h];return C}function u(D,M){for(;M+1<D.length;M++)D[M]=D[M+1];D.pop()}function f(D){for(var M=new Array(D.length),C=0;C<M.length;++C)M[C]=D[C].listener||D[C];return M}function m(D,M){return new Promise(function(C,h){function E(B){D.removeListener(M,k),h(B)}function k(){typeof D.removeListener=="function"&&D.removeListener("error",E),C([].slice.call(arguments))}L(D,M,k,{once:!0}),M!=="error"&&v(D,E,{once:!0})})}function v(D,M,C){typeof D.on=="function"&&L(D,"error",M,C)}function L(D,M,C,h){if(typeof D.on=="function")h.once?D.once(M,C):D.on(M,C);else if(typeof D.addEventListener=="function")D.addEventListener(M,function E(k){h.once&&D.removeEventListener(M,E),C(k)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof D)}return ac.exports}var kh;function Nt(){if(kh)return dr;kh=1,Object.defineProperty(dr,"__esModule",{value:!0}),dr.EnhancedEventEmitter=void 0;const l=M_(),s=Ct(),o=new s.Logger("EnhancedEventEmitter");class c extends l.EventEmitter{constructor(){super(),this.setMaxListeners(1/0)}close(){super.removeAllListeners()}emit(T,...w){return super.emit(T,...w)}safeEmit(T,...w){try{return super.emit(T,...w)}catch(g){o.error("safeEmit() | event listener threw an error [eventName:%s]:%o",T,g);try{super.emit("listenererror",T,g)}catch{}return!!super.listenerCount(T)}}on(T,w){return super.on(T,w),this}off(T,w){return super.off(T,w),this}addListener(T,w){return super.on(T,w),this}prependListener(T,w){return super.prependListener(T,w),this}once(T,w){return super.once(T,w),this}prependOnceListener(T,w){return super.prependOnceListener(T,w),this}removeListener(T,w){return super.off(T,w),this}removeAllListeners(T){return super.removeAllListeners(T),this}listenerCount(T){return super.listenerCount(T)}listeners(T){return super.listeners(T)}rawListeners(T){return super.rawListeners(T)}}return dr.EnhancedEventEmitter=c,dr}var Si={},Nh;function $t(){if(Nh)return Si;Nh=1,Object.defineProperty(Si,"__esModule",{value:!0}),Si.InvalidStateError=Si.UnsupportedError=void 0;class l extends Error{constructor(c){super(c),this.name="UnsupportedError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,l):this.stack=new Error(c).stack}}Si.UnsupportedError=l;class s extends Error{constructor(c){super(c),this.name="InvalidStateError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,s):this.stack=new Error(c).stack}}return Si.InvalidStateError=s,Si}var oa={},zh;function da(){if(zh)return oa;zh=1,Object.defineProperty(oa,"__esModule",{value:!0}),oa.clone=l,oa.generateRandomNumber=s,oa.deepFreeze=o;function l(c){if(c!==void 0)return Number.isNaN(c)?NaN:typeof structuredClone=="function"?structuredClone(c):JSON.parse(JSON.stringify(c))}function s(){return Math.round(Math.random()*1e7)}function o(c){const _=Reflect.ownKeys(c);for(const T of _){const w=c[T];(w&&typeof w=="object"||typeof w=="function")&&o(w)}return Object.freeze(c)}return oa}var ht={},rt={},fr={},jh;function A_(){if(jh)return fr;jh=1,Object.defineProperty(fr,"__esModule",{value:!0}),fr.Logger=void 0;const l=bc(),s="h264-profile-level-id";class o{_debug;_warn;_error;constructor(_){_?(this._debug=(0,l.default)(`${s}:${_}`),this._warn=(0,l.default)(`${s}:WARN:${_}`),this._error=(0,l.default)(`${s}:ERROR:${_}`)):(this._debug=(0,l.default)(s),this._warn=(0,l.default)(`${s}:WARN`),this._error=(0,l.default)(`${s}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}return fr.Logger=o,fr}var Uh;function O_(){if(Uh)return rt;Uh=1,Object.defineProperty(rt,"__esModule",{value:!0}),rt.ProfileLevelId=rt.Level=rt.Profile=void 0,rt.parseProfileLevelId=p,rt.profileLevelIdToString=S,rt.profileToString=R,rt.levelToString=q,rt.parseSdpProfileLevelId=z,rt.isSameProfile=u,rt.isSameProfileAndLevel=f,rt.generateProfileLevelIdStringForAnswer=m,rt.supportedLevel=v;const l=A_(),s=new l.Logger;var o;(function(h){h[h.ConstrainedBaseline=1]="ConstrainedBaseline",h[h.Baseline=2]="Baseline",h[h.Main=3]="Main",h[h.ConstrainedHigh=4]="ConstrainedHigh",h[h.High=5]="High",h[h.PredictiveHigh444=6]="PredictiveHigh444"})(o||(rt.Profile=o={}));var c;(function(h){h[h.L1_b=0]="L1_b",h[h.L1=10]="L1",h[h.L1_1=11]="L1_1",h[h.L1_2=12]="L1_2",h[h.L1_3=13]="L1_3",h[h.L2=20]="L2",h[h.L2_1=21]="L2_1",h[h.L2_2=22]="L2_2",h[h.L3=30]="L3",h[h.L3_1=31]="L3_1",h[h.L3_2=32]="L3_2",h[h.L4=40]="L4",h[h.L4_1=41]="L4_1",h[h.L4_2=42]="L4_2",h[h.L5=50]="L5",h[h.L5_1=51]="L5_1",h[h.L5_2=52]="L5_2"})(c||(rt.Level=c={}));class _{profile;level;constructor(E,k){this.profile=E,this.level=k}}rt.ProfileLevelId=_;const T=new _(o.ConstrainedBaseline,c.L3_1);class w{mask;masked_value;constructor(E){this.mask=~L("x",E),this.masked_value=L("1",E)}isMatch(E){return this.masked_value===(E&this.mask)}}class g{profile_idc;profile_iop;profile;constructor(E,k,B){this.profile_idc=E,this.profile_iop=k,this.profile=B}}const A=[new g(66,new w("x1xx0000"),o.ConstrainedBaseline),new g(77,new w("1xxx0000"),o.ConstrainedBaseline),new g(88,new w("11xx0000"),o.ConstrainedBaseline),new g(66,new w("x0xx0000"),o.Baseline),new g(88,new w("10xx0000"),o.Baseline),new g(77,new w("0x0x0000"),o.Main),new g(100,new w("00000000"),o.High),new g(100,new w("00001100"),o.ConstrainedHigh),new g(244,new w("00000000"),o.PredictiveHigh444)],x=[{max_macroblocks_per_second:1485,max_macroblock_frame_size:99,level:c.L1},{max_macroblocks_per_second:1485,max_macroblock_frame_size:99,level:c.L1_b},{max_macroblocks_per_second:3e3,max_macroblock_frame_size:396,level:c.L1_1},{max_macroblocks_per_second:6e3,max_macroblock_frame_size:396,level:c.L1_2},{max_macroblocks_per_second:11880,max_macroblock_frame_size:396,level:c.L1_3},{max_macroblocks_per_second:11880,max_macroblock_frame_size:396,level:c.L2},{max_macroblocks_per_second:19800,max_macroblock_frame_size:792,level:c.L2_1},{max_macroblocks_per_second:20250,max_macroblock_frame_size:1620,level:c.L2_2},{max_macroblocks_per_second:40500,max_macroblock_frame_size:1620,level:c.L3},{max_macroblocks_per_second:108e3,max_macroblock_frame_size:3600,level:c.L3_1},{max_macroblocks_per_second:216e3,max_macroblock_frame_size:5120,level:c.L3_2},{max_macroblocks_per_second:245760,max_macroblock_frame_size:8192,level:c.L4},{max_macroblocks_per_second:245760,max_macroblock_frame_size:8192,level:c.L4_1},{max_macroblocks_per_second:522240,max_macroblock_frame_size:8704,level:c.L4_2},{max_macroblocks_per_second:589824,max_macroblock_frame_size:22080,level:c.L5},{max_macroblocks_per_second:983040,max_macroblock_frame_size:36864,level:c.L5_1},{max_macroblocks_per_second:2073600,max_macroblock_frame_size:36864,level:c.L5_2}];function p(h){if(typeof h!="string"||h.length!==6)return;const k=parseInt(h,16);if(k===0)return;const B=k&255,ee=k>>8&255,ae=k>>16&255;let b;switch(B){case c.L1_1:{b=(ee&16)!==0?c.L1_b:c.L1_1;break}case c.L1:case c.L1_2:case c.L1_3:case c.L2:case c.L2_1:case c.L2_2:case c.L3:case c.L3_1:case c.L3_2:case c.L4:case c.L4_1:case c.L4_2:case c.L5:case c.L5_1:case c.L5_2:{b=B;break}default:{s.warn(`parseProfileLevelId() | unrecognized level_idc [str:${h}, level_idc:${B}]`);return}}for(const Q of A)if(ae===Q.profile_idc&&Q.profile_iop.isMatch(ee))return s.debug(`parseProfileLevelId() | result [str:${h}, profile:${Q.profile}, level:${b}]`),new _(Q.profile,b);s.warn(`parseProfileLevelId() | unrecognized profile_idc/profile_iop combination [str:${h}, profile_idc:${ae}, profile_iop:${ee}]`)}function S(h){if(h.level==c.L1_b)switch(h.profile){case o.ConstrainedBaseline:return"42f00b";case o.Baseline:return"42100b";case o.Main:return"4d100b";default:{s.warn(`profileLevelIdToString() | Level 1_b not is allowed for profile ${h.profile}`);return}}let E;switch(h.profile){case o.ConstrainedBaseline:{E="42e0";break}case o.Baseline:{E="4200";break}case o.Main:{E="4d00";break}case o.ConstrainedHigh:{E="640c";break}case o.High:{E="6400";break}case o.PredictiveHigh444:{E="f400";break}default:{s.warn(`profileLevelIdToString() | unrecognized profile ${h.profile}`);return}}let k=h.level.toString(16);return k.length===1&&(k=`0${k}`),`${E}${k}`}function R(h){switch(h){case o.ConstrainedBaseline:return"ConstrainedBaseline";case o.Baseline:return"Baseline";case o.Main:return"Main";case o.ConstrainedHigh:return"ConstrainedHigh";case o.High:return"High";case o.PredictiveHigh444:return"PredictiveHigh444";default:{s.warn(`profileToString() | unrecognized profile ${h}`);return}}}function q(h){switch(h){case c.L1_b:return"1b";case c.L1:return"1";case c.L1_1:return"1.1";case c.L1_2:return"1.2";case c.L1_3:return"1.3";case c.L2:return"2";case c.L2_1:return"2.1";case c.L2_2:return"2.2";case c.L3:return"3";case c.L3_1:return"3.1";case c.L3_2:return"3.2";case c.L4:return"4";case c.L4_1:return"4.1";case c.L4_2:return"4.2";case c.L5:return"5";case c.L5_1:return"5.1";case c.L5_2:return"5.2";default:{s.warn(`levelToString() | unrecognized level ${h}`);return}}}function z(h={}){const E=h["profile-level-id"];return E?p(E):T}function u(h={},E={}){const k=z(h),B=z(E);return!!(k&&B&&k.profile===B.profile)}function f(h={},E={}){const k=z(h),B=z(E);return!!(k&&B&&k.profile===B.profile&&k.level==B.level)}function m(h={},E={}){if(!h["profile-level-id"]&&!E["profile-level-id"]){s.warn("generateProfileLevelIdStringForAnswer() | profile-level-id missing in local and remote params");return}const k=z(h),B=z(E);if(!k)throw new TypeError("invalid local_profile_level_id");if(!B)throw new TypeError("invalid remote_profile_level_id");if(k.profile!==B.profile)throw new TypeError("H264 Profile mismatch");const ee=C(h)&&C(E),ae=k.level,b=B.level,Q=M(ae,b),Z=ee?ae:Q;return s.debug(`generateProfileLevelIdStringForAnswer() | result [profile:${k.profile}, level:${Z}]`),S(new _(k.profile,Z))}function v(h,E){for(let B=x.length-1;B>=0;--B){const ee=x[B];if(ee.max_macroblock_frame_size*256<=h&&ee.max_macroblocks_per_second<=E*ee.max_macroblock_frame_size)return s.debug(`supportedLevel() | result [max_frame_pixel_count:${h}, max_fps:${E}, level:${ee.level}]`),ee.level}s.warn(`supportedLevel() | no level supported [max_frame_pixel_count:${h}, max_fps:${E}]`)}function L(h,E){return+(E[0]===h)<<7|+(E[1]===h)<<6|+(E[2]===h)<<5|+(E[3]===h)<<4|+(E[4]===h)<<3|+(E[5]===h)<<2|+(E[6]===h)<<1|+(E[7]===h)<<0}function D(h,E){return h===c.L1_b?E!==c.L1&&E!==c.L1_b:E===c.L1_b?h!==c.L1:h<E}function M(h,E){return D(h,E)?h:E}function C(h={}){const E=h["level-asymmetry-allowed"];return E===!0||E===1||E==="1"}return rt}var qh;function Rn(){if(qh)return ht;qh=1,Object.defineProperty(ht,"__esModule",{value:!0}),ht.validateAndNormalizeRtpCapabilities=T,ht.validateAndNormalizeRtpParameters=w,ht.validateAndNormalizeSctpStreamParameters=g,ht.validateSctpCapabilities=A,ht.getExtendedRtpCapabilities=x,ht.getRecvRtpCapabilities=p,ht.getSendingRtpParameters=S,ht.getSendingRemoteRtpParameters=R,ht.reduceCodecs=q,ht.generateProbatorRtpParameters=z,ht.canSend=u,ht.canReceive=f;const l=O_(),s=da(),o="probator",c=1234,_=127;function T(b){if(typeof b!="object")throw new TypeError("caps is not an object");if(b.codecs&&!Array.isArray(b.codecs))throw new TypeError("caps.codecs is not an array");b.codecs||(b.codecs=[]);for(const Q of b.codecs)m(Q);if(b.headerExtensions&&!Array.isArray(b.headerExtensions))throw new TypeError("caps.headerExtensions is not an array");b.headerExtensions||(b.headerExtensions=[]);for(const Q of b.headerExtensions)L(Q)}function w(b){if(typeof b!="object")throw new TypeError("params is not an object");if(b.mid&&typeof b.mid!="string")throw new TypeError("params.mid is not a string");if(!Array.isArray(b.codecs))throw new TypeError("missing params.codecs");for(const Q of b.codecs)D(Q);if(b.headerExtensions&&!Array.isArray(b.headerExtensions))throw new TypeError("params.headerExtensions is not an array");b.headerExtensions||(b.headerExtensions=[]);for(const Q of b.headerExtensions)M(Q);if(b.encodings&&!Array.isArray(b.encodings))throw new TypeError("params.encodings is not an array");b.encodings||(b.encodings=[]);for(const Q of b.encodings)C(Q);if(b.rtcp&&typeof b.rtcp!="object")throw new TypeError("params.rtcp is not an object");b.rtcp||(b.rtcp={}),h(b.rtcp)}function g(b){if(typeof b!="object")throw new TypeError("params is not an object");if(typeof b.streamId!="number")throw new TypeError("missing params.streamId");let Q=!1;if(typeof b.ordered=="boolean"?Q=!0:b.ordered=!0,b.maxPacketLifeTime&&typeof b.maxPacketLifeTime!="number")throw new TypeError("invalid params.maxPacketLifeTime");if(b.maxRetransmits&&typeof b.maxRetransmits!="number")throw new TypeError("invalid params.maxRetransmits");if(b.maxPacketLifeTime&&b.maxRetransmits)throw new TypeError("cannot provide both maxPacketLifeTime and maxRetransmits");if(Q&&b.ordered&&(b.maxPacketLifeTime||b.maxRetransmits))throw new TypeError("cannot be ordered with maxPacketLifeTime or maxRetransmits");if(!Q&&(b.maxPacketLifeTime||b.maxRetransmits)&&(b.ordered=!1),b.label&&typeof b.label!="string")throw new TypeError("invalid params.label");if(b.protocol&&typeof b.protocol!="string")throw new TypeError("invalid params.protocol")}function A(b){if(typeof b!="object")throw new TypeError("caps is not an object");if(!b.numStreams||typeof b.numStreams!="object")throw new TypeError("missing caps.numStreams");E(b.numStreams)}function x(b,Q,Z){const O={codecs:[],headerExtensions:[]};if(Z)for(const P of b.codecs??[]){if(k(P))continue;const J=(Q.codecs??[]).find(ue=>B(ue,P,{strict:!0,modify:!0}));if(!J)continue;const re={kind:P.kind,mimeType:P.mimeType,clockRate:P.clockRate,channels:P.channels,localPayloadType:P.preferredPayloadType,localRtxPayloadType:void 0,remotePayloadType:J.preferredPayloadType,remoteRtxPayloadType:void 0,localParameters:P.parameters??{},remoteParameters:J.parameters??{},rtcpFeedback:ae(P,J)};O.codecs.push(re)}else for(const P of Q.codecs??[]){if(k(P))continue;const J=(b.codecs??[]).find(ue=>B(ue,P,{strict:!0,modify:!0}));if(!J)continue;const re={kind:J.kind,mimeType:J.mimeType,clockRate:J.clockRate,channels:J.channels,localPayloadType:J.preferredPayloadType,localRtxPayloadType:void 0,remotePayloadType:P.preferredPayloadType,remoteRtxPayloadType:void 0,localParameters:J.parameters??{},remoteParameters:P.parameters??{},rtcpFeedback:ae(J,P)};O.codecs.push(re)}for(const P of O.codecs){const J=b.codecs.find(ue=>k(ue)&&ue.parameters?.apt===P.localPayloadType),re=Q.codecs.find(ue=>k(ue)&&ue.parameters?.apt===P.remotePayloadType);J&&re&&(P.localRtxPayloadType=J.preferredPayloadType,P.remoteRtxPayloadType=re.preferredPayloadType)}for(const P of Q.headerExtensions){const J=b.headerExtensions.find(ue=>ee(ue,P));if(!J)continue;const re={kind:P.kind,uri:P.uri,sendId:J.preferredId,recvId:P.preferredId,encrypt:J.preferredEncrypt??!1,direction:"sendrecv"};switch(P.direction){case"sendrecv":{re.direction="sendrecv";break}case"recvonly":{re.direction="sendonly";break}case"sendonly":{re.direction="recvonly";break}case"inactive":{re.direction="inactive";break}}O.headerExtensions.push(re)}return O}function p(b){const Q={codecs:[],headerExtensions:[]};for(const Z of b.codecs){const O={kind:Z.kind,mimeType:Z.mimeType,preferredPayloadType:Z.remotePayloadType,clockRate:Z.clockRate,channels:Z.channels,parameters:Z.localParameters,rtcpFeedback:Z.rtcpFeedback};if(Q.codecs.push(O),!Z.remoteRtxPayloadType)continue;const P={kind:Z.kind,mimeType:`${Z.kind}/rtx`,preferredPayloadType:Z.remoteRtxPayloadType,clockRate:Z.clockRate,parameters:{apt:Z.remotePayloadType},rtcpFeedback:[]};Q.codecs.push(P)}for(const Z of b.headerExtensions){if(Z.direction!=="sendrecv"&&Z.direction!=="recvonly")continue;const O={kind:Z.kind,uri:Z.uri,preferredId:Z.recvId,preferredEncrypt:Z.encrypt??!1,direction:Z.direction};Q.headerExtensions.push(O)}return Q}function S(b,Q){const Z={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const O of Q.codecs){if(O.kind!==b)continue;const P={mimeType:O.mimeType,payloadType:O.localPayloadType,clockRate:O.clockRate,channels:O.channels,parameters:O.localParameters,rtcpFeedback:O.rtcpFeedback};if(Z.codecs.push(P),O.localRtxPayloadType){const J={mimeType:`${O.kind}/rtx`,payloadType:O.localRtxPayloadType,clockRate:O.clockRate,parameters:{apt:O.localPayloadType},rtcpFeedback:[]};Z.codecs.push(J)}}for(const O of Q.headerExtensions){if(O.kind&&O.kind!==b||O.direction!=="sendrecv"&&O.direction!=="sendonly")continue;const P={uri:O.uri,id:O.sendId,encrypt:O.encrypt,parameters:{}};Z.headerExtensions.push(P)}return Z}function R(b,Q){const Z={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const O of Q.codecs){if(O.kind!==b)continue;const P={mimeType:O.mimeType,payloadType:O.localPayloadType,clockRate:O.clockRate,channels:O.channels,parameters:O.remoteParameters,rtcpFeedback:O.rtcpFeedback};if(Z.codecs.push(P),O.localRtxPayloadType){const J={mimeType:`${O.kind}/rtx`,payloadType:O.localRtxPayloadType,clockRate:O.clockRate,parameters:{apt:O.localPayloadType},rtcpFeedback:[]};Z.codecs.push(J)}}for(const O of Q.headerExtensions){if(O.kind&&O.kind!==b||O.direction!=="sendrecv"&&O.direction!=="sendonly")continue;const P={uri:O.uri,id:O.sendId,encrypt:O.encrypt,parameters:{}};Z.headerExtensions.push(P)}if(Z.headerExtensions.some(O=>O.uri==="http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"))for(const O of Z.codecs)O.rtcpFeedback=(O.rtcpFeedback??[]).filter(P=>P.type!=="goog-remb");else if(Z.headerExtensions.some(O=>O.uri==="http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"))for(const O of Z.codecs)O.rtcpFeedback=(O.rtcpFeedback??[]).filter(P=>P.type!=="transport-cc");else for(const O of Z.codecs)O.rtcpFeedback=(O.rtcpFeedback??[]).filter(P=>P.type!=="transport-cc"&&P.type!=="goog-remb");return Z}function q(b,Q){const Z=[];if(!Q)Z.push(b[0]),k(b[1])&&Z.push(b[1]);else{for(let O=0;O<b.length;++O)if(B(b[O],Q,{strict:!0})){Z.push(b[O]),k(b[O+1])&&Z.push(b[O+1]);break}if(Z.length===0)throw new TypeError("no matching codec found")}return Z}function z(b){b=s.clone(b),w(b);const Q={mid:o,codecs:[],headerExtensions:[],encodings:[{ssrc:c}],rtcp:{cname:"probator"}};return Q.codecs.push(b.codecs[0]),Q.codecs[0].payloadType=_,Q.headerExtensions=b.headerExtensions,Q}function u(b,Q){return(Q.codecs??[]).some(Z=>Z.kind===b)}function f(b,Q){if(w(b),b.codecs.length===0)return!1;const Z=b.codecs[0];return(Q.codecs??[]).some(O=>O.preferredPayloadType===Z.payloadType)}function m(b){const Q=new RegExp("^(audio|video)/(.+)","i");if(typeof b!="object")throw new TypeError("codec is not an object");if(!b.mimeType||typeof b.mimeType!="string")throw new TypeError("missing codec.mimeType");const Z=Q.exec(b.mimeType);if(!Z)throw new TypeError("invalid codec.mimeType");if(b.kind=Z[1].toLowerCase(),typeof b.preferredPayloadType!="number")throw new TypeError("missing codec.preferredPayloadType");if(typeof b.clockRate!="number")throw new TypeError("missing codec.clockRate");b.kind==="audio"?typeof b.channels!="number"&&(b.channels=1):delete b.channels,(!b.parameters||typeof b.parameters!="object")&&(b.parameters={});for(const O of Object.keys(b.parameters)){let P=b.parameters[O];if(P===void 0&&(b.parameters[O]="",P=""),typeof P!="string"&&typeof P!="number")throw new TypeError(`invalid codec parameter [key:${O}s, value:${P}]`);if(O==="apt"&&typeof P!="number")throw new TypeError("invalid codec apt parameter")}(!b.rtcpFeedback||!Array.isArray(b.rtcpFeedback))&&(b.rtcpFeedback=[]);for(const O of b.rtcpFeedback)v(O)}function v(b){if(typeof b!="object")throw new TypeError("fb is not an object");if(!b.type||typeof b.type!="string")throw new TypeError("missing fb.type");(!b.parameter||typeof b.parameter!="string")&&(b.parameter="")}function L(b){if(typeof b!="object")throw new TypeError("ext is not an object");if(b.kind!=="audio"&&b.kind!=="video")throw new TypeError("invalid ext.kind");if(!b.uri||typeof b.uri!="string")throw new TypeError("missing ext.uri");if(typeof b.preferredId!="number")throw new TypeError("missing ext.preferredId");if(b.preferredEncrypt&&typeof b.preferredEncrypt!="boolean")throw new TypeError("invalid ext.preferredEncrypt");if(b.preferredEncrypt||(b.preferredEncrypt=!1),b.direction&&typeof b.direction!="string")throw new TypeError("invalid ext.direction");b.direction||(b.direction="sendrecv")}function D(b){const Q=new RegExp("^(audio|video)/(.+)","i");if(typeof b!="object")throw new TypeError("codec is not an object");if(!b.mimeType||typeof b.mimeType!="string")throw new TypeError("missing codec.mimeType");const Z=Q.exec(b.mimeType);if(!Z)throw new TypeError("invalid codec.mimeType");if(typeof b.payloadType!="number")throw new TypeError("missing codec.payloadType");if(typeof b.clockRate!="number")throw new TypeError("missing codec.clockRate");Z[1].toLowerCase()==="audio"?typeof b.channels!="number"&&(b.channels=1):delete b.channels,(!b.parameters||typeof b.parameters!="object")&&(b.parameters={});for(const P of Object.keys(b.parameters)){let J=b.parameters[P];if(J===void 0&&(b.parameters[P]="",J=""),typeof J!="string"&&typeof J!="number")throw new TypeError(`invalid codec parameter [key:${P}s, value:${J}]`);if(P==="apt"&&typeof J!="number")throw new TypeError("invalid codec apt parameter")}(!b.rtcpFeedback||!Array.isArray(b.rtcpFeedback))&&(b.rtcpFeedback=[]);for(const P of b.rtcpFeedback)v(P)}function M(b){if(typeof b!="object")throw new TypeError("ext is not an object");if(!b.uri||typeof b.uri!="string")throw new TypeError("missing ext.uri");if(typeof b.id!="number")throw new TypeError("missing ext.id");if(b.encrypt&&typeof b.encrypt!="boolean")throw new TypeError("invalid ext.encrypt");b.encrypt||(b.encrypt=!1),(!b.parameters||typeof b.parameters!="object")&&(b.parameters={});for(const Q of Object.keys(b.parameters)){let Z=b.parameters[Q];if(Z===void 0&&(b.parameters[Q]="",Z=""),typeof Z!="string"&&typeof Z!="number")throw new TypeError("invalid header extension parameter")}}function C(b){if(typeof b!="object")throw new TypeError("encoding is not an object");if(b.ssrc&&typeof b.ssrc!="number")throw new TypeError("invalid encoding.ssrc");if(b.rid&&typeof b.rid!="string")throw new TypeError("invalid encoding.rid");if(b.rtx&&typeof b.rtx!="object")throw new TypeError("invalid encoding.rtx");if(b.rtx&&typeof b.rtx.ssrc!="number")throw new TypeError("missing encoding.rtx.ssrc");if((!b.dtx||typeof b.dtx!="boolean")&&(b.dtx=!1),b.scalabilityMode&&typeof b.scalabilityMode!="string")throw new TypeError("invalid encoding.scalabilityMode")}function h(b){if(typeof b!="object")throw new TypeError("rtcp is not an object");if(b.cname&&typeof b.cname!="string")throw new TypeError("invalid rtcp.cname");(!b.reducedSize||typeof b.reducedSize!="boolean")&&(b.reducedSize=!0)}function E(b){if(typeof b!="object")throw new TypeError("numStreams is not an object");if(typeof b.OS!="number")throw new TypeError("missing numStreams.OS");if(typeof b.MIS!="number")throw new TypeError("missing numStreams.MIS")}function k(b){return b?/.+\/rtx$/i.test(b.mimeType):!1}function B(b,Q,{strict:Z=!1,modify:O=!1}={}){const P=b.mimeType.toLowerCase(),J=Q.mimeType.toLowerCase();if(P!==J||b.clockRate!==Q.clockRate||b.channels!==Q.channels)return!1;switch(P){case"video/h264":{if(Z){const re=b.parameters["packetization-mode"]??0,ue=Q.parameters["packetization-mode"]??0;if(re!==ue||!l.isSameProfile(b.parameters,Q.parameters))return!1;let j;try{j=l.generateProfileLevelIdStringForAnswer(b.parameters,Q.parameters)}catch{return!1}O&&(j?(b.parameters["profile-level-id"]=j,Q.parameters["profile-level-id"]=j):(delete b.parameters["profile-level-id"],delete Q.parameters["profile-level-id"]))}break}case"video/vp9":{if(Z){const re=b.parameters["profile-id"]??0,ue=Q.parameters["profile-id"]??0;if(re!==ue)return!1}break}}return!0}function ee(b,Q){return!(b.kind&&Q.kind&&b.kind!==Q.kind||b.uri!==Q.uri)}function ae(b,Q){const Z=[];for(const O of b.rtcpFeedback??[]){const P=(Q.rtcpFeedback??[]).find(J=>J.type===O.type&&(J.parameter===O.parameter||!J.parameter&&!O.parameter));P&&Z.push(P)}return Z}return ht}var pr={},Zl={},hr={},mr={},Bh;function L_(){if(Bh)return mr;Bh=1,Object.defineProperty(mr,"__esModule",{value:!0}),mr.Logger=void 0;const l=bc(),s="awaitqueue";let o=class{_debug;_warn;_error;constructor(_){_?(this._debug=l(`${s}:${_}`),this._warn=l(`${s}:WARN:${_}`),this._error=l(`${s}:ERROR:${_}`)):(this._debug=l(s),this._warn=l(`${s}:WARN`),this._error=l(`${s}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}};return mr.Logger=o,mr}var wi={},Hh;function Nm(){if(Hh)return wi;Hh=1,Object.defineProperty(wi,"__esModule",{value:!0}),wi.AwaitQueueRemovedTaskError=wi.AwaitQueueStoppedError=void 0;class l extends Error{constructor(c){super(c??"queue stopped"),this.name="AwaitQueueStoppedError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,l)}}wi.AwaitQueueStoppedError=l;class s extends Error{constructor(c){super(c??"queue task removed"),this.name="AwaitQueueRemovedTaskError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,s)}}return wi.AwaitQueueRemovedTaskError=s,wi}var Ph;function k_(){if(Ph)return hr;Ph=1,Object.defineProperty(hr,"__esModule",{value:!0}),hr.AwaitQueue=void 0;const l=L_(),s=Nm(),o=new l.Logger("AwaitQueue");let c=class{pendingTasks=new Map;nextTaskId=0;constructor(){o.debug("constructor()")}get size(){return this.pendingTasks.size}async push(T,w,g){if(w=w??T.name,o.debug(`push() [name:${w}, options:%o]`,g),typeof T!="function")throw new TypeError("given task is not a function");if(w)try{Object.defineProperty(T,"name",{value:w})}catch{}return new Promise((A,x)=>{if(w&&g?.removeOngoingTasksWithSameName)for(const S of this.pendingTasks.values())S.name===w&&S.reject(new s.AwaitQueueRemovedTaskError,{canExecuteNextTask:!1});const p={id:this.nextTaskId++,task:T,name:w,enqueuedAt:Date.now(),executedAt:void 0,completed:!1,resolve:S=>{if(p.completed)return;p.completed=!0,this.pendingTasks.delete(p.id),o.debug(`resolving task [name:${p.name}]`),A(S);const[R]=this.pendingTasks.values();R&&!R.executedAt&&this.execute(R)},reject:(S,{canExecuteNextTask:R})=>{if(!p.completed&&(p.completed=!0,this.pendingTasks.delete(p.id),o.debug(`rejecting task [name:${p.name}]: %s`,String(S)),x(S),R)){const[q]=this.pendingTasks.values();q&&!q.executedAt&&this.execute(q)}}};this.pendingTasks.set(p.id,p),this.pendingTasks.size===1&&this.execute(p)})}stop(){o.debug("stop()");for(const T of this.pendingTasks.values())o.debug(`stop() | stopping task [name:${T.name}]`),T.reject(new s.AwaitQueueStoppedError,{canExecuteNextTask:!1})}remove(T){o.debug(`remove() [taskIdx:${T}]`);const w=Array.from(this.pendingTasks.values())[T];if(!w){o.debug(`stop() | no task with given idx [taskIdx:${T}]`);return}w.reject(new s.AwaitQueueRemovedTaskError,{canExecuteNextTask:!0})}dump(){const T=Date.now();let w=0;return Array.from(this.pendingTasks.values()).map(g=>({idx:w++,task:g.task,name:g.name,enqueuedTime:g.executedAt?g.executedAt-g.enqueuedAt:T-g.enqueuedAt,executionTime:g.executedAt?T-g.executedAt:0}))}async execute(T){if(o.debug(`execute() [name:${T.name}]`),T.executedAt)throw new Error("task already being executed");T.executedAt=Date.now();try{const w=await T.task();T.resolve(w)}catch(w){T.reject(w,{canExecuteNextTask:!0})}}};return hr.AwaitQueue=c,hr}var Ih;function N_(){return Ih||(Ih=1,(function(l){Object.defineProperty(l,"__esModule",{value:!0}),l.AwaitQueueRemovedTaskError=l.AwaitQueueStoppedError=l.AwaitQueue=void 0;var s=k_();Object.defineProperty(l,"AwaitQueue",{enumerable:!0,get:function(){return s.AwaitQueue}});var o=Nm();Object.defineProperty(l,"AwaitQueueStoppedError",{enumerable:!0,get:function(){return o.AwaitQueueStoppedError}}),Object.defineProperty(l,"AwaitQueueRemovedTaskError",{enumerable:!0,get:function(){return o.AwaitQueueRemovedTaskError}})})(Zl)),Zl}var gr={},Yh;function z_(){if(Yh)return gr;Yh=1,Object.defineProperty(gr,"__esModule",{value:!0}),gr.Producer=void 0;const l=Ct(),s=Nt(),o=$t(),c=new l.Logger("Producer");let _=class extends s.EnhancedEventEmitter{_id;_localId;_closed=!1;_rtpSender;_track;_kind;_rtpParameters;_paused;_maxSpatialLayer;_stopTracks;_disableTrackOnPause;_zeroRtpOnPause;_appData;_observer=new s.EnhancedEventEmitter;constructor({id:w,localId:g,rtpSender:A,track:x,rtpParameters:p,stopTracks:S,disableTrackOnPause:R,zeroRtpOnPause:q,appData:z}){super(),c.debug("constructor()"),this._id=w,this._localId=g,this._rtpSender=A,this._track=x,this._kind=x.kind,this._rtpParameters=p,this._paused=R?!x.enabled:!1,this._maxSpatialLayer=void 0,this._stopTracks=S,this._disableTrackOnPause=R,this._zeroRtpOnPause=q,this._appData=z??{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get closed(){return this._closed}get kind(){return this._kind}get rtpSender(){return this._rtpSender}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get maxSpatialLayer(){return this._maxSpatialLayer}get appData(){return this._appData}set appData(w){this._appData=w}get observer(){return this._observer}close(){this._closed||(c.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"),super.close(),this._observer.close())}transportClosed(){this._closed||(c.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new o.InvalidStateError("closed");return new Promise((w,g)=>{this.safeEmit("@getstats",w,g)})}pause(){if(c.debug("pause()"),this._closed){c.error("pause() | Producer closed");return}this._paused=!0,this._track&&this._disableTrackOnPause&&(this._track.enabled=!1),this._zeroRtpOnPause&&new Promise((w,g)=>{this.safeEmit("@pause",w,g)}).catch(()=>{}),this._observer.safeEmit("pause")}resume(){if(c.debug("resume()"),this._closed){c.error("resume() | Producer closed");return}this._paused=!1,this._track&&this._disableTrackOnPause&&(this._track.enabled=!0),this._zeroRtpOnPause&&new Promise((w,g)=>{this.safeEmit("@resume",w,g)}).catch(()=>{}),this._observer.safeEmit("resume")}async replaceTrack({track:w}){if(c.debug("replaceTrack() [track:%o]",w),this._closed){if(w&&this._stopTracks)try{w.stop()}catch{}throw new o.InvalidStateError("closed")}else if(w?.readyState==="ended")throw new o.InvalidStateError("track ended");if(w===this._track){c.debug("replaceTrack() | same track, ignored");return}await new Promise((g,A)=>{this.safeEmit("@replacetrack",w,g,A)}),this.destroyTrack(),this._track=w,this._track&&this._disableTrackOnPause&&(this._paused?this._paused&&(this._track.enabled=!1):this._track.enabled=!0),this.handleTrack()}async setMaxSpatialLayer(w){if(this._closed)throw new o.InvalidStateError("closed");if(this._kind!=="video")throw new o.UnsupportedError("not a video Producer");if(typeof w!="number")throw new TypeError("invalid spatialLayer");w!==this._maxSpatialLayer&&(await new Promise((g,A)=>{this.safeEmit("@setmaxspatiallayer",w,g,A)}).catch(()=>{}),this._maxSpatialLayer=w)}async setRtpEncodingParameters(w){if(this._closed)throw new o.InvalidStateError("closed");if(typeof w!="object")throw new TypeError("invalid params");await new Promise((g,A)=>{this.safeEmit("@setrtpencodingparameters",w,g,A)})}onTrackEnded(){c.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track&&this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){if(this._track)try{this._track.removeEventListener("ended",this.onTrackEnded),this._stopTracks&&this._track.stop()}catch{}}};return gr.Producer=_,gr}var vr={},Vh;function j_(){if(Vh)return vr;Vh=1,Object.defineProperty(vr,"__esModule",{value:!0}),vr.Consumer=void 0;const l=Ct(),s=Nt(),o=$t(),c=new l.Logger("Consumer");let _=class extends s.EnhancedEventEmitter{_id;_localId;_producerId;_closed=!1;_rtpReceiver;_track;_rtpParameters;_paused;_appData;_observer=new s.EnhancedEventEmitter;constructor({id:w,localId:g,producerId:A,rtpReceiver:x,track:p,rtpParameters:S,appData:R}){super(),c.debug("constructor()"),this._id=w,this._localId=g,this._producerId=A,this._rtpReceiver=x,this._track=p,this._rtpParameters=S,this._paused=!p.enabled,this._appData=R??{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get producerId(){return this._producerId}get closed(){return this._closed}get kind(){return this._track.kind}get rtpReceiver(){return this._rtpReceiver}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get appData(){return this._appData}set appData(w){this._appData=w}get observer(){return this._observer}close(){this._closed||(c.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"),super.close(),this._observer.close())}transportClosed(){this._closed||(c.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new o.InvalidStateError("closed");return new Promise((w,g)=>{this.safeEmit("@getstats",w,g)})}pause(){if(c.debug("pause()"),this._closed){c.error("pause() | Consumer closed");return}if(this._paused){c.debug("pause() | Consumer is already paused");return}this._paused=!0,this._track.enabled=!1,this.emit("@pause"),this._observer.safeEmit("pause")}resume(){if(c.debug("resume()"),this._closed){c.error("resume() | Consumer closed");return}if(!this._paused){c.debug("resume() | Consumer is already resumed");return}this._paused=!1,this._track.enabled=!0,this.emit("@resume"),this._observer.safeEmit("resume")}onTrackEnded(){c.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){try{this._track.removeEventListener("ended",this.onTrackEnded),this._track.stop()}catch{}}};return vr.Consumer=_,vr}var yr={},Gh;function U_(){if(Gh)return yr;Gh=1,Object.defineProperty(yr,"__esModule",{value:!0}),yr.DataProducer=void 0;const l=Ct(),s=Nt(),o=$t(),c=new l.Logger("DataProducer");let _=class extends s.EnhancedEventEmitter{_id;_dataChannel;_closed=!1;_sctpStreamParameters;_appData;_observer=new s.EnhancedEventEmitter;constructor({id:w,dataChannel:g,sctpStreamParameters:A,appData:x}){super(),c.debug("constructor()"),this._id=w,this._dataChannel=g,this._sctpStreamParameters=A,this._appData=x??{},this.handleDataChannel()}get id(){return this._id}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get bufferedAmount(){return this._dataChannel.bufferedAmount}get bufferedAmountLowThreshold(){return this._dataChannel.bufferedAmountLowThreshold}set bufferedAmountLowThreshold(w){this._dataChannel.bufferedAmountLowThreshold=w}get appData(){return this._appData}set appData(w){this._appData=w}get observer(){return this._observer}close(){this._closed||(c.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"),super.close(),this._observer.close())}transportClosed(){this._closed||(c.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}send(w){if(c.debug("send()"),this._closed)throw new o.InvalidStateError("closed");this._dataChannel.send(w)}handleDataChannel(){this._dataChannel.addEventListener("open",()=>{this._closed||(c.debug('DataChannel "open" event'),this.safeEmit("open"))}),this._dataChannel.addEventListener("error",w=>{if(this._closed)return;const g=w.error??new Error("unknown DataChannel error");w.error?.errorDetail==="sctp-failure"?c.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",w.error?.sctpCauseCode,w.error.message):c.error('DataChannel "error" event: %o',g),this.safeEmit("error",g)}),this._dataChannel.addEventListener("close",()=>{this._closed||(c.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))}),this._dataChannel.addEventListener("message",()=>{this._closed||c.warn('DataChannel "message" event in a DataProducer, message discarded')}),this._dataChannel.addEventListener("bufferedamountlow",()=>{this._closed||this.safeEmit("bufferedamountlow")})}};return yr.DataProducer=_,yr}var _r={},Qh;function q_(){if(Qh)return _r;Qh=1,Object.defineProperty(_r,"__esModule",{value:!0}),_r.DataConsumer=void 0;const l=Ct(),s=Nt(),o=new l.Logger("DataConsumer");let c=class extends s.EnhancedEventEmitter{_id;_dataProducerId;_dataChannel;_closed=!1;_sctpStreamParameters;_appData;_observer=new s.EnhancedEventEmitter;constructor({id:T,dataProducerId:w,dataChannel:g,sctpStreamParameters:A,appData:x}){super(),o.debug("constructor()"),this._id=T,this._dataProducerId=w,this._dataChannel=g,this._sctpStreamParameters=A,this._appData=x??{},this.handleDataChannel()}get id(){return this._id}get dataProducerId(){return this._dataProducerId}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get binaryType(){return this._dataChannel.binaryType}set binaryType(T){this._dataChannel.binaryType=T}get appData(){return this._appData}set appData(T){this._appData=T}get observer(){return this._observer}close(){this._closed||(o.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"),super.close(),this._observer.close())}transportClosed(){this._closed||(o.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}handleDataChannel(){this._dataChannel.addEventListener("open",()=>{this._closed||(o.debug('DataChannel "open" event'),this.safeEmit("open"))}),this._dataChannel.addEventListener("error",T=>{if(this._closed)return;const w=T.error??new Error("unknown DataChannel error");T.error?.errorDetail==="sctp-failure"?o.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",T.error?.sctpCauseCode,T.error.message):o.error('DataChannel "error" event: %o',w),this.safeEmit("error",w)}),this._dataChannel.addEventListener("close",()=>{this._closed||(o.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))}),this._dataChannel.addEventListener("message",T=>{this._closed||this.safeEmit("message",T.data)})}};return _r.DataConsumer=c,_r}var Xh;function B_(){if(Xh)return pr;Xh=1,Object.defineProperty(pr,"__esModule",{value:!0}),pr.Transport=void 0;const l=N_(),s=Ct(),o=Nt(),c=$t(),_=da(),T=Rn(),w=z_(),g=j_(),A=U_(),x=q_(),p=new s.Logger("Transport");class S{consumerOptions;promise;resolve;reject;constructor(z){this.consumerOptions=z,this.promise=new Promise((u,f)=>{this.resolve=u,this.reject=f})}}let R=class extends o.EnhancedEventEmitter{_id;_closed=!1;_direction;_getSendExtendedRtpCapabilities;_recvRtpCapabilities;_canProduceByKind;_maxSctpMessageSize;_handler;_iceGatheringState="new";_connectionState="new";_appData;_producers=new Map;_consumers=new Map;_dataProducers=new Map;_dataConsumers=new Map;_probatorConsumerCreated=!1;_awaitQueue=new l.AwaitQueue;_pendingConsumerTasks=[];_consumerCreationInProgress=!1;_pendingPauseConsumers=new Map;_consumerPauseInProgress=!1;_pendingResumeConsumers=new Map;_consumerResumeInProgress=!1;_pendingCloseConsumers=new Map;_consumerCloseInProgress=!1;_observer=new o.EnhancedEventEmitter;constructor({direction:z,id:u,iceParameters:f,iceCandidates:m,dtlsParameters:v,sctpParameters:L,iceServers:D,iceTransportPolicy:M,additionalSettings:C,appData:h,handlerFactory:E,getSendExtendedRtpCapabilities:k,recvRtpCapabilities:B,canProduceByKind:ee}){super(),p.debug("constructor() [id:%s, direction:%s]",u,z),this._id=u,this._direction=z,this._getSendExtendedRtpCapabilities=k,this._recvRtpCapabilities=B,this._canProduceByKind=ee,this._maxSctpMessageSize=L?L.maxMessageSize:null;const ae=_.clone(C)??{};delete ae.iceServers,delete ae.iceTransportPolicy,delete ae.bundlePolicy,delete ae.rtcpMuxPolicy,this._handler=E.factory({direction:z,iceParameters:f,iceCandidates:m,dtlsParameters:v,sctpParameters:L,iceServers:D,iceTransportPolicy:M,additionalSettings:ae,getSendExtendedRtpCapabilities:this._getSendExtendedRtpCapabilities}),this._appData=h??{},this.handleHandler()}get id(){return this._id}get closed(){return this._closed}get direction(){return this._direction}get handler(){return this._handler}get iceGatheringState(){return this._iceGatheringState}get connectionState(){return this._connectionState}get appData(){return this._appData}set appData(z){this._appData=z}get observer(){return this._observer}close(){if(!this._closed){p.debug("close()"),this._closed=!0,this._awaitQueue.stop(),this._handler.close(),this._connectionState="closed";for(const z of this._producers.values())z.transportClosed();this._producers.clear();for(const z of this._consumers.values())z.transportClosed();this._consumers.clear();for(const z of this._dataProducers.values())z.transportClosed();this._dataProducers.clear();for(const z of this._dataConsumers.values())z.transportClosed();this._dataConsumers.clear(),this._observer.safeEmit("close"),super.close(),this._observer.close()}}async getStats(){if(this._closed)throw new c.InvalidStateError("closed");return this._handler.getTransportStats()}async restartIce({iceParameters:z}){if(p.debug("restartIce()"),this._closed)throw new c.InvalidStateError("closed");if(!z)throw new TypeError("missing iceParameters");return this._awaitQueue.push(async()=>await this._handler.restartIce(z),"transport.restartIce()")}async updateIceServers({iceServers:z}={}){if(p.debug("updateIceServers()"),this._closed)throw new c.InvalidStateError("closed");if(!Array.isArray(z))throw new TypeError("missing iceServers");return this._awaitQueue.push(async()=>this._handler.updateIceServers(z),"transport.updateIceServers()")}async produce({track:z,streamId:u,encodings:f,codecOptions:m,headerExtensionOptions:v,codec:L,stopTracks:D=!0,disableTrackOnPause:M=!0,zeroRtpOnPause:C=!1,onRtpSender:h,appData:E={}}={}){if(p.debug("produce() [track:%o]",z),this._closed)throw new c.InvalidStateError("closed");if(z){if(this._direction!=="send")throw new c.UnsupportedError("not a sending Transport");if(this._canProduceByKind[z.kind]){if(z.readyState==="ended")throw new c.InvalidStateError("track ended");if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(this.listenerCount("produce")===0)throw new TypeError('no "produce" listener set into this transport');if(E&&typeof E!="object")throw new TypeError("if given, appData must be an object")}else throw new c.UnsupportedError(`cannot produce ${z.kind}`)}else throw new TypeError("missing track");return this._awaitQueue.push(async()=>{let k;if(f&&!Array.isArray(f))throw TypeError("encodings must be an array");f?.length===0?k=void 0:f&&(k=f.map(b=>{const Q={active:!0};return b.active===!1&&(Q.active=!1),typeof b.dtx=="boolean"&&(Q.dtx=b.dtx),typeof b.scalabilityMode=="string"&&(Q.scalabilityMode=b.scalabilityMode),typeof b.scaleResolutionDownBy=="number"&&(Q.scaleResolutionDownBy=b.scaleResolutionDownBy),typeof b.maxBitrate=="number"&&(Q.maxBitrate=b.maxBitrate),typeof b.maxFramerate=="number"&&(Q.maxFramerate=b.maxFramerate),typeof b.adaptivePtime=="boolean"&&(Q.adaptivePtime=b.adaptivePtime),typeof b.priority=="string"&&(Q.priority=b.priority),typeof b.networkPriority=="string"&&(Q.networkPriority=b.networkPriority),Q}));const{localId:B,rtpParameters:ee,rtpSender:ae}=await this._handler.send({track:z,streamId:u,encodings:k,codecOptions:m,headerExtensionOptions:v,codec:L,onRtpSender:h});try{T.validateAndNormalizeRtpParameters(ee);const{id:b}=await new Promise((Z,O)=>{this.safeEmit("produce",{kind:z.kind,rtpParameters:ee,appData:E},Z,O)}),Q=new w.Producer({id:b,localId:B,rtpSender:ae,track:z,rtpParameters:ee,stopTracks:D,disableTrackOnPause:M,zeroRtpOnPause:C,appData:E});return this._producers.set(Q.id,Q),this.handleProducer(Q),this._observer.safeEmit("newproducer",Q),Q}catch(b){throw this._handler.stopSending(B).catch(()=>{}),b}},"transport.produce()").catch(k=>{if(D)try{z.stop()}catch{}throw k})}async consume({id:z,producerId:u,kind:f,rtpParameters:m,streamId:v,onRtpReceiver:L,appData:D={}}){if(p.debug("consume()"),this._closed)throw new c.InvalidStateError("closed");if(this._direction!=="recv")throw new c.UnsupportedError("not a receiving Transport");if(typeof z!="string")throw new TypeError("missing id");if(typeof u!="string")throw new TypeError("missing producerId");if(f!=="audio"&&f!=="video")throw new TypeError(`invalid kind '${f}'`);if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(D&&typeof D!="object")throw new TypeError("if given, appData must be an object");const M=_.clone(m);if(!T.canReceive(M,this._recvRtpCapabilities))throw new c.UnsupportedError("cannot consume this Producer");const h=new S({id:z,producerId:u,kind:f,rtpParameters:M,streamId:v,onRtpReceiver:L,appData:D});return this._pendingConsumerTasks.push(h),queueMicrotask(()=>{this._closed||this._consumerCreationInProgress===!1&&this.createPendingConsumers()}),h.promise}async produceData({ordered:z=!0,maxPacketLifeTime:u,maxRetransmits:f,label:m="",protocol:v="",appData:L={}}={}){if(p.debug("produceData()"),this._closed)throw new c.InvalidStateError("closed");if(this._direction!=="send")throw new c.UnsupportedError("not a sending Transport");if(this._maxSctpMessageSize){if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(this.listenerCount("producedata")===0)throw new TypeError('no "producedata" listener set into this transport');if(L&&typeof L!="object")throw new TypeError("if given, appData must be an object")}else throw new c.UnsupportedError("SCTP not enabled by remote Transport");return(u||f)&&(z=!1),this._awaitQueue.push(async()=>{const{dataChannel:D,sctpStreamParameters:M}=await this._handler.sendDataChannel({ordered:z,maxPacketLifeTime:u,maxRetransmits:f,label:m,protocol:v});T.validateAndNormalizeSctpStreamParameters(M);const{id:C}=await new Promise((E,k)=>{this.safeEmit("producedata",{sctpStreamParameters:M,label:m,protocol:v,appData:L},E,k)}),h=new A.DataProducer({id:C,dataChannel:D,sctpStreamParameters:M,appData:L});return this._dataProducers.set(h.id,h),this.handleDataProducer(h),this._observer.safeEmit("newdataproducer",h),h},"transport.produceData()")}async consumeData({id:z,dataProducerId:u,sctpStreamParameters:f,label:m="",protocol:v="",appData:L={}}){if(p.debug("consumeData()"),this._closed)throw new c.InvalidStateError("closed");if(this._direction!=="recv")throw new c.UnsupportedError("not a receiving Transport");if(this._maxSctpMessageSize){if(typeof z!="string")throw new TypeError("missing id");if(typeof u!="string")throw new TypeError("missing dataProducerId");if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(L&&typeof L!="object")throw new TypeError("if given, appData must be an object")}else throw new c.UnsupportedError("SCTP not enabled by remote Transport");const D=_.clone(f);return T.validateAndNormalizeSctpStreamParameters(D),this._awaitQueue.push(async()=>{const{dataChannel:M}=await this._handler.receiveDataChannel({sctpStreamParameters:D,label:m,protocol:v}),C=new x.DataConsumer({id:z,dataProducerId:u,dataChannel:M,sctpStreamParameters:D,appData:L});return this._dataConsumers.set(C.id,C),this.handleDataConsumer(C),this._observer.safeEmit("newdataconsumer",C),C},"transport.consumeData()")}createPendingConsumers(){this._consumerCreationInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingConsumerTasks.length===0){p.debug("createPendingConsumers() | there is no Consumer to be created");return}const z=[...this._pendingConsumerTasks];this._pendingConsumerTasks=[];let u;const f=[];for(const m of z){const{id:v,kind:L,rtpParameters:D,streamId:M,onRtpReceiver:C}=m.consumerOptions;f.push({trackId:v,kind:L,rtpParameters:D,streamId:M,onRtpReceiver:C})}try{const m=await this._handler.receive(f);for(let v=0;v<m.length;++v){const L=z[v],D=m[v],{id:M,producerId:C,kind:h,rtpParameters:E,appData:k}=L.consumerOptions,{localId:B,rtpReceiver:ee,track:ae}=D,b=new g.Consumer({id:M,localId:B,producerId:C,rtpReceiver:ee,track:ae,rtpParameters:E,appData:k});this._consumers.set(b.id,b),this.handleConsumer(b),!this._probatorConsumerCreated&&!u&&h==="video"&&(u=b),this._observer.safeEmit("newconsumer",b),L.resolve(b)}}catch(m){for(const v of z)v.reject(m)}if(u)try{const m=T.generateProbatorRtpParameters(u.rtpParameters);await this._handler.receive([{trackId:"probator",kind:"video",rtpParameters:m}]),p.debug("createPendingConsumers() | Consumer for RTP probation created"),this._probatorConsumerCreated=!0}catch(m){p.error("createPendingConsumers() | failed to create Consumer for RTP probation:%o",m)}},"transport.createPendingConsumers()").then(()=>{this._consumerCreationInProgress=!1,this._pendingConsumerTasks.length>0&&this.createPendingConsumers()}).catch(()=>{})}pausePendingConsumers(){this._consumerPauseInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingPauseConsumers.size===0){p.debug("pausePendingConsumers() | there is no Consumer to be paused");return}const z=Array.from(this._pendingPauseConsumers.values());this._pendingPauseConsumers.clear();try{const u=z.map(f=>f.localId);await this._handler.pauseReceiving(u)}catch(u){p.error("pausePendingConsumers() | failed to pause Consumers:",u)}},"transport.pausePendingConsumers()").then(()=>{this._consumerPauseInProgress=!1,this._pendingPauseConsumers.size>0&&this.pausePendingConsumers()}).catch(()=>{})}resumePendingConsumers(){this._consumerResumeInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingResumeConsumers.size===0){p.debug("resumePendingConsumers() | there is no Consumer to be resumed");return}const z=Array.from(this._pendingResumeConsumers.values());this._pendingResumeConsumers.clear();try{const u=z.map(f=>f.localId);await this._handler.resumeReceiving(u)}catch(u){p.error("resumePendingConsumers() | failed to resume Consumers:",u)}},"transport.resumePendingConsumers()").then(()=>{this._consumerResumeInProgress=!1,this._pendingResumeConsumers.size>0&&this.resumePendingConsumers()}).catch(()=>{})}closePendingConsumers(){this._consumerCloseInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingCloseConsumers.size===0){p.debug("closePendingConsumers() | there is no Consumer to be closed");return}const z=Array.from(this._pendingCloseConsumers.values());this._pendingCloseConsumers.clear();try{await this._handler.stopReceiving(z.map(u=>u.localId))}catch(u){p.error("closePendingConsumers() | failed to close Consumers:",u)}},"transport.closePendingConsumers()").then(()=>{this._consumerCloseInProgress=!1,this._pendingCloseConsumers.size>0&&this.closePendingConsumers()}).catch(()=>{})}handleHandler(){const z=this._handler;z.on("@connect",({dtlsParameters:u},f,m)=>{if(this._closed){m(new c.InvalidStateError("closed"));return}this.safeEmit("connect",{dtlsParameters:u},f,m)}),z.on("@icegatheringstatechange",u=>{u!==this._iceGatheringState&&(p.debug("ICE gathering state changed to %s",u),this._iceGatheringState=u,this._closed||this.safeEmit("icegatheringstatechange",u))}),z.on("@icecandidateerror",u=>{p.warn(`ICE candidate error [url:${u.url}, localAddress:${u.address}, localPort:${u.port}]: ${u.errorCode} "${u.errorText}"`),this.safeEmit("icecandidateerror",u)}),z.on("@connectionstatechange",u=>{u!==this._connectionState&&(p.debug("connection state changed to %s",u),this._connectionState=u,this._closed||this.safeEmit("connectionstatechange",u))})}handleProducer(z){z.on("@close",()=>{this._producers.delete(z.id),!this._closed&&this._awaitQueue.push(async()=>await this._handler.stopSending(z.localId),"producer @close event").catch(u=>p.warn("producer.close() failed:%o",u))}),z.on("@pause",(u,f)=>{this._awaitQueue.push(async()=>await this._handler.pauseSending(z.localId),"producer @pause event").then(u).catch(f)}),z.on("@resume",(u,f)=>{this._awaitQueue.push(async()=>await this._handler.resumeSending(z.localId),"producer @resume event").then(u).catch(f)}),z.on("@replacetrack",(u,f,m)=>{this._awaitQueue.push(async()=>await this._handler.replaceTrack(z.localId,u),"producer @replacetrack event").then(f).catch(m)}),z.on("@setmaxspatiallayer",(u,f,m)=>{this._awaitQueue.push(async()=>await this._handler.setMaxSpatialLayer(z.localId,u),"producer @setmaxspatiallayer event").then(f).catch(m)}),z.on("@setrtpencodingparameters",(u,f,m)=>{this._awaitQueue.push(async()=>await this._handler.setRtpEncodingParameters(z.localId,u),"producer @setrtpencodingparameters event").then(f).catch(m)}),z.on("@getstats",(u,f)=>{if(this._closed)return f(new c.InvalidStateError("closed"));this._handler.getSenderStats(z.localId).then(u).catch(f)})}handleConsumer(z){z.on("@close",()=>{this._consumers.delete(z.id),this._pendingPauseConsumers.delete(z.id),this._pendingResumeConsumers.delete(z.id),!this._closed&&(this._pendingCloseConsumers.set(z.id,z),this._consumerCloseInProgress===!1&&this.closePendingConsumers())}),z.on("@pause",()=>{this._pendingResumeConsumers.has(z.id)&&this._pendingResumeConsumers.delete(z.id),this._pendingPauseConsumers.set(z.id,z),queueMicrotask(()=>{this._closed||this._consumerPauseInProgress===!1&&this.pausePendingConsumers()})}),z.on("@resume",()=>{this._pendingPauseConsumers.has(z.id)&&this._pendingPauseConsumers.delete(z.id),this._pendingResumeConsumers.set(z.id,z),queueMicrotask(()=>{this._closed||this._consumerResumeInProgress===!1&&this.resumePendingConsumers()})}),z.on("@getstats",(u,f)=>{if(this._closed)return f(new c.InvalidStateError("closed"));this._handler.getReceiverStats(z.localId).then(u).catch(f)})}handleDataProducer(z){z.on("@close",()=>{this._dataProducers.delete(z.id)})}handleDataConsumer(z){z.on("@close",()=>{this._dataConsumers.delete(z.id)})}};return pr.Transport=R,pr}var br={},Kt={},Kl={},Jl={exports:{}},Fh;function pu(){if(Fh)return Jl.exports;Fh=1;var l=Jl.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(s){return s.encoding?"rtpmap:%d %s/%s/%s":s.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(s){return s.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(s){return s.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(s){return"extmap:%d"+(s.direction?"/%s":"%v")+(s["encrypt-uri"]?" %s":"%v")+" %s"+(s.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(s){return s.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{push:"msid",reg:/^msid:([\w-]+)(?: ([\w-]+))?/,names:["id","appdata"],format:"msid:%s %s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(s){var o="candidate:%s %d %s %d %s %d typ %s";return o+=s.raddr!=null?" raddr %s rport %d":"%v%v",o+=s.tcptype!=null?" tcptype %s":"%v",s.generation!=null&&(o+=" generation %d"),o+=s["network-id"]!=null?" network-id %d":"%v",o+=s["network-cost"]!=null?" network-cost %d":"%v",o}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(s){var o="ssrc:%d";return s.attribute!=null&&(o+=" %s",s.value!=null&&(o+=":%s")),o}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(s){return s.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(s){return s.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(s){return"imageattr:%s %s %s"+(s.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(s){return"simulcast:%s %s"+(s.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(s){return"ts-refclk:%s"+(s.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(s){var o="mediaclk:";return o+=s.id!=null?"id=%s %s":"%v%s",o+=s.mediaClockValue!=null?"=%s":"",o+=s.rateNumerator!=null?" rate=%s":"",o+=s.rateDenominator!=null?"/%s":"",o}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};return Object.keys(l).forEach(function(s){var o=l[s];o.forEach(function(c){c.reg||(c.reg=/(.*)/),c.format||(c.format="%s")})}),Jl.exports}var Zh;function H_(){return Zh||(Zh=1,(function(l){var s=function(g){return String(Number(g))===g?Number(g):g},o=function(g,A,x,p){if(p&&!x)A[p]=s(g[1]);else for(var S=0;S<x.length;S+=1)g[S+1]!=null&&(A[x[S]]=s(g[S+1]))},c=function(g,A,x){var p=g.name&&g.names;g.push&&!A[g.push]?A[g.push]=[]:p&&!A[g.name]&&(A[g.name]={});var S=g.push?{}:p?A[g.name]:A;o(x.match(g.reg),S,g.names,g.name),g.push&&A[g.push].push(S)},_=pu(),T=RegExp.prototype.test.bind(/^([a-z])=(.*)/);l.parse=function(g){var A={},x=[],p=A;return g.split(/(\r\n|\r|\n)/).filter(T).forEach(function(S){var R=S[0],q=S.slice(2);R==="m"&&(x.push({rtp:[],fmtp:[]}),p=x[x.length-1]);for(var z=0;z<(_[R]||[]).length;z+=1){var u=_[R][z];if(u.reg.test(q))return c(u,p,q)}}),A.media=x,A};var w=function(g,A){var x=A.split(/=(.+)/,2);return x.length===2?g[x[0]]=s(x[1]):x.length===1&&A.length>1&&(g[x[0]]=void 0),g};l.parseParams=function(g){return g.split(/;\s?/).reduce(w,{})},l.parseFmtpConfig=l.parseParams,l.parsePayloads=function(g){return g.toString().split(" ").map(Number)},l.parseRemoteCandidates=function(g){for(var A=[],x=g.split(" ").map(s),p=0;p<x.length;p+=3)A.push({component:x[p],ip:x[p+1],port:x[p+2]});return A},l.parseImageAttributes=function(g){return g.split(" ").map(function(A){return A.substring(1,A.length-1).split(",").reduce(w,{})})},l.parseSimulcastStreamList=function(g){return g.split(";").map(function(A){return A.split(",").map(function(x){var p,S=!1;return x[0]!=="~"?p=s(x):(p=s(x.substring(1,x.length)),S=!0),{scid:p,paused:S}})})}})(Kl)),Kl}var $l,Kh;function P_(){if(Kh)return $l;Kh=1;var l=pu(),s=/%[sdv%]/g,o=function(w){var g=1,A=arguments,x=A.length;return w.replace(s,function(p){if(g>=x)return p;var S=A[g];switch(g+=1,p){case"%%":return"%";case"%s":return String(S);case"%d":return Number(S);case"%v":return""}})},c=function(w,g,A){var x=g.format instanceof Function?g.format(g.push?A:A[g.name]):g.format,p=[w+"="+x];if(g.names)for(var S=0;S<g.names.length;S+=1){var R=g.names[S];g.name?p.push(A[g.name][R]):p.push(A[g.names[S]])}else p.push(A[g.name]);return o.apply(null,p)},_=["v","o","s","i","u","e","p","c","b","t","r","z","a"],T=["i","c","b","a"];return $l=function(w,g){g=g||{},w.version==null&&(w.version=0),w.name==null&&(w.name=" "),w.media.forEach(function(S){S.payloads==null&&(S.payloads="")});var A=g.outerOrder||_,x=g.innerOrder||T,p=[];return A.forEach(function(S){l[S].forEach(function(R){R.name in w&&w[R.name]!=null?p.push(c(S,R,w)):R.push in w&&w[R.push]!=null&&w[R.push].forEach(function(q){p.push(c(S,R,q))})})}),w.media.forEach(function(S){p.push(c("m",l.m[0],S)),x.forEach(function(R){l[R].forEach(function(q){q.name in S&&S[q.name]!=null?p.push(c(R,q,S)):q.push in S&&S[q.push]!=null&&S[q.push].forEach(function(z){p.push(c(R,q,z))})})})}),p.join(`\r
`)+`\r
`},$l}var Jh;function ei(){if(Jh)return Kt;Jh=1;var l=H_(),s=P_(),o=pu();return Kt.grammar=o,Kt.write=s,Kt.parse=l.parse,Kt.parseParams=l.parseParams,Kt.parseFmtpConfig=l.parseFmtpConfig,Kt.parsePayloads=l.parsePayloads,Kt.parseRemoteCandidates=l.parseRemoteCandidates,Kt.parseImageAttributes=l.parseImageAttributes,Kt.parseSimulcastStreamList=l.parseSimulcastStreamList,Kt}var rc={},$h;function fa(){if($h)return rc;$h=1,Object.defineProperty(rc,"__esModule",{value:!0}),rc.parse=s;const l=new RegExp("^[LS]([1-9]\\d{0,1})T([1-9]\\d{0,1})");function s(o){const c=l.exec(o??"");return c?{spatialLayers:Number(c[1]),temporalLayers:Number(c[2])}:{spatialLayers:1,temporalLayers:1}}return rc}var Sr={},Tn={},Wh;function I_(){if(Wh)return Tn;Wh=1,Object.defineProperty(Tn,"__esModule",{value:!0}),Tn.OfferMediaSection=Tn.AnswerMediaSection=Tn.MediaSection=void 0;const l=ei(),s=da();let o=class{_mediaObject;constructor({iceParameters:g,iceCandidates:A,dtlsParameters:x}){if(this._mediaObject={type:"",port:0,protocol:"",payloads:"",rtp:[],fmtp:[]},g&&this.setIceParameters(g),A){this._mediaObject.candidates=[];for(const p of A){const S={foundation:p.foundation,component:1,ip:p.address??p.ip,port:p.port,priority:p.priority,transport:p.protocol,type:p.type};p.tcpType&&(S.tcptype=p.tcpType),this._mediaObject.candidates.push(S)}this._mediaObject.endOfCandidates="end-of-candidates",this._mediaObject.iceOptions="renomination"}x&&this.setDtlsRole(x.role)}get mid(){return String(this._mediaObject.mid)}get closed(){return this._mediaObject.port===0}getObject(){return this._mediaObject}setIceParameters(g){this._mediaObject.iceUfrag=g.usernameFragment,this._mediaObject.icePwd=g.password}pause(){this._mediaObject.direction="inactive"}disable(){this.pause()}close(){this.disable(),this._mediaObject.port=0,delete this._mediaObject.candidates,delete this._mediaObject.endOfCandidates,delete this._mediaObject.iceUfrag,delete this._mediaObject.icePwd,delete this._mediaObject.iceOptions,this._mediaObject.rtp=[],this._mediaObject.fmtp=[],delete this._mediaObject.rtcp,delete this._mediaObject.rtcpFb,delete this._mediaObject.ssrcs,delete this._mediaObject.ssrcGroups,delete this._mediaObject.simulcast,delete this._mediaObject.simulcast_03,delete this._mediaObject.rids,delete this._mediaObject.extmapAllowMixed}};Tn.MediaSection=o;class c extends o{constructor({iceParameters:g,iceCandidates:A,dtlsParameters:x,sctpParameters:p,plainRtpParameters:S,offerMediaObject:R,offerRtpParameters:q,answerRtpParameters:z,codecOptions:u}){switch(super({iceParameters:g,iceCandidates:A,dtlsParameters:x}),this._mediaObject.mid=String(R.mid),this._mediaObject.type=R.type,this._mediaObject.protocol=R.protocol,S?(this._mediaObject.connection={ip:S.ip,version:S.ipVersion},this._mediaObject.port=S.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},this._mediaObject.port=7),R.type){case"audio":case"video":{this._mediaObject.direction="recvonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[];for(const f of z.codecs){const m={payload:f.payloadType,codec:T(f),rate:f.clockRate};f.channels>1&&(m.encoding=f.channels),this._mediaObject.rtp.push(m);const v=s.clone(f.parameters)??{};let L=s.clone(f.rtcpFeedback)??[];if(u){const{opusStereo:M,opusFec:C,opusDtx:h,opusMaxPlaybackRate:E,opusMaxAverageBitrate:k,opusPtime:B,opusNack:ee,videoGoogleStartBitrate:ae,videoGoogleMaxBitrate:b,videoGoogleMinBitrate:Q}=u,Z=q.codecs.find(O=>O.payloadType===f.payloadType);switch(f.mimeType.toLowerCase()){case"audio/opus":case"audio/multiopus":{M!==void 0&&(Z.parameters["sprop-stereo"]=M?1:0,v.stereo=M?1:0),C!==void 0&&(Z.parameters.useinbandfec=C?1:0,v.useinbandfec=C?1:0),h!==void 0&&(Z.parameters.usedtx=h?1:0,v.usedtx=h?1:0),E!==void 0&&(v.maxplaybackrate=E),k!==void 0&&(v.maxaveragebitrate=k),B!==void 0&&(Z.parameters.ptime=B,v.ptime=B),ee||(Z.rtcpFeedback=Z.rtcpFeedback.filter(O=>O.type!=="nack"||O.parameter),L=L.filter(O=>O.type!=="nack"||O.parameter));break}case"video/vp8":case"video/vp9":case"video/h264":case"video/h265":case"video/av1":{ae!==void 0&&(v["x-google-start-bitrate"]=ae),b!==void 0&&(v["x-google-max-bitrate"]=b),Q!==void 0&&(v["x-google-min-bitrate"]=Q);break}}}const D={payload:f.payloadType,config:""};for(const M of Object.keys(v))D.config&&(D.config+=";"),D.config+=`${M}=${v[M]}`;D.config&&this._mediaObject.fmtp.push(D);for(const M of L)this._mediaObject.rtcpFb.push({payload:f.payloadType,type:M.type,subtype:M.parameter})}this._mediaObject.payloads=z.codecs.map(f=>f.payloadType).join(" "),this._mediaObject.ext=[];for(const f of z.headerExtensions)(R.ext??[]).some(v=>v.uri===f.uri)&&this._mediaObject.ext.push({uri:f.uri,value:f.id});if(R.extmapAllowMixed==="extmap-allow-mixed"&&(this._mediaObject.extmapAllowMixed="extmap-allow-mixed"),R.simulcast){this._mediaObject.simulcast={dir1:"recv",list1:R.simulcast.list1},this._mediaObject.rids=[];for(const f of R.rids??[])f.direction==="send"&&this._mediaObject.rids.push({id:f.id,direction:"recv"})}else if(R.simulcast_03){this._mediaObject.simulcast_03={value:R.simulcast_03.value.replace(/send/g,"recv")},this._mediaObject.rids=[];for(const f of R.rids??[])f.direction==="send"&&this._mediaObject.rids.push({id:f.id,direction:"recv"})}this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize";break}case"application":{typeof R.sctpPort=="number"?(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=p.port,this._mediaObject.maxMessageSize=p.maxMessageSize):R.sctpmap&&(this._mediaObject.payloads=String(p.port),this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:p.port,maxMessageSize:p.maxMessageSize});break}}}setDtlsRole(g){switch(g){case"client":{this._mediaObject.setup="active";break}case"server":{this._mediaObject.setup="passive";break}case"auto":{this._mediaObject.setup="actpass";break}}}resume(){this._mediaObject.direction="recvonly"}muxSimulcastStreams(g){if(!this._mediaObject.simulcast?.list1)return;const A={};for(const S of g)S.rid&&(A[S.rid]=S);const x=this._mediaObject.simulcast.list1,p=l.parseSimulcastStreamList(x);for(const S of p)for(const R of S)R.paused=!A[R.scid]?.active;this._mediaObject.simulcast.list1=p.map(S=>S.map(R=>`${R.paused?"~":""}${R.scid}`).join(",")).join(";")}}Tn.AnswerMediaSection=c;class _ extends o{constructor({iceParameters:g,iceCandidates:A,dtlsParameters:x,sctpParameters:p,plainRtpParameters:S,mid:R,kind:q,offerRtpParameters:z,streamId:u,trackId:f}){switch(super({iceParameters:g,iceCandidates:A,dtlsParameters:x}),this._mediaObject.mid=String(R),this._mediaObject.type=q,S?(this._mediaObject.connection={ip:S.ip,version:S.ipVersion},this._mediaObject.protocol="RTP/AVP",this._mediaObject.port=S.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},p?this._mediaObject.protocol="UDP/DTLS/SCTP":this._mediaObject.protocol="UDP/TLS/RTP/SAVPF",this._mediaObject.port=7),this._mediaObject.extmapAllowMixed="extmap-allow-mixed",q){case"audio":case"video":{this._mediaObject.direction="sendonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[],this._mediaObject.msid=[{id:u,appdata:f}];for(const D of z.codecs){const M={payload:D.payloadType,codec:T(D),rate:D.clockRate};D.channels>1&&(M.encoding=D.channels),this._mediaObject.rtp.push(M);const C={payload:D.payloadType,config:""};for(const h of Object.keys(D.parameters??{}))C.config&&(C.config+=";"),C.config+=`${h}=${D.parameters[h]}`;C.config&&this._mediaObject.fmtp.push(C);for(const h of D.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:D.payloadType,type:h.type,subtype:h.parameter})}this._mediaObject.payloads=z.codecs.map(D=>D.payloadType).join(" "),this._mediaObject.ext=[];for(const D of z.headerExtensions)this._mediaObject.ext.push({uri:D.uri,value:D.id});this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize";const m=z.encodings[0],v=m.ssrc,L=m.rtx?.ssrc;this._mediaObject.ssrcs=[],this._mediaObject.ssrcGroups=[],v&&z.rtcp.cname&&this._mediaObject.ssrcs.push({id:v,attribute:"cname",value:z.rtcp.cname}),L&&(z.rtcp.cname&&this._mediaObject.ssrcs.push({id:L,attribute:"cname",value:z.rtcp.cname}),v&&this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:`${v} ${L}`}));break}case"application":{this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=p.port,this._mediaObject.maxMessageSize=p.maxMessageSize;break}}}setDtlsRole(g){this._mediaObject.setup="actpass"}resume(){this._mediaObject.direction="sendonly"}}Tn.OfferMediaSection=_;function T(w){const A=new RegExp("^(audio|video)/(.+)","i").exec(w.mimeType);if(!A)throw new TypeError("invalid codec.mimeType");return A[2]}return Tn}var em;function Nr(){if(em)return Sr;em=1,Object.defineProperty(Sr,"__esModule",{value:!0}),Sr.RemoteSdp=void 0;const l=ei(),s=Ct(),o=I_(),c=["av1","h264"],_=new s.Logger("RemoteSdp");let T=class{_iceParameters;_iceCandidates;_dtlsParameters;_sctpParameters;_plainRtpParameters;_mediaSections=[];_midToIndex=new Map;_firstMid;_sdpObject;constructor({iceParameters:g,iceCandidates:A,dtlsParameters:x,sctpParameters:p,plainRtpParameters:S}){if(this._iceParameters=g,this._iceCandidates=A,this._dtlsParameters=x,this._sctpParameters=p,this._plainRtpParameters=S,this._sdpObject={version:0,origin:{address:"0.0.0.0",ipVer:4,netType:"IN",sessionId:"10000",sessionVersion:0,username:"mediasoup-client"},name:"-",timing:{start:0,stop:0},media:[]},this._sdpObject.iceOptions="ice2",g?.iceLite&&(this._sdpObject.icelite="ice-lite"),x){this._sdpObject.msidSemantic={semantic:"WMS",token:"*"};const R=this._dtlsParameters.fingerprints.length;this._sdpObject.fingerprint={type:x.fingerprints[R-1].algorithm,hash:x.fingerprints[R-1].value},this._sdpObject.groups=[{type:"BUNDLE",mids:""}]}S&&(this._sdpObject.origin.address=S.ip,this._sdpObject.origin.ipVer=S.ipVersion)}updateIceParameters(g){_.debug("updateIceParameters() [iceParameters:%o]",g),this._iceParameters=g,this._sdpObject.icelite=g.iceLite?"ice-lite":void 0;for(const A of this._mediaSections)A.setIceParameters(g)}updateDtlsRole(g){_.debug("updateDtlsRole() [role:%s]",g),this._dtlsParameters.role=g;for(const A of this._mediaSections)A.setDtlsRole(g)}setSessionExtmapAllowMixed(){_.debug("setSessionExtmapAllowMixed()"),this._sdpObject.extmapAllowMixed="extmap-allow-mixed"}getNextMediaSectionIdx(){for(let g=0;g<this._mediaSections.length;++g){const A=this._mediaSections[g];if(A.closed)return{idx:g,reuseMid:A.mid}}return{idx:this._mediaSections.length}}send({offerMediaObject:g,reuseMid:A,offerRtpParameters:x,answerRtpParameters:p,codecOptions:S}){const R=new o.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,offerMediaObject:g,offerRtpParameters:x,answerRtpParameters:p,codecOptions:S}),q=R.getObject();q.rtp.find(u=>c.includes(u.codec.toLowerCase()))||(q.ext=q.ext?.filter(u=>u.uri!=="https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension")),A?this.replaceMediaSection(R,A):this._midToIndex.has(R.mid)?this.replaceMediaSection(R):this.addMediaSection(R)}receive({mid:g,kind:A,offerRtpParameters:x,streamId:p,trackId:S}){this.setSessionExtmapAllowMixed();const R=new o.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,mid:g,kind:A,offerRtpParameters:x,streamId:p,trackId:S}),q=this._mediaSections.find(z=>z.closed);q?this.replaceMediaSection(R,q.mid):this.addMediaSection(R)}pauseMediaSection(g){this.findMediaSection(g).pause()}resumeSendingMediaSection(g){this.findMediaSection(g).resume()}resumeReceivingMediaSection(g){this.findMediaSection(g).resume()}disableMediaSection(g){this.findMediaSection(g).disable()}closeMediaSection(g){const A=this.findMediaSection(g);return g===this._firstMid?(_.debug("closeMediaSection() | cannot close first media section, disabling it instead [mid:%s]",g),this.disableMediaSection(g),!1):(A.close(),this.regenerateBundleMids(),!0)}muxMediaSectionSimulcast(g,A){const x=this.findMediaSection(g);x.muxSimulcastStreams(A),this.replaceMediaSection(x)}sendSctpAssociation({offerMediaObject:g}){const A=new o.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,offerMediaObject:g});this.addMediaSection(A)}receiveSctpAssociation(){const g=new o.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,mid:"datachannel",kind:"application"});this.addMediaSection(g)}getSdp(){return this._sdpObject.origin.sessionVersion++,l.write(this._sdpObject)}addMediaSection(g){this._firstMid||(this._firstMid=g.mid),this._mediaSections.push(g),this._midToIndex.set(g.mid,this._mediaSections.length-1),this._sdpObject.media.push(g.getObject()),this.regenerateBundleMids()}replaceMediaSection(g,A){if(typeof A=="string"){const x=this._midToIndex.get(A);if(x===void 0)throw new Error(`no media section found for reuseMid '${A}'`);const p=this._mediaSections[x];this._mediaSections[x]=g,this._midToIndex.delete(p.mid),this._midToIndex.set(g.mid,x),this._sdpObject.media[x]=g.getObject(),this.regenerateBundleMids()}else{const x=this._midToIndex.get(g.mid);if(x===void 0)throw new Error(`no media section found with mid '${g.mid}'`);this._mediaSections[x]=g,this._sdpObject.media[x]=g.getObject()}}findMediaSection(g){const A=this._midToIndex.get(g);if(A===void 0)throw new Error(`no media section found with mid '${g}'`);return this._mediaSections[A]}regenerateBundleMids(){this._dtlsParameters&&(this._sdpObject.groups[0].mids=this._mediaSections.filter(g=>!g.closed).map(g=>g.mid).join(" "))}};return Sr.RemoteSdp=T,Sr}var $n={},tm;function zr(){if(tm)return $n;tm=1,Object.defineProperty($n,"__esModule",{value:!0}),$n.extractRtpCapabilities=s,$n.extractDtlsParameters=o,$n.getCname=c,$n.applyCodecParameters=_,$n.addHeaderExtension=T;const l=ei();function s({sdpObject:w}){const g=new Map,A=new Map;for(const p of w.media){const S=p.type;switch(S){case"audio":case"video":break;default:continue}for(const R of p.rtp){const q={kind:S,mimeType:`${S}/${R.codec}`,preferredPayloadType:R.payload,clockRate:R.rate,channels:R.encoding,parameters:{},rtcpFeedback:[]};g.set(q.preferredPayloadType,q)}for(const R of p.fmtp??[]){const q=l.parseParams(R.config),z=g.get(R.payload);z&&(q?.hasOwnProperty("profile-level-id")&&(q["profile-level-id"]=String(q["profile-level-id"])),z.parameters=q)}for(const R of p.rtcpFb??[]){const q={type:R.type,parameter:R.subtype};if(q.parameter||delete q.parameter,R.payload!=="*"){const z=g.get(Number(R.payload));if(!z)continue;z.rtcpFeedback.push(q)}else for(const z of g.values())z.kind===S&&!/.+\/rtx$/i.test(z.mimeType)&&z.rtcpFeedback.push(q)}for(const R of p.ext??[]){if(R["encrypt-uri"])continue;const q={kind:S,uri:R.uri,preferredId:R.value};A.set(q.preferredId,q)}}return{codecs:Array.from(g.values()),headerExtensions:Array.from(A.values())}}function o({sdpObject:w}){let g=w.setup,A=w.fingerprint;if(!g||!A){const S=(w.media??[]).find(R=>R.port!==0);S&&(g=g??S.setup,A=A??S.fingerprint)}if(g){if(!A)throw new Error("no a=fingerprint found at SDP session or media level")}else throw new Error("no a=setup found at SDP session or media level");let x;switch(g){case"active":{x="client";break}case"passive":{x="server";break}case"actpass":{x="auto";break}}return{role:x,fingerprints:[{algorithm:A.type,value:A.hash}]}}function c({offerMediaObject:w}){const g=(w.ssrcs??[]).find(A=>A.attribute==="cname");return g?g.value:""}function _({offerRtpParameters:w,answerMediaObject:g}){for(const A of w.codecs){const x=A.mimeType.toLowerCase();if(x!=="audio/opus"||!(g.rtp??[]).find(q=>q.payload===A.payloadType))continue;g.fmtp=g.fmtp??[];let S=g.fmtp.find(q=>q.payload===A.payloadType);S||(S={payload:A.payloadType,config:""},g.fmtp.push(S));const R=l.parseParams(S.config);if(x==="audio/opus"){const q=A.parameters?.["sprop-stereo"];q!==void 0&&(R.stereo=Number(q)?1:0)}S.config="";for(const q of Object.keys(R))S.config&&(S.config+=";"),S.config+=`${q}=${R[q]}`}}function T({offerMediaObject:w,headerExtensionUri:g,headerExtensionId:A}){w.ext||(w.ext=[]),w.ext.push({uri:g,value:A})}return $n}var wr={},nm;function jr(){if(nm)return wr;nm=1,Object.defineProperty(wr,"__esModule",{value:!0}),wr.getRtpEncodings=l,wr.addLegacySimulcast=s;function l({offerMediaObject:o}){const c=new Set;for(const w of o.ssrcs??[]){const g=w.id;g&&c.add(g)}if(c.size===0)throw new Error("no a=ssrc lines found");const _=new Map;for(const w of o.ssrcGroups??[]){if(w.semantics!=="FID")continue;const g=w.ssrcs.split(/\s+/),A=Number(g[0]),x=Number(g[1]);c.has(A)&&(c.delete(A),c.delete(x),_.set(A,x))}for(const w of c)_.set(w,void 0);const T=[];for(const[w,g]of _){const A={ssrc:w};g&&(A.rtx={ssrc:g}),T.push(A)}return T}function s({offerMediaObject:o,numStreams:c}){if(c<=1)throw new TypeError("numStreams must be greater than 1");const _=(o.ssrcs??[]).find(q=>q.attribute==="msid");if(!_)throw new Error("a=ssrc line with msid information not found");const[T,w]=_.value.split(" "),g=Number(_.id);let A;(o.ssrcGroups??[]).some(q=>{if(q.semantics!=="FID")return!1;const z=q.ssrcs.split(/\s+/);return Number(z[0])===g?(A=Number(z[1]),!0):!1});const x=(o.ssrcs??[]).find(q=>q.attribute==="cname");if(!x)throw new Error("a=ssrc line with cname information not found");const p=x.value,S=[],R=[];for(let q=0;q<c;++q)S.push(g+q),A&&R.push(A+q);o.ssrcGroups=[],o.ssrcs=[],o.ssrcGroups.push({semantics:"SIM",ssrcs:S.join(" ")});for(const q of S)o.ssrcs.push({id:q,attribute:"cname",value:p}),o.ssrcs.push({id:q,attribute:"msid",value:`${T} ${w}`});for(let q=0;q<R.length;++q){const z=S[q],u=R[q];o.ssrcs.push({id:u,attribute:"cname",value:p}),o.ssrcs.push({id:u,attribute:"msid",value:`${T} ${w}`}),o.ssrcGroups.push({semantics:"FID",ssrcs:`${z} ${u}`})}}return wr}var la={},im;function Ur(){if(im)return la;im=1,Object.defineProperty(la,"__esModule",{value:!0}),la.addNackSupportForOpus=l,la.addHeaderExtensionSupport=s,la.getMsidStreamIdAndTrackId=o;function l(c){for(const _ of c.codecs??[])(_.mimeType.toLowerCase()==="audio/opus"||_.mimeType.toLowerCase()==="audio/multiopus")&&!_.rtcpFeedback?.some(T=>T.type==="nack"&&!T.parameter)&&(_.rtcpFeedback||(_.rtcpFeedback=[]),_.rtcpFeedback.push({type:"nack"}))}function s(c,_){let T;const w=c.headerExtensions?.find(A=>A.uri===_.uri);if(w){if(w.kind===_.kind)return;T=w.preferredId}if(c.headerExtensions||(c.headerExtensions=[]),T===void 0){T=1;const A=new Set(c.headerExtensions.map(x=>x.preferredId));for(;A.has(T);)++T}const g={kind:_.kind,uri:_.uri,preferredId:T,preferredEncrypt:!1,direction:_.direction};c.headerExtensions.push(g)}function o(c){if(!c||typeof c!="string")return{msidStreamId:void 0,msidTrackId:void 0};const[_,T]=c.trim().split(/\s+/);return _?{msidStreamId:_,msidTrackId:T}:{msidStreamId:void 0,msidTrackId:void 0}}return la}var am;function Y_(){if(am)return br;am=1,Object.defineProperty(br,"__esModule",{value:!0}),br.Chrome111=void 0;const l=ei(),s=Nt(),o=Ct(),c=Rn(),_=$t(),T=fa(),w=Nr(),g=zr(),A=jr(),x=Ur(),p=new o.Logger("Chrome111"),S="Chrome111",R={OS:1024,MIS:1024};let q=class dc extends s.EnhancedEventEmitter{_closed=!1;_direction;_remoteSdp;_getSendExtendedRtpCapabilities;_forcedLocalDtlsRole;_pc;_mapMidTransceiver=new Map;_sendStream=new MediaStream;_hasDataChannelMediaSection=!1;_nextSendSctpStreamId=0;_transportReady=!1;static createFactory(){return{name:S,factory:u=>new dc(u),getNativeRtpCapabilities:async()=>{p.debug("getNativeRtpCapabilities()");let u=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});try{u.addTransceiver("audio"),u.addTransceiver("video",{sendEncodings:[{scalabilityMode:"L3T3"}]});const f=await u.createOffer();try{u.close()}catch{}u=void 0;const m=l.parse(f.sdp);return dc.getLocalRtpCapabilities(m)}catch(f){try{u?.close()}catch{}throw u=void 0,f}},getNativeSctpCapabilities:async()=>(p.debug("getNativeSctpCapabilities()"),{numStreams:R})}}static getLocalRtpCapabilities(u,f=[]){const m=g.extractRtpCapabilities({sdpObject:u});c.validateAndNormalizeRtpCapabilities(m),x.addNackSupportForOpus(m);for(const v of f)x.addHeaderExtensionSupport(m,v);return m}constructor({direction:u,iceParameters:f,iceCandidates:m,dtlsParameters:v,sctpParameters:L,iceServers:D,iceTransportPolicy:M,additionalSettings:C,getSendExtendedRtpCapabilities:h}){super(),p.debug("constructor()"),this._direction=u,this._remoteSdp=new w.RemoteSdp({iceParameters:f,iceCandidates:m,dtlsParameters:v,sctpParameters:L}),this._getSendExtendedRtpCapabilities=h,v.role&&v.role!=="auto"&&(this._forcedLocalDtlsRole=v.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:D??[],iceTransportPolicy:M??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...C}),this._pc.addEventListener("icegatheringstatechange",this.onIceGatheringStateChange),this._pc.addEventListener("icecandidateerror",this.onIceCandidateError),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",this.onConnectionStateChange):(p.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",this.onIceConnectionStateChange))}get name(){return S}close(){if(p.debug("close()"),!this._closed){this._closed=!0;try{this._pc.close()}catch{}this._pc.removeEventListener("icegatheringstatechange",this.onIceGatheringStateChange),this._pc.removeEventListener("icecandidateerror",this.onIceCandidateError),this._pc.removeEventListener("connectionstatechange",this.onConnectionStateChange),this._pc.removeEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),this.emit("@close"),super.close()}}async updateIceServers(u){this.assertNotClosed(),p.debug("updateIceServers()");const f=this._pc.getConfiguration();f.iceServers=u,this._pc.setConfiguration(f)}async restartIce(u){if(this.assertNotClosed(),p.debug("restartIce()"),this._remoteSdp.updateIceParameters(u),!!this._transportReady)if(this._direction==="send"){const f=await this._pc.createOffer({iceRestart:!0});p.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const m={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m)}else{const f={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const m=await this._pc.createAnswer();p.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:u,streamId:f,encodings:m,codecOptions:v,headerExtensionOptions:L,codec:D,onRtpSender:M}){if(this.assertNotClosed(),this.assertSendDirection(),p.debug("send() [kind:%s, track.id:%s, streamId:%s]",u.kind,u.id,f),m&&m.length>1){let J=1;for(const re of m){const ue=re.scalabilityMode?(0,T.parse)(re.scalabilityMode).temporalLayers:3;ue>J&&(J=ue)}m.forEach((re,ue)=>{re.rid=`r${ue}`,re.scalabilityMode=`L1T${J}`})}const C=this._remoteSdp.getNextMediaSectionIdx(),h=this._pc.addTransceiver(u,{direction:"sendonly",streams:[this._sendStream],sendEncodings:m});M&&M(h.sender);let E=await this._pc.createOffer(),k=l.parse(E.sdp);k.extmapAllowMixed&&this._remoteSdp.setSessionExtmapAllowMixed();const B=[];B.push({uri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time",kind:u.kind,direction:"sendonly"});const ee=dc.getLocalRtpCapabilities(k,B),ae=this._getSendExtendedRtpCapabilities(ee),b=c.getSendingRtpParameters(u.kind,ae);b.codecs=c.reduceCodecs(b.codecs,D);const Q=c.getSendingRemoteRtpParameters(u.kind,ae);if(Q.codecs=c.reduceCodecs(Q.codecs,D),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:k}),L?.absCaptureTime){const J=k.media[C.idx];g.addHeaderExtension({offerMediaObject:J,headerExtensionUri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time",headerExtensionId:Q.headerExtensions.find(re=>re.uri==="http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time").id}),E={type:"offer",sdp:l.write(k)}}p.debug("send() | calling pc.setLocalDescription() [offer:%o]",E),await this._pc.setLocalDescription(E);const Z=h.mid;b.mid=Z,k=l.parse(this._pc.localDescription.sdp);const O=k.media[C.idx];if(b.rtcp.cname=g.getCname({offerMediaObject:O}),b.msid=`${f??this._sendStream.id} ${u.id}`,!m)b.encodings=A.getRtpEncodings({offerMediaObject:O});else if(m.length===1){const J=A.getRtpEncodings({offerMediaObject:O});Object.assign(J[0],m[0]),b.encodings=J}else b.encodings=m;this._remoteSdp.send({offerMediaObject:O,reuseMid:C.reuseMid,offerRtpParameters:b,answerRtpParameters:Q,codecOptions:v});const P={type:"answer",sdp:this._remoteSdp.getSdp()};return p.debug("send() | calling pc.setRemoteDescription() [answer:%o]",P),await this._pc.setRemoteDescription(P),this._mapMidTransceiver.set(Z,h),{localId:Z,rtpParameters:b,rtpSender:h.sender}}async stopSending(u){if(this.assertSendDirection(),p.debug("stopSending() [localId:%s]",u),this._closed)return;const f=this._mapMidTransceiver.get(u);if(!f)throw new Error("associated RTCRtpTransceiver not found");if(f.sender.replaceTrack(null),this._pc.removeTrack(f.sender),this._remoteSdp.closeMediaSection(f.mid))try{f.stop()}catch{}const v=await this._pc.createOffer();p.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",v),await this._pc.setLocalDescription(v);const L={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",L),await this._pc.setRemoteDescription(L),this._mapMidTransceiver.delete(u)}async pauseSending(u){this.assertNotClosed(),this.assertSendDirection(),p.debug("pauseSending() [localId:%s]",u);const f=this._mapMidTransceiver.get(u);if(!f)throw new Error("associated RTCRtpTransceiver not found");f.direction="inactive",this._remoteSdp.pauseMediaSection(u);const m=await this._pc.createOffer();p.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m);const v={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",v),await this._pc.setRemoteDescription(v)}async resumeSending(u){this.assertNotClosed(),this.assertSendDirection(),p.debug("resumeSending() [localId:%s]",u);const f=this._mapMidTransceiver.get(u);if(this._remoteSdp.resumeSendingMediaSection(u),!f)throw new Error("associated RTCRtpTransceiver not found");f.direction="sendonly";const m=await this._pc.createOffer();p.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m);const v={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",v),await this._pc.setRemoteDescription(v)}async replaceTrack(u,f){this.assertNotClosed(),this.assertSendDirection(),f?p.debug("replaceTrack() [localId:%s, track.id:%s]",u,f.id):p.debug("replaceTrack() [localId:%s, no track]",u);const m=this._mapMidTransceiver.get(u);if(!m)throw new Error("associated RTCRtpTransceiver not found");await m.sender.replaceTrack(f)}async setMaxSpatialLayer(u,f){this.assertNotClosed(),this.assertSendDirection(),p.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",u,f);const m=this._mapMidTransceiver.get(u);if(!m)throw new Error("associated RTCRtpTransceiver not found");const v=m.sender.getParameters();v.encodings.forEach((M,C)=>{C<=f?M.active=!0:M.active=!1}),await m.sender.setParameters(v),this._remoteSdp.muxMediaSectionSimulcast(u,v.encodings);const L=await this._pc.createOffer();p.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",L),await this._pc.setLocalDescription(L);const D={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",D),await this._pc.setRemoteDescription(D)}async setRtpEncodingParameters(u,f){this.assertNotClosed(),this.assertSendDirection(),p.debug("setRtpEncodingParameters() [localId:%s, params:%o]",u,f);const m=this._mapMidTransceiver.get(u);if(!m)throw new Error("associated RTCRtpTransceiver not found");const v=m.sender.getParameters();v.encodings.forEach((M,C)=>{v.encodings[C]={...M,...f}}),await m.sender.setParameters(v),this._remoteSdp.muxMediaSectionSimulcast(u,v.encodings);const L=await this._pc.createOffer();p.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",L),await this._pc.setLocalDescription(L);const D={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",D),await this._pc.setRemoteDescription(D)}async getSenderStats(u){this.assertNotClosed(),this.assertSendDirection();const f=this._mapMidTransceiver.get(u);if(!f)throw new Error("associated RTCRtpTransceiver not found");return f.sender.getStats()}async sendDataChannel({ordered:u,maxPacketLifeTime:f,maxRetransmits:m,label:v,protocol:L}){this.assertNotClosed(),this.assertSendDirection();const D={negotiated:!0,id:this._nextSendSctpStreamId,ordered:u,maxPacketLifeTime:f,maxRetransmits:m,protocol:L};p.debug("sendDataChannel() [options:%o]",D);const M=this._pc.createDataChannel(v,D);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%R.MIS,!this._hasDataChannelMediaSection){const h=await this._pc.createOffer(),E=l.parse(h.sdp),k=E.media.find(ee=>ee.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:E}),p.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",h),await this._pc.setLocalDescription(h),this._remoteSdp.sendSctpAssociation({offerMediaObject:k});const B={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",B),await this._pc.setRemoteDescription(B),this._hasDataChannelMediaSection=!0}const C={streamId:D.id,ordered:D.ordered,maxPacketLifeTime:D.maxPacketLifeTime,maxRetransmits:D.maxRetransmits};return{dataChannel:M,sctpStreamParameters:C}}async receive(u){this.assertNotClosed(),this.assertRecvDirection();const f=[],m=new Map;for(const M of u){const{trackId:C,kind:h,rtpParameters:E,streamId:k}=M;p.debug("receive() [trackId:%s, kind:%s]",C,h);const B=E.mid??String(this._mapMidTransceiver.size);m.set(C,B);const{msidStreamId:ee}=x.getMsidStreamIdAndTrackId(E.msid);this._remoteSdp.receive({mid:B,kind:h,offerRtpParameters:E,streamId:k??ee??E.rtcp?.cname??"-",trackId:C})}const v={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",v),await this._pc.setRemoteDescription(v);for(const M of u){const{trackId:C,onRtpReceiver:h}=M;if(h){const E=m.get(C),k=this._pc.getTransceivers().find(B=>B.mid===E);if(!k)throw new Error("transceiver not found");h(k.receiver)}}let L=await this._pc.createAnswer();const D=l.parse(L.sdp);for(const M of u){const{trackId:C,rtpParameters:h}=M,E=m.get(C),k=D.media.find(B=>String(B.mid)===E);g.applyCodecParameters({offerRtpParameters:h,answerMediaObject:k})}L={type:"answer",sdp:l.write(D)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:D}),p.debug("receive() | calling pc.setLocalDescription() [answer:%o]",L),await this._pc.setLocalDescription(L);for(const M of u){const{trackId:C}=M,h=m.get(C),E=this._pc.getTransceivers().find(k=>k.mid===h);if(E)this._mapMidTransceiver.set(h,E),f.push({localId:h,track:E.receiver.track,rtpReceiver:E.receiver});else throw new Error("new RTCRtpTransceiver not found")}return f}async stopReceiving(u){if(this.assertRecvDirection(),this._closed)return;for(const v of u){p.debug("stopReceiving() [localId:%s]",v);const L=this._mapMidTransceiver.get(v);if(!L)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(L.mid)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const m=await this._pc.createAnswer();p.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m);for(const v of u)this._mapMidTransceiver.delete(v)}async pauseReceiving(u){this.assertNotClosed(),this.assertRecvDirection();for(const v of u){p.debug("pauseReceiving() [localId:%s]",v);const L=this._mapMidTransceiver.get(v);if(!L)throw new Error("associated RTCRtpTransceiver not found");L.direction="inactive",this._remoteSdp.pauseMediaSection(v)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const m=await this._pc.createAnswer();p.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}async resumeReceiving(u){this.assertNotClosed(),this.assertRecvDirection();for(const v of u){p.debug("resumeReceiving() [localId:%s]",v);const L=this._mapMidTransceiver.get(v);if(!L)throw new Error("associated RTCRtpTransceiver not found");L.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(v)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const m=await this._pc.createAnswer();p.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}async getReceiverStats(u){this.assertNotClosed(),this.assertRecvDirection();const f=this._mapMidTransceiver.get(u);if(!f)throw new Error("associated RTCRtpTransceiver not found");return f.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:u,label:f,protocol:m}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:v,ordered:L,maxPacketLifeTime:D,maxRetransmits:M}=u,C={negotiated:!0,id:v,ordered:L,maxPacketLifeTime:D,maxRetransmits:M,protocol:m};p.debug("receiveDataChannel() [options:%o]",C);const h=this._pc.createDataChannel(f,C);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const E={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",E),await this._pc.setRemoteDescription(E);const k=await this._pc.createAnswer();if(!this._transportReady){const B=l.parse(k.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:B})}p.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setLocalDescription(k),this._hasDataChannelMediaSection=!0}return{dataChannel:h}}async setupTransport({localDtlsRole:u,localSdpObject:f}){f||(f=l.parse(this._pc.localDescription.sdp));const m=g.extractDtlsParameters({sdpObject:f});m.role=u,this._remoteSdp.updateDtlsRole(u==="client"?"server":"client"),await new Promise((v,L)=>{this.safeEmit("@connect",{dtlsParameters:m},v,L)}),this._transportReady=!0}onIceGatheringStateChange=()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)};onIceCandidateError=u=>{this.emit("@icecandidateerror",u)};onConnectionStateChange=()=>{this.emit("@connectionstatechange",this._pc.connectionState)};onIceConnectionStateChange=()=>{switch(this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}};assertNotClosed(){if(this._closed)throw new _.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return br.Chrome111=q,br}var Cr={},rm;function V_(){if(rm)return Cr;rm=1,Object.defineProperty(Cr,"__esModule",{value:!0}),Cr.Chrome74=void 0;const l=ei(),s=Ct(),o=Nt(),c=Rn(),_=$t(),T=fa(),w=Nr(),g=zr(),A=jr(),x=Ur(),p=new s.Logger("Chrome74"),S="Chrome74",R={OS:1024,MIS:1024};let q=class fc extends o.EnhancedEventEmitter{_closed=!1;_direction;_remoteSdp;_getSendExtendedRtpCapabilities;_forcedLocalDtlsRole;_pc;_mapMidTransceiver=new Map;_sendStream=new MediaStream;_hasDataChannelMediaSection=!1;_nextSendSctpStreamId=0;_transportReady=!1;static createFactory(){return{name:S,factory:u=>new fc(u),getNativeRtpCapabilities:async()=>{p.debug("getNativeRtpCapabilities()");let u=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});try{u.addTransceiver("audio"),u.addTransceiver("video");const f=await u.createOffer();try{u.close()}catch{}u=void 0;const m=l.parse(f.sdp);return fc.getLocalRtpCapabilities(m)}catch(f){try{u?.close()}catch{}throw u=void 0,f}},getNativeSctpCapabilities:async()=>(p.debug("getNativeSctpCapabilities()"),{numStreams:R})}}static getLocalRtpCapabilities(u,f=[]){const m=g.extractRtpCapabilities({sdpObject:u});c.validateAndNormalizeRtpCapabilities(m),x.addNackSupportForOpus(m);for(const v of f)x.addHeaderExtensionSupport(m,v);return m}constructor({direction:u,iceParameters:f,iceCandidates:m,dtlsParameters:v,sctpParameters:L,iceServers:D,iceTransportPolicy:M,additionalSettings:C,getSendExtendedRtpCapabilities:h}){super(),p.debug("constructor()"),this._direction=u,this._remoteSdp=new w.RemoteSdp({iceParameters:f,iceCandidates:m,dtlsParameters:v,sctpParameters:L}),this._getSendExtendedRtpCapabilities=h,v.role&&v.role!=="auto"&&(this._forcedLocalDtlsRole=v.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:D??[],iceTransportPolicy:M??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...C}),this._pc.addEventListener("icegatheringstatechange",this.onIceGatheringStateChange),this._pc.addEventListener("icecandidateerror",this.onIceCandidateError),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",this.onConnectionStateChange):(p.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",this.onIceConnectionStateChange))}get name(){return S}close(){if(p.debug("close()"),!this._closed){this._closed=!0;try{this._pc.close()}catch{}this._pc.removeEventListener("icegatheringstatechange",this.onIceGatheringStateChange),this._pc.removeEventListener("icecandidateerror",this.onIceCandidateError),this._pc.removeEventListener("connectionstatechange",this.onConnectionStateChange),this._pc.removeEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),this.emit("@close"),super.close()}}async updateIceServers(u){this.assertNotClosed(),p.debug("updateIceServers()");const f=this._pc.getConfiguration();f.iceServers=u,this._pc.setConfiguration(f)}async restartIce(u){if(this.assertNotClosed(),p.debug("restartIce()"),this._remoteSdp.updateIceParameters(u),!!this._transportReady)if(this._direction==="send"){const f=await this._pc.createOffer({iceRestart:!0});p.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const m={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m)}else{const f={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const m=await this._pc.createAnswer();p.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:u,streamId:f,encodings:m,codecOptions:v,headerExtensionOptions:L,codec:D}){this.assertNotClosed(),this.assertSendDirection(),p.debug("send() [kind:%s, track.id:%s, streamId:%s]",u.kind,u.id,f),m&&m.length>1&&m.forEach((re,ue)=>{re.rid=`r${ue}`});const M=this._remoteSdp.getNextMediaSectionIdx(),C=this._pc.addTransceiver(u,{direction:"sendonly",streams:[this._sendStream],sendEncodings:m});let h=await this._pc.createOffer(),E=l.parse(h.sdp);E.extmapAllowMixed&&this._remoteSdp.setSessionExtmapAllowMixed();const k=[];k.push({uri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time",kind:u.kind,direction:"sendonly"});const B=fc.getLocalRtpCapabilities(E,k),ee=this._getSendExtendedRtpCapabilities(B),ae=c.getSendingRtpParameters(u.kind,ee);ae.codecs=c.reduceCodecs(ae.codecs,D);const b=c.getSendingRemoteRtpParameters(u.kind,ee);b.codecs=c.reduceCodecs(b.codecs,D),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:E});let Q=!1;const Z=(0,T.parse)((m??[{}])[0].scalabilityMode);let O;m?.length===1&&Z.spatialLayers>1&&ae.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(p.debug("send() | enabling legacy simulcast for VP9 SVC"),Q=!0,E=l.parse(h.sdp),O=E.media[M.idx],A.addLegacySimulcast({offerMediaObject:O,numStreams:Z.spatialLayers}),h={type:"offer",sdp:l.write(E)}),p.debug("send() | calling pc.setLocalDescription() [offer:%o]",h),L?.absCaptureTime&&(O=E.media[M.idx],g.addHeaderExtension({offerMediaObject:O,headerExtensionUri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time",headerExtensionId:b.headerExtensions.find(re=>re.uri==="http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time").id}),h={type:"offer",sdp:l.write(E)}),await this._pc.setLocalDescription(h);const P=C.mid;if(ae.mid=P,E=l.parse(this._pc.localDescription.sdp),O=E.media[M.idx],ae.rtcp.cname=g.getCname({offerMediaObject:O}),ae.msid=`${f??this._sendStream.id} ${u.id}`,!m)ae.encodings=A.getRtpEncodings({offerMediaObject:O});else if(m.length===1){let re=A.getRtpEncodings({offerMediaObject:O});Object.assign(re[0],m[0]),Q&&(re=[re[0]]),ae.encodings=re}else ae.encodings=m;if(ae.encodings.length>1&&(ae.codecs[0].mimeType.toLowerCase()==="video/vp8"||ae.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const re of ae.encodings)re.scalabilityMode?re.scalabilityMode=`L1T${Z.temporalLayers}`:re.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:O,reuseMid:M.reuseMid,offerRtpParameters:ae,answerRtpParameters:b,codecOptions:v});const J={type:"answer",sdp:this._remoteSdp.getSdp()};return p.debug("send() | calling pc.setRemoteDescription() [answer:%o]",J),await this._pc.setRemoteDescription(J),this._mapMidTransceiver.set(P,C),{localId:P,rtpParameters:ae,rtpSender:C.sender}}async stopSending(u){if(this.assertSendDirection(),p.debug("stopSending() [localId:%s]",u),this._closed)return;const f=this._mapMidTransceiver.get(u);if(!f)throw new Error("associated RTCRtpTransceiver not found");if(f.sender.replaceTrack(null),this._pc.removeTrack(f.sender),this._remoteSdp.closeMediaSection(f.mid))try{f.stop()}catch{}const v=await this._pc.createOffer();p.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",v),await this._pc.setLocalDescription(v);const L={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",L),await this._pc.setRemoteDescription(L),this._mapMidTransceiver.delete(u)}async pauseSending(u){this.assertNotClosed(),this.assertSendDirection(),p.debug("pauseSending() [localId:%s]",u);const f=this._mapMidTransceiver.get(u);if(!f)throw new Error("associated RTCRtpTransceiver not found");f.direction="inactive",this._remoteSdp.pauseMediaSection(u);const m=await this._pc.createOffer();p.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m);const v={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",v),await this._pc.setRemoteDescription(v)}async resumeSending(u){this.assertNotClosed(),this.assertSendDirection(),p.debug("resumeSending() [localId:%s]",u);const f=this._mapMidTransceiver.get(u);if(this._remoteSdp.resumeSendingMediaSection(u),!f)throw new Error("associated RTCRtpTransceiver not found");f.direction="sendonly";const m=await this._pc.createOffer();p.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m);const v={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",v),await this._pc.setRemoteDescription(v)}async replaceTrack(u,f){this.assertNotClosed(),this.assertSendDirection(),f?p.debug("replaceTrack() [localId:%s, track.id:%s]",u,f.id):p.debug("replaceTrack() [localId:%s, no track]",u);const m=this._mapMidTransceiver.get(u);if(!m)throw new Error("associated RTCRtpTransceiver not found");await m.sender.replaceTrack(f)}async setMaxSpatialLayer(u,f){this.assertNotClosed(),this.assertSendDirection(),p.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",u,f);const m=this._mapMidTransceiver.get(u);if(!m)throw new Error("associated RTCRtpTransceiver not found");const v=m.sender.getParameters();v.encodings.forEach((M,C)=>{C<=f?M.active=!0:M.active=!1}),await m.sender.setParameters(v),this._remoteSdp.muxMediaSectionSimulcast(u,v.encodings);const L=await this._pc.createOffer();p.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",L),await this._pc.setLocalDescription(L);const D={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",D),await this._pc.setRemoteDescription(D)}async setRtpEncodingParameters(u,f){this.assertNotClosed(),this.assertSendDirection(),p.debug("setRtpEncodingParameters() [localId:%s, params:%o]",u,f);const m=this._mapMidTransceiver.get(u);if(!m)throw new Error("associated RTCRtpTransceiver not found");const v=m.sender.getParameters();v.encodings.forEach((M,C)=>{v.encodings[C]={...M,...f}}),await m.sender.setParameters(v),this._remoteSdp.muxMediaSectionSimulcast(u,v.encodings);const L=await this._pc.createOffer();p.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",L),await this._pc.setLocalDescription(L);const D={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",D),await this._pc.setRemoteDescription(D)}async getSenderStats(u){this.assertNotClosed(),this.assertSendDirection();const f=this._mapMidTransceiver.get(u);if(!f)throw new Error("associated RTCRtpTransceiver not found");return f.sender.getStats()}async sendDataChannel({ordered:u,maxPacketLifeTime:f,maxRetransmits:m,label:v,protocol:L}){this.assertNotClosed(),this.assertSendDirection();const D={negotiated:!0,id:this._nextSendSctpStreamId,ordered:u,maxPacketLifeTime:f,maxRetransmits:m,protocol:L};p.debug("sendDataChannel() [options:%o]",D);const M=this._pc.createDataChannel(v,D);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%R.MIS,!this._hasDataChannelMediaSection){const h=await this._pc.createOffer(),E=l.parse(h.sdp),k=E.media.find(ee=>ee.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:E}),p.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",h),await this._pc.setLocalDescription(h),this._remoteSdp.sendSctpAssociation({offerMediaObject:k});const B={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",B),await this._pc.setRemoteDescription(B),this._hasDataChannelMediaSection=!0}const C={streamId:D.id,ordered:D.ordered,maxPacketLifeTime:D.maxPacketLifeTime,maxRetransmits:D.maxRetransmits};return{dataChannel:M,sctpStreamParameters:C}}async receive(u){this.assertNotClosed(),this.assertRecvDirection();const f=[],m=new Map;for(const M of u){const{trackId:C,kind:h,rtpParameters:E,streamId:k}=M;p.debug("receive() [trackId:%s, kind:%s]",C,h);const B=E.mid??String(this._mapMidTransceiver.size);m.set(C,B);const{msidStreamId:ee}=x.getMsidStreamIdAndTrackId(E.msid);this._remoteSdp.receive({mid:B,kind:h,offerRtpParameters:E,streamId:k??ee??E.rtcp?.cname??"-",trackId:C})}const v={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",v),await this._pc.setRemoteDescription(v);let L=await this._pc.createAnswer();const D=l.parse(L.sdp);for(const M of u){const{trackId:C,rtpParameters:h}=M,E=m.get(C),k=D.media.find(B=>String(B.mid)===E);g.applyCodecParameters({offerRtpParameters:h,answerMediaObject:k})}L={type:"answer",sdp:l.write(D)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:D}),p.debug("receive() | calling pc.setLocalDescription() [answer:%o]",L),await this._pc.setLocalDescription(L);for(const M of u){const{trackId:C}=M,h=m.get(C),E=this._pc.getTransceivers().find(k=>k.mid===h);if(E)this._mapMidTransceiver.set(h,E),f.push({localId:h,track:E.receiver.track,rtpReceiver:E.receiver});else throw new Error("new RTCRtpTransceiver not found")}return f}async stopReceiving(u){if(this.assertRecvDirection(),this._closed)return;for(const v of u){p.debug("stopReceiving() [localId:%s]",v);const L=this._mapMidTransceiver.get(v);if(!L)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(L.mid)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const m=await this._pc.createAnswer();p.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m);for(const v of u)this._mapMidTransceiver.delete(v)}async pauseReceiving(u){this.assertNotClosed(),this.assertRecvDirection();for(const v of u){p.debug("pauseReceiving() [localId:%s]",v);const L=this._mapMidTransceiver.get(v);if(!L)throw new Error("associated RTCRtpTransceiver not found");L.direction="inactive",this._remoteSdp.pauseMediaSection(v)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const m=await this._pc.createAnswer();p.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}async resumeReceiving(u){this.assertNotClosed(),this.assertRecvDirection();for(const v of u){p.debug("resumeReceiving() [localId:%s]",v);const L=this._mapMidTransceiver.get(v);if(!L)throw new Error("associated RTCRtpTransceiver not found");L.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(v)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const m=await this._pc.createAnswer();p.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}async getReceiverStats(u){this.assertNotClosed(),this.assertRecvDirection();const f=this._mapMidTransceiver.get(u);if(!f)throw new Error("associated RTCRtpTransceiver not found");return f.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:u,label:f,protocol:m}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:v,ordered:L,maxPacketLifeTime:D,maxRetransmits:M}=u,C={negotiated:!0,id:v,ordered:L,maxPacketLifeTime:D,maxRetransmits:M,protocol:m};p.debug("receiveDataChannel() [options:%o]",C);const h=this._pc.createDataChannel(f,C);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const E={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",E),await this._pc.setRemoteDescription(E);const k=await this._pc.createAnswer();if(!this._transportReady){const B=l.parse(k.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:B})}p.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setLocalDescription(k),this._hasDataChannelMediaSection=!0}return{dataChannel:h}}async setupTransport({localDtlsRole:u,localSdpObject:f}){f||(f=l.parse(this._pc.localDescription.sdp));const m=g.extractDtlsParameters({sdpObject:f});m.role=u,this._remoteSdp.updateDtlsRole(u==="client"?"server":"client"),await new Promise((v,L)=>{this.safeEmit("@connect",{dtlsParameters:m},v,L)}),this._transportReady=!0}onIceGatheringStateChange=()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)};onIceCandidateError=u=>{this.emit("@icecandidateerror",u)};onConnectionStateChange=()=>{this.emit("@connectionstatechange",this._pc.connectionState)};onIceConnectionStateChange=()=>{switch(this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}};assertNotClosed(){if(this._closed)throw new _.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return Cr.Chrome74=q,Cr}var Er={},sm;function G_(){if(sm)return Er;sm=1,Object.defineProperty(Er,"__esModule",{value:!0}),Er.Firefox120=void 0;const l=ei(),s=Nt(),o=Ct(),c=$t(),_=Rn(),T=fa(),w=Nr(),g=zr(),A=jr(),x=Ur(),p=new o.Logger("Firefox120"),S="Firefox120",R={OS:16,MIS:2048};let q=class pc extends s.EnhancedEventEmitter{_closed=!1;_direction;_remoteSdp;_getSendExtendedRtpCapabilities;_pc;_mapMidTransceiver=new Map;_sendStream=new MediaStream;_hasDataChannelMediaSection=!1;_nextSendSctpStreamId=0;_transportReady=!1;static createFactory(){return{name:S,factory:u=>new pc(u),getNativeRtpCapabilities:async()=>{p.debug("getNativeRtpCapabilities()");let u=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});const f=document.createElement("canvas");f.getContext("2d");const v=f.captureStream().getVideoTracks()[0];try{u.addTransceiver("audio",{direction:"sendrecv"}),u.addTransceiver(v,{direction:"sendrecv",sendEncodings:[{rid:"r0",maxBitrate:1e5},{rid:"r1",maxBitrate:5e5}]});const L=await u.createOffer();try{f.remove()}catch{}try{v.stop()}catch{}try{u.close()}catch{}u=void 0;const D=l.parse(L.sdp);return pc.getLocalRtpCapabilities(D)}catch(L){try{f.remove()}catch{}try{v.stop()}catch{}try{u?.close()}catch{}throw u=void 0,L}},getNativeSctpCapabilities:async()=>(p.debug("getNativeSctpCapabilities()"),{numStreams:R})}}static getLocalRtpCapabilities(u){const f=g.extractRtpCapabilities({sdpObject:u});return _.validateAndNormalizeRtpCapabilities(f),f}constructor({direction:u,iceParameters:f,iceCandidates:m,dtlsParameters:v,sctpParameters:L,iceServers:D,iceTransportPolicy:M,additionalSettings:C,getSendExtendedRtpCapabilities:h}){super(),p.debug("constructor()"),this._direction=u,this._remoteSdp=new w.RemoteSdp({iceParameters:f,iceCandidates:m,dtlsParameters:v,sctpParameters:L}),this._getSendExtendedRtpCapabilities=h,this._pc=new RTCPeerConnection({iceServers:D??[],iceTransportPolicy:M??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...C}),this._pc.addEventListener("icegatheringstatechange",this.onIceGatheringStateChange),this._pc.addEventListener("icecandidateerror",this.onIceCandidateError),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",this.onConnectionStateChange):(p.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",this.onIceConnectionStateChange))}get name(){return S}close(){if(p.debug("close()"),!this._closed){this._closed=!0;try{this._pc.close()}catch{}this._pc.removeEventListener("icegatheringstatechange",this.onIceGatheringStateChange),this._pc.removeEventListener("icecandidateerror",this.onIceCandidateError),this._pc.removeEventListener("connectionstatechange",this.onConnectionStateChange),this._pc.removeEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),this.emit("@close"),super.close()}}async updateIceServers(u){throw this.assertNotClosed(),new c.UnsupportedError("not supported")}async restartIce(u){if(this.assertNotClosed(),p.debug("restartIce()"),this._remoteSdp.updateIceParameters(u),!!this._transportReady)if(this._direction==="send"){const f=await this._pc.createOffer({iceRestart:!0});p.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const m={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m)}else{const f={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const m=await this._pc.createAnswer();p.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:u,streamId:f,encodings:m,codecOptions:v,codec:L,onRtpSender:D}){this.assertNotClosed(),this.assertSendDirection(),p.debug("send() [kind:%s, track.id:%s, streamId:%s]",u.kind,u.id,f),m&&m.length>1&&m.forEach((O,P)=>{O.rid=`r${P}`});const M=this._pc.addTransceiver(u,{direction:"sendonly",streams:[this._sendStream],sendEncodings:m});D&&D(M.sender);const C=await this._pc.createOffer();let h=l.parse(C.sdp);h.extmapAllowMixed&&this._remoteSdp.setSessionExtmapAllowMixed();const E=pc.getLocalRtpCapabilities(h),k=this._getSendExtendedRtpCapabilities(E),B=_.getSendingRtpParameters(u.kind,k);B.codecs=_.reduceCodecs(B.codecs,L);const ee=_.getSendingRemoteRtpParameters(u.kind,k);ee.codecs=_.reduceCodecs(ee.codecs,L),this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:h});const ae=(0,T.parse)((m??[{}])[0].scalabilityMode);p.debug("send() | calling pc.setLocalDescription() [offer:%o]",C),await this._pc.setLocalDescription(C);const b=M.mid;B.mid=b,h=l.parse(this._pc.localDescription.sdp);const Q=h.media[h.media.length-1];if(B.rtcp.cname=g.getCname({offerMediaObject:Q}),B.msid=`${f??this._sendStream.id} ${u.id}`,!m)B.encodings=A.getRtpEncodings({offerMediaObject:Q});else if(m.length===1){const O=A.getRtpEncodings({offerMediaObject:Q});Object.assign(O[0],m[0]),B.encodings=O}else B.encodings=m;if(B.encodings.length>1&&(B.codecs[0].mimeType.toLowerCase()==="video/vp8"||B.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const O of B.encodings)O.scalabilityMode?O.scalabilityMode=`L1T${ae.temporalLayers}`:O.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:Q,offerRtpParameters:B,answerRtpParameters:ee,codecOptions:v});const Z={type:"answer",sdp:this._remoteSdp.getSdp()};return p.debug("send() | calling pc.setRemoteDescription() [answer:%o]",Z),await this._pc.setRemoteDescription(Z),this._mapMidTransceiver.set(b,M),{localId:b,rtpParameters:B,rtpSender:M.sender}}async stopSending(u){if(this.assertSendDirection(),p.debug("stopSending() [localId:%s]",u),this._closed)return;const f=this._mapMidTransceiver.get(u);if(!f)throw new Error("associated transceiver not found");f.sender.replaceTrack(null),this._pc.removeTrack(f.sender),this._remoteSdp.disableMediaSection(f.mid);const m=await this._pc.createOffer();p.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m);const v={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",v),await this._pc.setRemoteDescription(v),this._mapMidTransceiver.delete(u)}async pauseSending(u){this.assertNotClosed(),this.assertSendDirection(),p.debug("pauseSending() [localId:%s]",u);const f=this._mapMidTransceiver.get(u);if(!f)throw new Error("associated RTCRtpTransceiver not found");f.direction="inactive",this._remoteSdp.pauseMediaSection(u);const m=await this._pc.createOffer();p.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m);const v={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",v),await this._pc.setRemoteDescription(v)}async resumeSending(u){this.assertNotClosed(),this.assertSendDirection(),p.debug("resumeSending() [localId:%s]",u);const f=this._mapMidTransceiver.get(u);if(!f)throw new Error("associated RTCRtpTransceiver not found");f.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(u);const m=await this._pc.createOffer();p.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m);const v={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",v),await this._pc.setRemoteDescription(v)}async replaceTrack(u,f){this.assertNotClosed(),this.assertSendDirection(),f?p.debug("replaceTrack() [localId:%s, track.id:%s]",u,f.id):p.debug("replaceTrack() [localId:%s, no track]",u);const m=this._mapMidTransceiver.get(u);if(!m)throw new Error("associated RTCRtpTransceiver not found");await m.sender.replaceTrack(f)}async setMaxSpatialLayer(u,f){this.assertNotClosed(),this.assertSendDirection(),p.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",u,f);const m=this._mapMidTransceiver.get(u);if(!m)throw new Error("associated transceiver not found");const v=m.sender.getParameters();v.encodings.forEach((M,C)=>{C<=f?M.active=!0:M.active=!1}),await m.sender.setParameters(v),this._remoteSdp.muxMediaSectionSimulcast(u,v.encodings);const L=await this._pc.createOffer();p.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",L),await this._pc.setLocalDescription(L);const D={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",D),await this._pc.setRemoteDescription(D)}async setRtpEncodingParameters(u,f){this.assertNotClosed(),this.assertSendDirection(),p.debug("setRtpEncodingParameters() [localId:%s, params:%o]",u,f);const m=this._mapMidTransceiver.get(u);if(!m)throw new Error("associated RTCRtpTransceiver not found");const v=m.sender.getParameters();v.encodings.forEach((M,C)=>{v.encodings[C]={...M,...f}}),await m.sender.setParameters(v),this._remoteSdp.muxMediaSectionSimulcast(u,v.encodings);const L=await this._pc.createOffer();p.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",L),await this._pc.setLocalDescription(L);const D={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",D),await this._pc.setRemoteDescription(D)}async getSenderStats(u){this.assertNotClosed(),this.assertSendDirection();const f=this._mapMidTransceiver.get(u);if(!f)throw new Error("associated RTCRtpTransceiver not found");return f.sender.getStats()}async sendDataChannel({ordered:u,maxPacketLifeTime:f,maxRetransmits:m,label:v,protocol:L}){this.assertNotClosed(),this.assertSendDirection();const D={negotiated:!0,id:this._nextSendSctpStreamId,ordered:u,maxPacketLifeTime:f,maxRetransmits:m,protocol:L};p.debug("sendDataChannel() [options:%o]",D);const M=this._pc.createDataChannel(v,D);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%R.MIS,!this._hasDataChannelMediaSection){const h=await this._pc.createOffer(),E=l.parse(h.sdp),k=E.media.find(ee=>ee.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:E}),p.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",h),await this._pc.setLocalDescription(h),this._remoteSdp.sendSctpAssociation({offerMediaObject:k});const B={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",B),await this._pc.setRemoteDescription(B),this._hasDataChannelMediaSection=!0}const C={streamId:D.id,ordered:D.ordered,maxPacketLifeTime:D.maxPacketLifeTime,maxRetransmits:D.maxRetransmits};return{dataChannel:M,sctpStreamParameters:C}}async receive(u){this.assertNotClosed(),this.assertRecvDirection();const f=[],m=new Map;for(const M of u){const{trackId:C,kind:h,rtpParameters:E,streamId:k}=M;p.debug("receive() [trackId:%s, kind:%s]",C,h);const B=E.mid??String(this._mapMidTransceiver.size);m.set(C,B);const{msidStreamId:ee}=x.getMsidStreamIdAndTrackId(E.msid);this._remoteSdp.receive({mid:B,kind:h,offerRtpParameters:E,streamId:k??ee??E.rtcp?.cname??"-",trackId:C})}const v={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",v),await this._pc.setRemoteDescription(v);for(const M of u){const{trackId:C,onRtpReceiver:h}=M;if(h){const E=m.get(C),k=this._pc.getTransceivers().find(B=>B.mid===E);if(!k)throw new Error("transceiver not found");h(k.receiver)}}let L=await this._pc.createAnswer();const D=l.parse(L.sdp);for(const M of u){const{trackId:C,rtpParameters:h}=M,E=m.get(C),k=D.media.find(B=>String(B.mid)===E);g.applyCodecParameters({offerRtpParameters:h,answerMediaObject:k}),L={type:"answer",sdp:l.write(D)}}this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:D}),p.debug("receive() | calling pc.setLocalDescription() [answer:%o]",L),await this._pc.setLocalDescription(L);for(const M of u){const{trackId:C}=M,h=m.get(C),E=this._pc.getTransceivers().find(k=>k.mid===h);if(!E)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(h,E),f.push({localId:h,track:E.receiver.track,rtpReceiver:E.receiver})}return f}async stopReceiving(u){if(this.assertRecvDirection(),this._closed)return;for(const v of u){p.debug("stopReceiving() [localId:%s]",v);const L=this._mapMidTransceiver.get(v);if(!L)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(L.mid)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const m=await this._pc.createAnswer();p.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m);for(const v of u)this._mapMidTransceiver.delete(v)}async pauseReceiving(u){this.assertNotClosed(),this.assertRecvDirection();for(const v of u){p.debug("pauseReceiving() [localId:%s]",v);const L=this._mapMidTransceiver.get(v);if(!L)throw new Error("associated RTCRtpTransceiver not found");L.direction="inactive",this._remoteSdp.pauseMediaSection(v)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const m=await this._pc.createAnswer();p.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}async resumeReceiving(u){this.assertNotClosed(),this.assertRecvDirection();for(const v of u){p.debug("resumeReceiving() [localId:%s]",v);const L=this._mapMidTransceiver.get(v);if(!L)throw new Error("associated RTCRtpTransceiver not found");L.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(v)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const m=await this._pc.createAnswer();p.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}async getReceiverStats(u){this.assertRecvDirection();const f=this._mapMidTransceiver.get(u);if(!f)throw new Error("associated RTCRtpTransceiver not found");return f.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:u,label:f,protocol:m}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:v,ordered:L,maxPacketLifeTime:D,maxRetransmits:M}=u,C={negotiated:!0,id:v,ordered:L,maxPacketLifeTime:D,maxRetransmits:M,protocol:m};p.debug("receiveDataChannel() [options:%o]",C);const h=this._pc.createDataChannel(f,C);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const E={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",E),await this._pc.setRemoteDescription(E);const k=await this._pc.createAnswer();if(!this._transportReady){const B=l.parse(k.sdp);await this.setupTransport({localDtlsRole:"client",localSdpObject:B})}p.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setLocalDescription(k),this._hasDataChannelMediaSection=!0}return{dataChannel:h}}async setupTransport({localDtlsRole:u,localSdpObject:f}){f||(f=l.parse(this._pc.localDescription.sdp));const m=g.extractDtlsParameters({sdpObject:f});m.role=u,this._remoteSdp.updateDtlsRole(u==="client"?"server":"client"),await new Promise((v,L)=>{this.safeEmit("@connect",{dtlsParameters:m},v,L)}),this._transportReady=!0}onIceGatheringStateChange=()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)};onIceCandidateError=u=>{this.emit("@icecandidateerror",u)};onConnectionStateChange=()=>{this.emit("@connectionstatechange",this._pc.connectionState)};onIceConnectionStateChange=()=>{switch(this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}};assertNotClosed(){if(this._closed)throw new c.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return Er.Firefox120=q,Er}var Tr={},cm;function Q_(){if(cm)return Tr;cm=1,Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.Safari12=void 0;const l=ei(),s=Nt(),o=Ct(),c=Rn(),_=$t(),T=fa(),w=Nr(),g=zr(),A=jr(),x=Ur(),p=new o.Logger("Safari12"),S="Safari12",R={OS:1024,MIS:1024};let q=class hc extends s.EnhancedEventEmitter{_closed=!1;_direction;_remoteSdp;_getSendExtendedRtpCapabilities;_forcedLocalDtlsRole;_pc;_mapMidTransceiver=new Map;_sendStream=new MediaStream;_hasDataChannelMediaSection=!1;_nextSendSctpStreamId=0;_transportReady=!1;static createFactory(){return{name:S,factory:u=>new hc(u),getNativeRtpCapabilities:async()=>{p.debug("getNativeRtpCapabilities()");let u=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});try{u.addTransceiver("audio"),u.addTransceiver("video");const f=await u.createOffer();try{u.close()}catch{}u=void 0;const m=l.parse(f.sdp);return hc.getLocalRtpCapabilities(m)}catch(f){try{u?.close()}catch{}throw u=void 0,f}},getNativeSctpCapabilities:async()=>(p.debug("getNativeSctpCapabilities()"),{numStreams:R})}}static getLocalRtpCapabilities(u,f=[]){const m=g.extractRtpCapabilities({sdpObject:u});c.validateAndNormalizeRtpCapabilities(m),x.addNackSupportForOpus(m);for(const v of f)x.addHeaderExtensionSupport(m,v);return m}constructor({direction:u,iceParameters:f,iceCandidates:m,dtlsParameters:v,sctpParameters:L,iceServers:D,iceTransportPolicy:M,additionalSettings:C,getSendExtendedRtpCapabilities:h}){super(),p.debug("constructor()"),this._direction=u,this._remoteSdp=new w.RemoteSdp({iceParameters:f,iceCandidates:m,dtlsParameters:v,sctpParameters:L}),this._getSendExtendedRtpCapabilities=h,v.role&&v.role!=="auto"&&(this._forcedLocalDtlsRole=v.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:D??[],iceTransportPolicy:M??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...C}),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.addEventListener("icecandidateerror",E=>{this.emit("@icecandidateerror",E)}),this._pc.addEventListener("icegatheringstatechange",this.onIceGatheringStateChange),this._pc.addEventListener("icecandidateerror",this.onIceCandidateError),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",this.onConnectionStateChange):(p.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",this.onIceConnectionStateChange))}get name(){return S}close(){if(p.debug("close()"),!this._closed){this._closed=!0;try{this._pc.close()}catch{}this._pc.removeEventListener("icegatheringstatechange",this.onIceGatheringStateChange),this._pc.removeEventListener("icecandidateerror",this.onIceCandidateError),this._pc.removeEventListener("connectionstatechange",this.onConnectionStateChange),this._pc.removeEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),this.emit("@close"),super.close()}}async updateIceServers(u){this.assertNotClosed(),p.debug("updateIceServers()");const f=this._pc.getConfiguration();f.iceServers=u,this._pc.setConfiguration(f)}async restartIce(u){if(this.assertNotClosed(),p.debug("restartIce()"),this._remoteSdp.updateIceParameters(u),!!this._transportReady)if(this._direction==="send"){const f=await this._pc.createOffer({iceRestart:!0});p.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const m={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m)}else{const f={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const m=await this._pc.createAnswer();p.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:u,streamId:f,encodings:m,codecOptions:v,headerExtensionOptions:L,codec:D,onRtpSender:M}){this.assertNotClosed(),this.assertSendDirection(),p.debug("send() [kind:%s, track.id:%s, streamId:%s]",u.kind,u.id,f);const C=this._remoteSdp.getNextMediaSectionIdx(),h=this._pc.addTransceiver(u,{direction:"sendonly",streams:[this._sendStream]});M&&M(h.sender);let E=await this._pc.createOffer(),k=l.parse(E.sdp);k.extmapAllowMixed&&this._remoteSdp.setSessionExtmapAllowMixed();const B=[];B.push({uri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time",kind:u.kind,direction:"sendonly"});const ee=hc.getLocalRtpCapabilities(k,B),ae=this._getSendExtendedRtpCapabilities(ee),b=c.getSendingRtpParameters(u.kind,ae);b.codecs=c.reduceCodecs(b.codecs,D);const Q=c.getSendingRemoteRtpParameters(u.kind,ae);Q.codecs=c.reduceCodecs(Q.codecs,D);let Z;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:k});const O=(0,T.parse)((m??[{}])[0].scalabilityMode);m&&m.length>1&&(p.debug("send() | enabling legacy simulcast"),k=l.parse(E.sdp),Z=k.media[C.idx],A.addLegacySimulcast({offerMediaObject:Z,numStreams:m.length}),E={type:"offer",sdp:l.write(k)}),L?.absCaptureTime&&(Z=k.media[C.idx],g.addHeaderExtension({offerMediaObject:Z,headerExtensionUri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time",headerExtensionId:Q.headerExtensions.find(re=>re.uri==="http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time").id}),E={type:"offer",sdp:l.write(k)}),p.debug("send() | calling pc.setLocalDescription() [offer:%o]",E),await this._pc.setLocalDescription(E);const P=h.mid;if(b.mid=P,k=l.parse(this._pc.localDescription.sdp),Z=k.media[C.idx],b.rtcp.cname=g.getCname({offerMediaObject:Z}),b.msid=`${f??this._sendStream.id} ${u.id}`,b.encodings=A.getRtpEncodings({offerMediaObject:Z}),m)for(let re=0;re<b.encodings.length;++re)m[re]&&Object.assign(b.encodings[re],m[re]);if(b.encodings.length>1&&(b.codecs[0].mimeType.toLowerCase()==="video/vp8"||b.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const re of b.encodings)re.scalabilityMode?re.scalabilityMode=`L1T${O.temporalLayers}`:re.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:Z,reuseMid:C.reuseMid,offerRtpParameters:b,answerRtpParameters:Q,codecOptions:v});const J={type:"answer",sdp:this._remoteSdp.getSdp()};return p.debug("send() | calling pc.setRemoteDescription() [answer:%o]",J),await this._pc.setRemoteDescription(J),this._mapMidTransceiver.set(P,h),{localId:P,rtpParameters:b,rtpSender:h.sender}}async stopSending(u){if(this.assertSendDirection(),this._closed)return;p.debug("stopSending() [localId:%s]",u);const f=this._mapMidTransceiver.get(u);if(!f)throw new Error("associated RTCRtpTransceiver not found");if(f.sender.replaceTrack(null),this._pc.removeTrack(f.sender),this._remoteSdp.closeMediaSection(f.mid))try{f.stop()}catch{}const v=await this._pc.createOffer();p.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",v),await this._pc.setLocalDescription(v);const L={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",L),await this._pc.setRemoteDescription(L),this._mapMidTransceiver.delete(u)}async pauseSending(u){this.assertNotClosed(),this.assertSendDirection(),p.debug("pauseSending() [localId:%s]",u);const f=this._mapMidTransceiver.get(u);if(!f)throw new Error("associated RTCRtpTransceiver not found");f.direction="inactive",this._remoteSdp.pauseMediaSection(u);const m=await this._pc.createOffer();p.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m);const v={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",v),await this._pc.setRemoteDescription(v)}async resumeSending(u){this.assertNotClosed(),this.assertSendDirection(),p.debug("resumeSending() [localId:%s]",u);const f=this._mapMidTransceiver.get(u);if(!f)throw new Error("associated RTCRtpTransceiver not found");f.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(u);const m=await this._pc.createOffer();p.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m);const v={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",v),await this._pc.setRemoteDescription(v)}async replaceTrack(u,f){this.assertNotClosed(),this.assertSendDirection(),f?p.debug("replaceTrack() [localId:%s, track.id:%s]",u,f.id):p.debug("replaceTrack() [localId:%s, no track]",u);const m=this._mapMidTransceiver.get(u);if(!m)throw new Error("associated RTCRtpTransceiver not found");await m.sender.replaceTrack(f)}async setMaxSpatialLayer(u,f){this.assertNotClosed(),this.assertSendDirection(),p.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",u,f);const m=this._mapMidTransceiver.get(u);if(!m)throw new Error("associated RTCRtpTransceiver not found");const v=m.sender.getParameters();v.encodings.forEach((M,C)=>{C<=f?M.active=!0:M.active=!1}),await m.sender.setParameters(v),this._remoteSdp.muxMediaSectionSimulcast(u,v.encodings);const L=await this._pc.createOffer();p.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",L),await this._pc.setLocalDescription(L);const D={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",D),await this._pc.setRemoteDescription(D)}async setRtpEncodingParameters(u,f){this.assertNotClosed(),this.assertSendDirection(),p.debug("setRtpEncodingParameters() [localId:%s, params:%o]",u,f);const m=this._mapMidTransceiver.get(u);if(!m)throw new Error("associated RTCRtpTransceiver not found");const v=m.sender.getParameters();v.encodings.forEach((M,C)=>{v.encodings[C]={...M,...f}}),await m.sender.setParameters(v),this._remoteSdp.muxMediaSectionSimulcast(u,v.encodings);const L=await this._pc.createOffer();p.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",L),await this._pc.setLocalDescription(L);const D={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",D),await this._pc.setRemoteDescription(D)}async getSenderStats(u){this.assertNotClosed(),this.assertSendDirection();const f=this._mapMidTransceiver.get(u);if(!f)throw new Error("associated RTCRtpTransceiver not found");return f.sender.getStats()}async sendDataChannel({ordered:u,maxPacketLifeTime:f,maxRetransmits:m,label:v,protocol:L}){this.assertNotClosed(),this.assertSendDirection();const D={negotiated:!0,id:this._nextSendSctpStreamId,ordered:u,maxPacketLifeTime:f,maxRetransmits:m,protocol:L};p.debug("sendDataChannel() [options:%o]",D);const M=this._pc.createDataChannel(v,D);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%R.MIS,!this._hasDataChannelMediaSection){const h=await this._pc.createOffer(),E=l.parse(h.sdp),k=E.media.find(ee=>ee.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:E}),p.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",h),await this._pc.setLocalDescription(h),this._remoteSdp.sendSctpAssociation({offerMediaObject:k});const B={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",B),await this._pc.setRemoteDescription(B),this._hasDataChannelMediaSection=!0}const C={streamId:D.id,ordered:D.ordered,maxPacketLifeTime:D.maxPacketLifeTime,maxRetransmits:D.maxRetransmits};return{dataChannel:M,sctpStreamParameters:C}}async receive(u){this.assertNotClosed(),this.assertRecvDirection();const f=[],m=new Map;for(const M of u){const{trackId:C,kind:h,rtpParameters:E,streamId:k}=M;p.debug("receive() [trackId:%s, kind:%s]",C,h);const B=E.mid??String(this._mapMidTransceiver.size);m.set(C,B);const{msidStreamId:ee}=x.getMsidStreamIdAndTrackId(E.msid);this._remoteSdp.receive({mid:B,kind:h,offerRtpParameters:E,streamId:k??ee??E.rtcp?.cname??"-",trackId:C})}const v={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",v),await this._pc.setRemoteDescription(v);for(const M of u){const{trackId:C,onRtpReceiver:h}=M;if(h){const E=m.get(C),k=this._pc.getTransceivers().find(B=>B.mid===E);if(!k)throw new Error("transceiver not found");h(k.receiver)}}let L=await this._pc.createAnswer();const D=l.parse(L.sdp);for(const M of u){const{trackId:C,rtpParameters:h}=M,E=m.get(C),k=D.media.find(B=>String(B.mid)===E);g.applyCodecParameters({offerRtpParameters:h,answerMediaObject:k})}L={type:"answer",sdp:l.write(D)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:D}),p.debug("receive() | calling pc.setLocalDescription() [answer:%o]",L),await this._pc.setLocalDescription(L);for(const M of u){const{trackId:C}=M,h=m.get(C),E=this._pc.getTransceivers().find(k=>k.mid===h);if(!E)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(h,E),f.push({localId:h,track:E.receiver.track,rtpReceiver:E.receiver})}return f}async stopReceiving(u){if(this.assertRecvDirection(),this._closed)return;for(const v of u){p.debug("stopReceiving() [localId:%s]",v);const L=this._mapMidTransceiver.get(v);if(!L)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(L.mid)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const m=await this._pc.createAnswer();p.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m);for(const v of u)this._mapMidTransceiver.delete(v)}async pauseReceiving(u){this.assertNotClosed(),this.assertRecvDirection();for(const v of u){p.debug("pauseReceiving() [localId:%s]",v);const L=this._mapMidTransceiver.get(v);if(!L)throw new Error("associated RTCRtpTransceiver not found");L.direction="inactive",this._remoteSdp.pauseMediaSection(v)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const m=await this._pc.createAnswer();p.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}async resumeReceiving(u){this.assertNotClosed(),this.assertRecvDirection();for(const v of u){p.debug("resumeReceiving() [localId:%s]",v);const L=this._mapMidTransceiver.get(v);if(!L)throw new Error("associated RTCRtpTransceiver not found");L.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(v)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const m=await this._pc.createAnswer();p.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}async getReceiverStats(u){this.assertNotClosed(),this.assertRecvDirection();const f=this._mapMidTransceiver.get(u);if(!f)throw new Error("associated RTCRtpTransceiver not found");return f.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:u,label:f,protocol:m}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:v,ordered:L,maxPacketLifeTime:D,maxRetransmits:M}=u,C={negotiated:!0,id:v,ordered:L,maxPacketLifeTime:D,maxRetransmits:M,protocol:m};p.debug("receiveDataChannel() [options:%o]",C);const h=this._pc.createDataChannel(f,C);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const E={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",E),await this._pc.setRemoteDescription(E);const k=await this._pc.createAnswer();if(!this._transportReady){const B=l.parse(k.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:B})}p.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setLocalDescription(k),this._hasDataChannelMediaSection=!0}return{dataChannel:h}}async setupTransport({localDtlsRole:u,localSdpObject:f}){f||(f=l.parse(this._pc.localDescription.sdp));const m=g.extractDtlsParameters({sdpObject:f});m.role=u,this._remoteSdp.updateDtlsRole(u==="client"?"server":"client"),await new Promise((v,L)=>{this.safeEmit("@connect",{dtlsParameters:m},v,L)}),this._transportReady=!0}onIceGatheringStateChange=()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)};onIceCandidateError=u=>{this.emit("@icecandidateerror",u)};onConnectionStateChange=()=>{this.emit("@connectionstatechange",this._pc.connectionState)};onIceConnectionStateChange=()=>{switch(this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}};assertNotClosed(){if(this._closed)throw new _.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return Tr.Safari12=q,Tr}var Rr={},om;function X_(){if(om)return Rr;om=1,Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.ReactNative106=void 0;const l=ei(),s=Nt(),o=Ct(),c=Rn(),_=$t(),T=fa(),w=Nr(),g=zr(),A=jr(),x=Ur(),p=new o.Logger("ReactNative106"),S="ReactNative106",R={OS:1024,MIS:1024};let q=class mc extends s.EnhancedEventEmitter{_closed=!1;_direction;_remoteSdp;_getSendExtendedRtpCapabilities;_forcedLocalDtlsRole;_pc;_mapMidTransceiver=new Map;_sendStream=new MediaStream;_hasDataChannelMediaSection=!1;_nextSendSctpStreamId=0;_transportReady=!1;static createFactory(){return{name:S,factory:u=>new mc(u),getNativeRtpCapabilities:async()=>{p.debug("getNativeRtpCapabilities()");let u=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});try{u.addTransceiver("audio"),u.addTransceiver("video");const f=await u.createOffer();try{u.close()}catch{}u=void 0;const m=l.parse(f.sdp);return mc.getLocalRtpCapabilities(m)}catch(f){try{u?.close()}catch{}throw u=void 0,f}},getNativeSctpCapabilities:async()=>(p.debug("getNativeSctpCapabilities()"),{numStreams:R})}}static getLocalRtpCapabilities(u,f=[]){const m=g.extractRtpCapabilities({sdpObject:u});c.validateAndNormalizeRtpCapabilities(m),x.addNackSupportForOpus(m);for(const v of f)x.addHeaderExtensionSupport(m,v);return m}constructor({direction:u,iceParameters:f,iceCandidates:m,dtlsParameters:v,sctpParameters:L,iceServers:D,iceTransportPolicy:M,additionalSettings:C,getSendExtendedRtpCapabilities:h}){super(),p.debug("constructor()"),this._direction=u,this._remoteSdp=new w.RemoteSdp({iceParameters:f,iceCandidates:m,dtlsParameters:v,sctpParameters:L}),this._getSendExtendedRtpCapabilities=h,v.role&&v.role!=="auto"&&(this._forcedLocalDtlsRole=v.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:D??[],iceTransportPolicy:M??"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...C}),this._pc.addEventListener("icegatheringstatechange",this.onIceGatheringStateChange),this._pc.addEventListener("icecandidateerror",this.onIceCandidateError),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",this.onConnectionStateChange):(p.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",this.onIceConnectionStateChange))}get name(){return S}close(){if(p.debug("close()"),!this._closed){this._closed=!0,this._sendStream.release(!1);try{this._pc.close()}catch{}this._pc.removeEventListener("icegatheringstatechange",this.onIceGatheringStateChange),this._pc.removeEventListener("icecandidateerror",this.onIceCandidateError),this._pc.removeEventListener("connectionstatechange",this.onConnectionStateChange),this._pc.removeEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),this.emit("@close"),super.close()}}async updateIceServers(u){this.assertNotClosed(),p.debug("updateIceServers()");const f=this._pc.getConfiguration();f.iceServers=u,this._pc.setConfiguration(f)}async restartIce(u){if(this.assertNotClosed(),p.debug("restartIce()"),this._remoteSdp.updateIceParameters(u),!!this._transportReady)if(this._direction==="send"){const f=await this._pc.createOffer({iceRestart:!0});p.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",f),await this._pc.setLocalDescription(f);const m={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",m),await this._pc.setRemoteDescription(m)}else{const f={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const m=await this._pc.createAnswer();p.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:u,streamId:f,encodings:m,codecOptions:v,headerExtensionOptions:L,codec:D,onRtpSender:M}){this.assertNotClosed(),this.assertSendDirection(),p.debug("send() [kind:%s, track.id:%s, streamId:%s]",u.kind,u.id,f),m&&m.length>1&&m.forEach((ue,j)=>{ue.rid=`r${j}`});const C=this._remoteSdp.getNextMediaSectionIdx(),h=this._pc.addTransceiver(u,{direction:"sendonly",streams:[this._sendStream],sendEncodings:m});M&&M(h.sender);let E=await this._pc.createOffer(),k=l.parse(E.sdp);k.extmapAllowMixed&&this._remoteSdp.setSessionExtmapAllowMixed();const B=[];B.push({uri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time",kind:u.kind,direction:"sendonly"});const ee=mc.getLocalRtpCapabilities(k,B),ae=this._getSendExtendedRtpCapabilities(ee),b=c.getSendingRtpParameters(u.kind,ae);b.codecs=c.reduceCodecs(b.codecs,D);const Q=c.getSendingRemoteRtpParameters(u.kind,ae);Q.codecs=c.reduceCodecs(Q.codecs,D),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:k});let Z=!1;const O=(0,T.parse)((m??[{}])[0].scalabilityMode);let P;m?.length===1&&O.spatialLayers>1&&b.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(p.debug("send() | enabling legacy simulcast for VP9 SVC"),Z=!0,k=l.parse(E.sdp),P=k.media[C.idx],A.addLegacySimulcast({offerMediaObject:P,numStreams:O.spatialLayers}),E={type:"offer",sdp:l.write(k)}),L?.absCaptureTime&&(P=k.media[C.idx],g.addHeaderExtension({offerMediaObject:P,headerExtensionUri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time",headerExtensionId:Q.headerExtensions.find(ue=>ue.uri==="http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time").id}),E={type:"offer",sdp:l.write(k)}),p.debug("send() | calling pc.setLocalDescription() [offer:%o]",E),await this._pc.setLocalDescription(E);let J=h.mid??void 0;if(J||p.warn("send() | missing transceiver.mid (bug in react-native-webrtc, using a workaround"),b.mid=J,k=l.parse(this._pc.localDescription.sdp),P=k.media[C.idx],b.rtcp.cname=g.getCname({offerMediaObject:P}),b.msid=`${f??this._sendStream.id} ${u.id}`,!m)b.encodings=A.getRtpEncodings({offerMediaObject:P});else if(m.length===1){let ue=A.getRtpEncodings({offerMediaObject:P});Object.assign(ue[0],m[0]),Z&&(ue=[ue[0]]),b.encodings=ue}else b.encodings=m;if(b.encodings.length>1&&(b.codecs[0].mimeType.toLowerCase()==="video/vp8"||b.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const ue of b.encodings)ue.scalabilityMode?ue.scalabilityMode=`L1T${O.temporalLayers}`:ue.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:P,reuseMid:C.reuseMid,offerRtpParameters:b,answerRtpParameters:Q,codecOptions:v});const re={type:"answer",sdp:this._remoteSdp.getSdp()};return p.debug("send() | calling pc.setRemoteDescription() [answer:%o]",re),await this._pc.setRemoteDescription(re),J||(J=h.mid,b.mid=J),this._mapMidTransceiver.set(J,h),{localId:J,rtpParameters:b,rtpSender:h.sender}}async stopSending(u){if(this.assertSendDirection(),this._closed)return;p.debug("stopSending() [localId:%s]",u);const f=this._mapMidTransceiver.get(u);if(!f)throw new Error("associated RTCRtpTransceiver not found");if(f.sender.replaceTrack(null),this._pc.removeTrack(f.sender),this._remoteSdp.closeMediaSection(f.mid))try{f.stop()}catch{}const v=await this._pc.createOffer();p.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",v),await this._pc.setLocalDescription(v);const L={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",L),await this._pc.setRemoteDescription(L),this._mapMidTransceiver.delete(u)}async pauseSending(u){this.assertNotClosed(),this.assertSendDirection(),p.debug("pauseSending() [localId:%s]",u);const f=this._mapMidTransceiver.get(u);if(!f)throw new Error("associated RTCRtpTransceiver not found");f.direction="inactive",this._remoteSdp.pauseMediaSection(u);const m=await this._pc.createOffer();p.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m);const v={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",v),await this._pc.setRemoteDescription(v)}async resumeSending(u){this.assertNotClosed(),this.assertSendDirection(),p.debug("resumeSending() [localId:%s]",u);const f=this._mapMidTransceiver.get(u);if(this._remoteSdp.resumeSendingMediaSection(u),!f)throw new Error("associated RTCRtpTransceiver not found");f.direction="sendonly";const m=await this._pc.createOffer();p.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",m),await this._pc.setLocalDescription(m);const v={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",v),await this._pc.setRemoteDescription(v)}async replaceTrack(u,f){this.assertNotClosed(),this.assertSendDirection(),f?p.debug("replaceTrack() [localId:%s, track.id:%s]",u,f.id):p.debug("replaceTrack() [localId:%s, no track]",u);const m=this._mapMidTransceiver.get(u);if(!m)throw new Error("associated RTCRtpTransceiver not found");await m.sender.replaceTrack(f)}async setMaxSpatialLayer(u,f){this.assertNotClosed(),this.assertSendDirection(),p.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",u,f);const m=this._mapMidTransceiver.get(u);if(!m)throw new Error("associated RTCRtpTransceiver not found");const v=m.sender.getParameters();v.encodings.forEach((M,C)=>{C<=f?M.active=!0:M.active=!1}),await m.sender.setParameters(v),this._remoteSdp.muxMediaSectionSimulcast(u,v.encodings);const L=await this._pc.createOffer();p.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",L),await this._pc.setLocalDescription(L);const D={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",D),await this._pc.setRemoteDescription(D)}async setRtpEncodingParameters(u,f){this.assertNotClosed(),this.assertSendDirection(),p.debug("setRtpEncodingParameters() [localId:%s, params:%o]",u,f);const m=this._mapMidTransceiver.get(u);if(!m)throw new Error("associated RTCRtpTransceiver not found");const v=m.sender.getParameters();v.encodings.forEach((M,C)=>{v.encodings[C]={...M,...f}}),await m.sender.setParameters(v),this._remoteSdp.muxMediaSectionSimulcast(u,v.encodings);const L=await this._pc.createOffer();p.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",L),await this._pc.setLocalDescription(L);const D={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",D),await this._pc.setRemoteDescription(D)}async getSenderStats(u){this.assertNotClosed(),this.assertSendDirection();const f=this._mapMidTransceiver.get(u);if(!f)throw new Error("associated RTCRtpTransceiver not found");return f.sender.getStats()}async sendDataChannel({ordered:u,maxPacketLifeTime:f,maxRetransmits:m,label:v,protocol:L}){this.assertNotClosed(),this.assertSendDirection();const D={negotiated:!0,id:this._nextSendSctpStreamId,ordered:u,maxPacketLifeTime:f,maxRetransmits:m,protocol:L};p.debug("sendDataChannel() [options:%o]",D);const M=this._pc.createDataChannel(v,D);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%R.MIS,!this._hasDataChannelMediaSection){const h=await this._pc.createOffer(),E=l.parse(h.sdp),k=E.media.find(ee=>ee.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:E}),p.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",h),await this._pc.setLocalDescription(h),this._remoteSdp.sendSctpAssociation({offerMediaObject:k});const B={type:"answer",sdp:this._remoteSdp.getSdp()};p.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",B),await this._pc.setRemoteDescription(B),this._hasDataChannelMediaSection=!0}const C={streamId:D.id,ordered:D.ordered,maxPacketLifeTime:D.maxPacketLifeTime,maxRetransmits:D.maxRetransmits};return{dataChannel:M,sctpStreamParameters:C}}async receive(u){this.assertNotClosed(),this.assertRecvDirection();const f=[],m=new Map;for(const M of u){const{trackId:C,kind:h,rtpParameters:E,streamId:k}=M;p.debug("receive() [trackId:%s, kind:%s]",C,h);const B=E.mid??String(this._mapMidTransceiver.size);m.set(C,B);const{msidStreamId:ee}=x.getMsidStreamIdAndTrackId(E.msid);this._remoteSdp.receive({mid:B,kind:h,offerRtpParameters:E,streamId:k??ee??E.rtcp?.cname??"-",trackId:C})}const v={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",v),await this._pc.setRemoteDescription(v);for(const M of u){const{trackId:C,onRtpReceiver:h}=M;if(h){const E=m.get(C),k=this._pc.getTransceivers().find(B=>B.mid===E);if(!k)throw new Error("transceiver not found");h(k.receiver)}}let L=await this._pc.createAnswer();const D=l.parse(L.sdp);for(const M of u){const{trackId:C,rtpParameters:h}=M,E=m.get(C),k=D.media.find(B=>String(B.mid)===E);g.applyCodecParameters({offerRtpParameters:h,answerMediaObject:k})}L={type:"answer",sdp:l.write(D)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:D}),p.debug("receive() | calling pc.setLocalDescription() [answer:%o]",L),await this._pc.setLocalDescription(L);for(const M of u){const{trackId:C}=M,h=m.get(C),E=this._pc.getTransceivers().find(k=>k.mid===h);if(E)this._mapMidTransceiver.set(h,E),f.push({localId:h,track:E.receiver.track,rtpReceiver:E.receiver});else throw new Error("new RTCRtpTransceiver not found")}return f}async stopReceiving(u){if(this.assertRecvDirection(),this._closed)return;for(const v of u){p.debug("stopReceiving() [localId:%s]",v);const L=this._mapMidTransceiver.get(v);if(!L)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(L.mid)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const m=await this._pc.createAnswer();p.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m);for(const v of u)this._mapMidTransceiver.delete(v)}async pauseReceiving(u){this.assertNotClosed(),this.assertRecvDirection();for(const v of u){p.debug("pauseReceiving() [localId:%s]",v);const L=this._mapMidTransceiver.get(v);if(!L)throw new Error("associated RTCRtpTransceiver not found");L.direction="inactive",this._remoteSdp.pauseMediaSection(v)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const m=await this._pc.createAnswer();p.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}async resumeReceiving(u){this.assertNotClosed(),this.assertRecvDirection();for(const v of u){p.debug("resumeReceiving() [localId:%s]",v);const L=this._mapMidTransceiver.get(v);if(!L)throw new Error("associated RTCRtpTransceiver not found");L.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(v)}const f={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",f),await this._pc.setRemoteDescription(f);const m=await this._pc.createAnswer();p.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",m),await this._pc.setLocalDescription(m)}async getReceiverStats(u){this.assertNotClosed(),this.assertRecvDirection();const f=this._mapMidTransceiver.get(u);if(!f)throw new Error("associated RTCRtpTransceiver not found");return f.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:u,label:f,protocol:m}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:v,ordered:L,maxPacketLifeTime:D,maxRetransmits:M}=u,C={negotiated:!0,id:v,ordered:L,maxPacketLifeTime:D,maxRetransmits:M,protocol:m};p.debug("receiveDataChannel() [options:%o]",C);const h=this._pc.createDataChannel(f,C);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const E={type:"offer",sdp:this._remoteSdp.getSdp()};p.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",E),await this._pc.setRemoteDescription(E);const k=await this._pc.createAnswer();if(!this._transportReady){const B=l.parse(k.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:B})}p.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",k),await this._pc.setLocalDescription(k),this._hasDataChannelMediaSection=!0}return{dataChannel:h}}async setupTransport({localDtlsRole:u,localSdpObject:f}){f||(f=l.parse(this._pc.localDescription.sdp));const m=g.extractDtlsParameters({sdpObject:f});m.role=u,this._remoteSdp.updateDtlsRole(u==="client"?"server":"client"),await new Promise((v,L)=>{this.safeEmit("@connect",{dtlsParameters:m},v,L)}),this._transportReady=!0}onIceGatheringStateChange=()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)};onIceCandidateError=u=>{this.emit("@icecandidateerror",u)};onConnectionStateChange=()=>{this.emit("@connectionstatechange",this._pc.connectionState)};onIceConnectionStateChange=()=>{switch(this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}};assertNotClosed(){if(this._closed)throw new _.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}};return Rr.ReactNative106=q,Rr}var lm;function F_(){if(lm)return bi;lm=1,Object.defineProperty(bi,"__esModule",{value:!0}),bi.Device=void 0,bi.detectDevice=R,bi.detectDeviceAsync=q;const l=Ct(),s=Nt(),o=$t(),c=da(),_=Rn(),T=B_(),w=Y_(),g=V_(),A=G_(),x=Q_(),p=X_(),S=new l.Logger("Device");function R(C,h){return S.debug("detectDevice()"),!C&&typeof navigator=="object"&&(C=navigator.userAgent),!h&&typeof navigator=="object"&&(h=navigator.userAgentData),u(C,h)}async function q(C,h){return S.debug("detectDeviceAsync()"),!C&&typeof navigator=="object"&&(C=navigator.userAgent),!h&&typeof navigator=="object"&&(h=navigator.userAgentData),u(C,h)}let z=class zm{_handlerFactory;_handlerName;_loaded=!1;_getSendExtendedRtpCapabilities;_recvRtpCapabilities;_canProduceByKind={audio:!1,video:!1};_sctpCapabilities;_observer=new s.EnhancedEventEmitter;static async factory({handlerName:h,handlerFactory:E}={}){if(S.debug("factory()"),h&&E)throw new TypeError("just one of handlerName or handlerInterface can be given");if(!h&&!E&&(h=await q(),!h))throw new o.UnsupportedError("device not supported");return new zm({handlerName:h,handlerFactory:E})}constructor({handlerName:h,handlerFactory:E}={}){if(S.debug("constructor()"),h&&E)throw new TypeError("just one of handlerName or handlerInterface can be given");if(E)this._handlerFactory=E;else{if(h)S.debug("constructor() | handler given: %s",h);else if(h=R(),h)S.debug("constructor() | detected handler: %s",h);else throw new o.UnsupportedError("device not supported");switch(h){case"Chrome111":{this._handlerFactory=w.Chrome111.createFactory();break}case"Chrome74":{this._handlerFactory=g.Chrome74.createFactory();break}case"Firefox120":{this._handlerFactory=A.Firefox120.createFactory();break}case"Safari12":{this._handlerFactory=x.Safari12.createFactory();break}case"ReactNative106":{this._handlerFactory=p.ReactNative106.createFactory();break}default:throw new TypeError(`unknown handlerName "${h}"`)}}this._handlerName=this._handlerFactory.name}get handlerName(){return this._handlerName}get loaded(){return this._loaded}get rtpCapabilities(){if(!this._loaded)throw new o.InvalidStateError("not loaded");return this._recvRtpCapabilities}get sctpCapabilities(){if(!this._loaded)throw new o.InvalidStateError("not loaded");return this._sctpCapabilities}get observer(){return this._observer}async load({routerRtpCapabilities:h,preferLocalCodecsOrder:E=!1}){if(S.debug("load() [routerRtpCapabilities:%o]",h),this._loaded)throw new o.InvalidStateError("already loaded");const k=c.clone(h);_.validateAndNormalizeRtpCapabilities(k);const{getNativeRtpCapabilities:B,getNativeSctpCapabilities:ee}=this._handlerFactory,ae=c.clone(await B());_.validateAndNormalizeRtpCapabilities(ae),S.debug("load() | got native RTP capabilities:%o",ae),this._getSendExtendedRtpCapabilities=Q=>c.clone(_.getExtendedRtpCapabilities(Q,k,E));const b=_.getExtendedRtpCapabilities(ae,k,!1);this._recvRtpCapabilities=_.getRecvRtpCapabilities(b),_.validateAndNormalizeRtpCapabilities(this._recvRtpCapabilities),S.debug("load() | got receiving RTP capabilities:%o",this._recvRtpCapabilities),this._canProduceByKind.audio=_.canSend("audio",this._recvRtpCapabilities),this._canProduceByKind.video=_.canSend("video",this._recvRtpCapabilities),this._sctpCapabilities=await ee(),_.validateSctpCapabilities(this._sctpCapabilities),S.debug("load() | got native SCTP capabilities:%o",this._sctpCapabilities),S.debug("load() succeeded"),this._loaded=!0}canProduce(h){if(this._loaded){if(h!=="audio"&&h!=="video")throw new TypeError(`invalid kind "${h}"`)}else throw new o.InvalidStateError("not loaded");return this._canProduceByKind[h]}createSendTransport({id:h,iceParameters:E,iceCandidates:k,dtlsParameters:B,sctpParameters:ee,iceServers:ae,iceTransportPolicy:b,additionalSettings:Q,appData:Z}){return S.debug("createSendTransport()"),this.createTransport({direction:"send",id:h,iceParameters:E,iceCandidates:k,dtlsParameters:B,sctpParameters:ee,iceServers:ae,iceTransportPolicy:b,additionalSettings:Q,appData:Z})}createRecvTransport({id:h,iceParameters:E,iceCandidates:k,dtlsParameters:B,sctpParameters:ee,iceServers:ae,iceTransportPolicy:b,additionalSettings:Q,appData:Z}){return S.debug("createRecvTransport()"),this.createTransport({direction:"recv",id:h,iceParameters:E,iceCandidates:k,dtlsParameters:B,sctpParameters:ee,iceServers:ae,iceTransportPolicy:b,additionalSettings:Q,appData:Z})}createTransport({direction:h,id:E,iceParameters:k,iceCandidates:B,dtlsParameters:ee,sctpParameters:ae,iceServers:b,iceTransportPolicy:Q,additionalSettings:Z,appData:O}){if(this._loaded){if(typeof E!="string")throw new TypeError("missing id");if(typeof k!="object")throw new TypeError("missing iceParameters");if(Array.isArray(B)){if(typeof ee!="object")throw new TypeError("missing dtlsParameters");if(ae&&typeof ae!="object")throw new TypeError("wrong sctpParameters");if(O&&typeof O!="object")throw new TypeError("if given, appData must be an object")}else throw new TypeError("missing iceCandidates")}else throw new o.InvalidStateError("not loaded");const P=new T.Transport({direction:h,id:E,iceParameters:k,iceCandidates:B,dtlsParameters:ee,sctpParameters:ae,iceServers:b,iceTransportPolicy:Q,additionalSettings:Z,appData:O,handlerFactory:this._handlerFactory,getSendExtendedRtpCapabilities:this._getSendExtendedRtpCapabilities,recvRtpCapabilities:this._recvRtpCapabilities,canProduceByKind:this._canProduceByKind});return this._observer.safeEmit("newtransport",P),P}};bi.Device=z;function u(C,h){S.debug('detectDeviceImpl() [userAgent:"%s", userAgentData:%o]',C,h);const E=f(C,h);if(E){if(E>=111)return S.debug("detectDeviceImpl() | using Chrome111 handler"),"Chrome111";if(E>=74)return S.debug("detectDeviceImpl() | using Chrome74 handler"),"Chrome74";S.warn("detectDeviceImpl() | unsupported Chromium based browser/version");return}const k=m(C);if(k){if(k>=120)return S.debug("detectDeviceImpl() | using Firefox120 handler"),"Firefox120";S.warn("detectDeviceImpl() | unsupported Firefox browser/version");return}const B=v(C);if(B){if(B>=605)return S.debug("detectDeviceImpl() | using Safari12 handler"),"Safari12";S.warn("detectDeviceImpl() | unsupported desktop Safari browser/version");return}const ee=L(C);if(ee){if(ee>=605)return S.debug("detectDeviceImpl() | using Safari12 handler"),"Safari12";S.warn("detectDeviceImpl() | unsupported iOS Safari based browser/version");return}if(M()){if(typeof RTCPeerConnection<"u"&&typeof RTCRtpTransceiver<"u")return S.debug("detectDeviceImpl() | using ReactNative106 handler"),"ReactNative106";S.warn("detectDeviceImpl() | unsupported react-native-webrtc version without RTCPeerConnection or RTCRtpTransceiver, forgot to call registerGlobals() on it?");return}S.warn('detectDeviceImpl() | device not supported [userAgent:"%s", userAgentData:%o]',C,h)}function f(C,h){if(S.debug("getChromiumMajorVersion()"),D(C,h)){S.debug("getChromiumMajorVersion() | this is iOS => undefined");return}if(M()){S.debug("getChromiumMajorVersion() | this is React-Native => undefined");return}if(h){const k=(h.brands??[]).find(B=>B.brand==="Chromium");if(k){const B=Number(k.version);return S.debug(`getChromiumMajorVersion() | Chromium major version based on NavigatorUAData => ${B}`),B}}const E=C?.match(/\b(?:Chrome|Chromium)\/(\w+)/i);if(E?.[1]){const k=Number(E[1]);return S.debug(`getChromiumMajorVersion() | Chromium major version based on User-Agent => ${k}`),k}S.debug("getChromiumMajorVersion() | this is not Chromium => undefined")}function m(C){if(S.debug("getFirefoxMajorVersion()"),D(C)){S.debug("getFirefoxMajorVersion() | this is iOS => undefined");return}if(M()){S.debug("getFirefoxMajorVersion() | this is React-Native => undefined");return}const h=C?.match(/\bFirefox\/(\w+)/i);if(h?.[1]){const E=Number(h[1]);return S.debug(`getFirefoxMajorVersion() | Firefox major version based on User-Agent => ${E}`),E}S.debug("getFirefoxMajorVersion() | this is not Firefox => undefined")}function v(C){if(S.debug("getMacOSWebKitMajorVersion()"),D(C)){S.debug("getMacOSWebKitMajorVersion() | this is iOS => undefined");return}if(M()){S.debug("getMacOSWebKitMajorVersion() | this is React-Native => undefined");return}if(!(C&&/\bSafari\b/i.test(C)&&!/\bChrome\b/i.test(C)&&!/\bChromium\b/i.test(C)&&!/\bFirefox\b/i.test(C))){S.debug("getMacOSWebKitMajorVersion() | this is not Safari => undefined");return}const E=C.match(/AppleWebKit\/(\w+)/i);if(E?.[1]){const k=Number(E[1]);return S.debug(`getMacOSWebKitMajorVersion() | WebKit major version based on User-Agent => ${k}`),k}S.debug("getMacOSWebKitMajorVersion() | this is not WebKit => undefined")}function L(C){if(S.debug("getIOSWebKitMajorVersion()"),!D(C)){S.debug("getIOSWebKitMajorVersion() | this is not iOS => undefined");return}if(M()){S.debug("getIOSWebKitMajorVersion() | this is React-Native => undefined");return}const h=C?.match(/AppleWebKit\/(\w+)/i);if(h?.[1]){const E=Number(h[1]);return S.debug(`getIOSWebKitMajorVersion() | WebKit major version based on User-Agent => ${E}`),E}S.debug("getIOSWebKitMajorVersion() | this is not WebKit => undefined")}function D(C,h){return S.debug("isIOS()"),h?.platform==="iOS"?(S.debug("isIOS() | this is iOS based on NavigatorUAData.platform => true"),!0):h?.platform?(S.debug("isIOS() | this is not iOS based on NavigatorUAData.platform => false"),!1):C&&/iPad|iPhone|iPod/.test(C)?(S.debug("isIOS() | this is iOS based on User-Agent => true"),!0):typeof navigator=="object"&&navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1?(S.debug("isIOS() | this is iPadOS 13+ based on User-Agent => true"),!0):(S.debug("isIOS() | this is not iOS => false"),!1)}function M(){return S.debug("isReactNative()"),typeof navigator=="object"&&navigator.product==="ReactNative"?(S.debug("isReactNative() | this is React-Native based on navigator.product"),!0):(S.debug("isReactNative() | this is not React-Native => false"),!1)}return bi}var Dr={},xr={},Wl={},um;function Z_(){if(um)return Wl;um=1;for(var l=256,s=[],o;l--;)s[l]=(l+256).toString(16).substring(1);function c(){var _=0,T,w="";if(!o||l+16>256){for(o=Array(_=256);_--;)o[_]=256*Math.random()|0;_=l=0}for(;_<16;_++)T=o[l+_],_==6?w+=s[T&15|64]:_==8?w+=s[T&63|128]:w+=s[T],_&1&&_>1&&_<11&&(w+="-");return l++,w}return Wl.v4=c,Wl}var Mr={},dm;function K_(){if(dm)return Mr;dm=1,Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.FakeEventTarget=void 0;class l{listeners={};addEventListener(o,c,_){c&&(this.listeners[o]=this.listeners[o]??[],this.listeners[o].push({callback:typeof c=="function"?c:c.handleEvent,once:typeof _=="object"&&_.once===!0}))}removeEventListener(o,c,_){this.listeners[o]&&c&&(this.listeners[o]=this.listeners[o].filter(T=>T.callback!==(typeof c=="function"?c:c.handleEvent)))}dispatchEvent(o){if(!o||typeof o.type!="string")throw new Error("invalid event object");const c=this.listeners[o.type];if(!c)return!0;for(const _ of[...c]){try{_.callback.call(this,o)}catch(T){setTimeout(()=>{throw T},0)}_.once&&this.removeEventListener(o.type,_.callback)}return!o.defaultPrevented}}return Mr.FakeEventTarget=l,Mr}var Ar={},fm;function J_(){if(fm)return Ar;fm=1,Object.defineProperty(Ar,"__esModule",{value:!0}),Ar.FakeEvent=void 0;let l=class{NONE=0;CAPTURING_PHASE=1;AT_TARGET=2;BUBBLING_PHASE=3;type;bubbles;cancelable;defaultPrevented=!1;composed=!1;currentTarget=null;eventPhase=this.NONE;isTrusted=!0;target=null;timeStamp=0;cancelBubble=!1;returnValue=!0;srcElement=null;constructor(o,c={}){this.type=o,this.bubbles=c.bubbles??!1,this.cancelable=c.cancelable??!1}preventDefault(){this.cancelable&&(this.defaultPrevented=!0)}stopPropagation(){}stopImmediatePropagation(){}composedPath(){return[]}initEvent(o,c,_){}};return Ar.FakeEvent=l,Ar}var sc={},pm;function $_(){if(pm)return sc;pm=1,Object.defineProperty(sc,"__esModule",{value:!0}),sc.clone=l;function l(s){if(s!==void 0)return Number.isNaN(s)?NaN:typeof structuredClone=="function"?structuredClone(s):JSON.parse(JSON.stringify(s))}return sc}var hm;function W_(){if(hm)return xr;hm=1,Object.defineProperty(xr,"__esModule",{value:!0}),xr.FakeMediaStreamTrack=void 0;const l=Z_(),s=K_(),o=J_(),c=$_();class _ extends s.FakeEventTarget{#m;#d;#f;#e;#n;#t;#i;#p;#a;#h;#r;#s=null;#c=null;#o=null;#l=null;#u=null;constructor({kind:w,id:g,label:A,contentHint:x,enabled:p,muted:S,readyState:R,capabilities:q,constraints:z,settings:u,data:f}){super(),this.#m=g??(0,l.v4)(),this.#d=w,this.#f=A??"",this.#i=x??"",this.#n=p??!0,this.#t=S??!1,this.#e=R??"live",this.#p=q??{},this.#a=z??{},this.#h=u??{},this.#r=f??{}}get id(){return this.#m}get kind(){return this.#d}get label(){return this.#f}get contentHint(){return this.#i}set contentHint(w){this.#i=w}get enabled(){return this.#n}set enabled(w){const g=this.#n!==w;this.#n=w,g&&this.dispatchEvent(new o.FakeEvent("enabledchange"))}get muted(){return this.#t}get readyState(){return this.#e}get data(){return this.#r}set data(w){this.#r=w}get onmute(){return this.#s}set onmute(w){this.#s&&this.removeEventListener("mute",this.#s),this.#s=w,w&&this.addEventListener("mute",w)}get onunmute(){return this.#c}set onunmute(w){this.#c&&this.removeEventListener("unmute",this.#c),this.#c=w,w&&this.addEventListener("unmute",w)}get onended(){return this.#o}set onended(w){this.#o&&this.removeEventListener("ended",this.#o),this.#o=w,w&&this.addEventListener("ended",w)}get onenabledchange(){return this.#l}set onenabledchange(w){this.#l&&this.removeEventListener("enabledchange",this.#l),this.#l=w,w&&this.addEventListener("enabledchange",w)}get onstopped(){return this.#u}set onstopped(w){this.#u&&this.removeEventListener("stopped",this.#u),this.#u=w,w&&this.addEventListener("stopped",w)}addEventListener(w,g,A){super.addEventListener(w,g,A)}removeEventListener(w,g,A){super.removeEventListener(w,g,A)}stop(){this.#e!=="ended"&&(this.#e="ended",this.dispatchEvent(new o.FakeEvent("stopped")))}clone({id:w,data:g}={}){return new _({id:w??(0,l.v4)(),kind:this.#d,label:this.#f,contentHint:this.#i,enabled:this.#n,muted:this.#t,readyState:this.#e,capabilities:(0,c.clone)(this.#p),constraints:(0,c.clone)(this.#a),settings:(0,c.clone)(this.#h),data:g??(0,c.clone)(this.#r)})}getCapabilities(){return this.#p}getConstraints(){return this.#a}async applyConstraints(w={}){return this.#a=w,Promise.resolve()}getSettings(){return this.#h}remoteStop(){this.#e!=="ended"&&(this.#e="ended",this.dispatchEvent(new o.FakeEvent("stopped")),this.dispatchEvent(new o.FakeEvent("ended")))}remoteMute(){this.#t||(this.#t=!0,this.dispatchEvent(new o.FakeEvent("mute")))}remoteUnmute(){this.#t&&(this.#t=!1,this.dispatchEvent(new o.FakeEvent("unmute")))}}return xr.FakeMediaStreamTrack=_,xr}var Or={},mm;function eb(){if(mm)return Or;mm=1,Object.defineProperty(Or,"__esModule",{value:!0}),Or.FakeEventTarget=void 0;let l=class{listeners={};addEventListener(o,c,_){c&&(this.listeners[o]=this.listeners[o]??[],this.listeners[o].push({callback:typeof c=="function"?c:c.handleEvent,once:typeof _=="object"&&_.once===!0}))}removeEventListener(o,c,_){this.listeners[o]&&c&&(this.listeners[o]=this.listeners[o].filter(T=>T.callback!==(typeof c=="function"?c:c.handleEvent)))}dispatchEvent(o){if(!o||typeof o.type!="string")throw new Error("invalid event object");const c=this.listeners[o.type];if(!c)return!0;for(const _ of[...c]){try{_.callback.call(this,o)}catch(T){setTimeout(()=>{throw T},0)}_.once&&this.removeEventListener(o.type,_.callback)}return!o.defaultPrevented}};return Or.FakeEventTarget=l,Or}var gm;function tb(){if(gm)return Dr;gm=1,Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.FakeHandler=void 0;const l=W_(),s=Nt(),o=Ct(),c=da(),_=Rn(),T=$t(),w=eb(),g=new o.Logger("FakeHandler"),A="FakeHandler";let x=class gc extends s.EnhancedEventEmitter{_closed=!1;_fakeParameters;_getSendExtendedRtpCapabilities;_cname=`CNAME-${c.generateRandomNumber()}`;_defaultSendStreamId=`${c.generateRandomNumber()}`;_transportReady=!1;_nextLocalId=1;_tracks=new Map;_nextSctpStreamId=0;static createFactory(R){return{name:A,factory:q=>new gc(q,R),getNativeRtpCapabilities:async()=>(g.debug("getNativeRtpCapabilities()"),gc.getLocalRtpCapabilities(R)),getNativeSctpCapabilities:async()=>(g.debug("getNativeSctpCapabilities()"),R.generateNativeSctpCapabilities())}}static getLocalRtpCapabilities(R){const q=R.generateNativeRtpCapabilities();return _.validateAndNormalizeRtpCapabilities(q),q}constructor({getSendExtendedRtpCapabilities:R},q){super(),g.debug("constructor()"),this._getSendExtendedRtpCapabilities=R,this._fakeParameters=q}get name(){return A}close(){g.debug("close()"),!this._closed&&(this._closed=!0,super.close())}setIceGatheringState(R){this.emit("@icegatheringstatechange",R)}setConnectionState(R){this.emit("@connectionstatechange",R)}async updateIceServers(R){this.assertNotClosed(),g.debug("updateIceServers()")}async restartIce(R){this.assertNotClosed(),g.debug("restartIce()")}async getTransportStats(){return this.assertNotClosed(),new Map}async send({track:R,streamId:q,encodings:z,codecOptions:u,codec:f}){this.assertNotClosed(),g.debug("send() [kind:%s, track.id:%s]",R.kind,R.id),this._transportReady||await this.setupTransport({localDtlsRole:"server"});const m=gc.getLocalRtpCapabilities(this._fakeParameters),v=this._getSendExtendedRtpCapabilities(m),L=_.getSendingRtpParameters(R.kind,v);L.codecs=_.reduceCodecs(L.codecs,f);const D=L.codecs.some(C=>/.+\/rtx$/i.test(C.mimeType));L.mid=`mid-${c.generateRandomNumber()}`,L.msid=`${q??"-"} ${R.id}`,z||(z=[{}]);for(const C of z)C.ssrc=c.generateRandomNumber(),D&&(C.rtx={ssrc:c.generateRandomNumber()});L.encodings=z,L.rtcp={cname:this._cname,reducedSize:!0,mux:!0},L.msid=`${q??this._defaultSendStreamId} ${R.id}`;const M=this._nextLocalId++;return this._tracks.set(M,R),{localId:String(M),rtpParameters:L}}async stopSending(R){if(g.debug("stopSending() [localId:%s]",R),!this._closed){if(!this._tracks.has(Number(R)))throw new Error("local track not found");this._tracks.delete(Number(R))}}async pauseSending(R){this.assertNotClosed()}async resumeSending(R){this.assertNotClosed()}async replaceTrack(R,q){this.assertNotClosed(),q?g.debug("replaceTrack() [localId:%s, track.id:%s]",R,q.id):g.debug("replaceTrack() [localId:%s, no track]",R),this._tracks.delete(Number(R)),this._tracks.set(Number(R),q)}async setMaxSpatialLayer(R,q){this.assertNotClosed(),g.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",R,q)}async setRtpEncodingParameters(R,q){this.assertNotClosed(),g.debug("setRtpEncodingParameters() [localId:%s, params:%o]",R,q)}async getSenderStats(R){return this.assertNotClosed(),new Map}async sendDataChannel({ordered:R,maxPacketLifeTime:q,maxRetransmits:z,label:u,protocol:f}){this.assertNotClosed(),this._transportReady||await this.setupTransport({localDtlsRole:"server"}),g.debug("sendDataChannel()");const m=new p({id:this._nextSctpStreamId++,ordered:R,maxPacketLifeTime:q,maxRetransmits:z,label:u,protocol:f}),v={streamId:this._nextSctpStreamId,ordered:R,maxPacketLifeTime:q,maxRetransmits:z};return{dataChannel:m,sctpStreamParameters:v}}async receive(R){this.assertNotClosed();const q=[];for(const z of R){const{trackId:u,kind:f}=z;this._transportReady||await this.setupTransport({localDtlsRole:"client"}),g.debug("receive() [trackId:%s, kind:%s]",u,f);const m=this._nextLocalId++,v=new l.FakeMediaStreamTrack({kind:f});this._tracks.set(m,v),q.push({localId:String(m),track:v})}return q}async stopReceiving(R){if(!this._closed)for(const q of R)g.debug("stopReceiving() [localId:%s]",q),this._tracks.delete(Number(q))}async pauseReceiving(R){this.assertNotClosed()}async resumeReceiving(R){this.assertNotClosed()}async getReceiverStats(R){return this.assertNotClosed(),new Map}async receiveDataChannel({sctpStreamParameters:R,label:q,protocol:z}){return this.assertNotClosed(),this._transportReady||await this.setupTransport({localDtlsRole:"client"}),g.debug("receiveDataChannel()"),{dataChannel:new p({id:R.streamId,ordered:R.ordered,maxPacketLifeTime:R.maxPacketLifeTime,maxRetransmits:R.maxRetransmits,label:q,protocol:z})}}async setupTransport({localDtlsRole:R,localSdpObject:q}){const z=c.clone(this._fakeParameters.generateLocalDtlsParameters());R&&(z.role=R),this.emit("@connectionstatechange","connecting"),await new Promise((u,f)=>this.emit("@connect",{dtlsParameters:z},u,f)),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new T.InvalidStateError("method called in a closed handler")}};Dr.FakeHandler=x;class p extends w.FakeEventTarget{_id;_negotiated=!0;_ordered;_maxPacketLifeTime;_maxRetransmits;_label;_protocol;_readyState="connecting";_bufferedAmount=0;_bufferedAmountLowThreshold=0;_binaryType="arraybuffer";_onopen=null;_onclosing=null;_onclose=null;_onmessage=null;_onbufferedamountlow=null;_onerror=null;constructor({id:R,ordered:q=!0,maxPacketLifeTime:z=null,maxRetransmits:u=null,label:f="",protocol:m=""}){super(),g.debug(`constructor() [id:${R}, ordered:${q}, maxPacketLifeTime:${z}, maxRetransmits:${u}, label:${f}, protocol:${m}`),this._id=R,this._ordered=q,this._maxPacketLifeTime=z,this._maxRetransmits=u,this._label=f,this._protocol=m}get id(){return this._id}get negotiated(){return this._negotiated}get ordered(){return this._ordered}get maxPacketLifeTime(){return this._maxPacketLifeTime}get maxRetransmits(){return this._maxRetransmits}get label(){return this._label}get protocol(){return this._protocol}get readyState(){return this._readyState}get bufferedAmount(){return this._bufferedAmount}get bufferedAmountLowThreshold(){return this._bufferedAmountLowThreshold}set bufferedAmountLowThreshold(R){this._bufferedAmountLowThreshold=R}get binaryType(){return this._binaryType}set binaryType(R){this._binaryType=R}get onopen(){return this._onopen}set onopen(R){this._onopen&&this.removeEventListener("open",this._onopen),this._onopen=R,R&&this.addEventListener("open",R)}get onclosing(){return this._onclosing}set onclosing(R){this._onclosing&&this.removeEventListener("closing",this._onclosing),this._onclosing=R,R&&this.addEventListener("closing",R)}get onclose(){return this._onclose}set onclose(R){this._onclose&&this.removeEventListener("close",this._onclose),this._onclose=R,R&&this.addEventListener("close",R)}get onmessage(){return this._onmessage}set onmessage(R){this._onmessage&&this.removeEventListener("message",this._onmessage),this._onmessage=R,R&&this.addEventListener("message",R)}get onbufferedamountlow(){return this._onbufferedamountlow}set onbufferedamountlow(R){this._onbufferedamountlow&&this.removeEventListener("bufferedamountlow",this._onbufferedamountlow),this._onbufferedamountlow=R,R&&this.addEventListener("bufferedamountlow",R)}get onerror(){return this._onerror}set onerror(R){this._onerror&&this.removeEventListener("error",this._onerror),this._onerror=R,R&&this.addEventListener("error",R)}addEventListener(R,q,z){super.addEventListener(R,q,z)}removeEventListener(R,q,z){super.removeEventListener(R,q,z)}close(){["closing","closed"].includes(this._readyState)||(this._readyState="closed")}send(R){if(this._readyState!=="open")throw new T.InvalidStateError("not open")}}return Dr}var Gt={},vm;function nb(){if(vm)return Gt;vm=1,Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.generateRouterRtpCapabilities=o,Gt.generateNativeRtpCapabilities=c,Gt.generateNativeSctpCapabilities=_,Gt.generateLocalDtlsParameters=T,Gt.generateTransportRemoteParameters=w,Gt.generateProducerRemoteParameters=g,Gt.generateConsumerRemoteParameters=A,Gt.generateDataProducerRemoteParameters=x,Gt.generateDataConsumerRemoteParameters=p;const l=da();function s(){return String(l.generateRandomNumber())}function o(){return l.deepFreeze({codecs:[{mimeType:"audio/opus",kind:"audio",preferredPayloadType:100,clockRate:48e3,channels:2,rtcpFeedback:[{type:"transport-cc"}],parameters:{useinbandfec:1,foo:"bar"}},{mimeType:"video/VP8",kind:"video",preferredPayloadType:101,clockRate:9e4,rtcpFeedback:[{type:"nack"},{type:"nack",parameter:"pli"},{type:"ccm",parameter:"fir"},{type:"goog-remb"},{type:"transport-cc"}],parameters:{"x-google-start-bitrate":1500}},{mimeType:"video/rtx",kind:"video",preferredPayloadType:102,clockRate:9e4,rtcpFeedback:[],parameters:{apt:101}},{mimeType:"video/H264",kind:"video",preferredPayloadType:103,clockRate:9e4,rtcpFeedback:[{type:"nack"},{type:"nack",parameter:"pli"},{type:"ccm",parameter:"fir"},{type:"goog-remb"},{type:"transport-cc"}],parameters:{"level-asymmetry-allowed":1,"packetization-mode":1,"profile-level-id":"42e01f"}},{mimeType:"video/rtx",kind:"video",preferredPayloadType:104,clockRate:9e4,rtcpFeedback:[],parameters:{apt:103}},{mimeType:"video/VP9",kind:"video",preferredPayloadType:105,clockRate:9e4,rtcpFeedback:[{type:"nack"},{type:"nack",parameter:"pli"},{type:"ccm",parameter:"fir"},{type:"goog-remb"},{type:"transport-cc"}],parameters:{"profile-id":0,"x-google-start-bitrate":1500}},{mimeType:"video/rtx",kind:"video",preferredPayloadType:106,clockRate:9e4,rtcpFeedback:[],parameters:{apt:105}}],headerExtensions:[{kind:"audio",uri:"urn:ietf:params:rtp-hdrext:sdes:mid",preferredId:1,preferredEncrypt:!1,direction:"sendrecv"},{kind:"video",uri:"urn:ietf:params:rtp-hdrext:sdes:mid",preferredId:1,preferredEncrypt:!1,direction:"sendrecv"},{kind:"video",uri:"urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id",preferredId:2,preferredEncrypt:!1,direction:"recvonly"},{kind:"video",uri:"urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id",preferredId:3,preferredEncrypt:!1,direction:"recvonly"},{kind:"audio",uri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time",preferredId:4,preferredEncrypt:!1,direction:"sendrecv"},{kind:"video",uri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time",preferredId:4,preferredEncrypt:!1,direction:"sendrecv"},{kind:"audio",uri:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01",preferredId:5,preferredEncrypt:!1,direction:"recvonly"},{kind:"video",uri:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01",preferredId:5,preferredEncrypt:!1,direction:"sendrecv"},{kind:"audio",uri:"urn:ietf:params:rtp-hdrext:ssrc-audio-level",preferredId:10,preferredEncrypt:!1,direction:"sendrecv"},{kind:"video",uri:"urn:3gpp:video-orientation",preferredId:11,preferredEncrypt:!1,direction:"sendrecv"},{kind:"video",uri:"urn:ietf:params:rtp-hdrext:toffset",preferredId:12,preferredEncrypt:!1,direction:"sendrecv"}]})}function c(){return{codecs:[{mimeType:"audio/opus",kind:"audio",preferredPayloadType:111,clockRate:48e3,channels:2,rtcpFeedback:[{type:"transport-cc"}],parameters:{minptime:10,useinbandfec:1}},{mimeType:"audio/ISAC",kind:"audio",preferredPayloadType:103,clockRate:16e3,channels:1,rtcpFeedback:[{type:"transport-cc"}],parameters:{}},{mimeType:"audio/CN",kind:"audio",preferredPayloadType:106,clockRate:32e3,channels:1,rtcpFeedback:[{type:"transport-cc"}],parameters:{}},{mimeType:"audio/foo",kind:"audio",preferredPayloadType:107,clockRate:9e4,channels:4,rtcpFeedback:[{type:"foo-qwe-qwe"}],parameters:{foo:"lalala"}},{mimeType:"video/BAZCODEC",kind:"video",preferredPayloadType:100,clockRate:9e4,rtcpFeedback:[{type:"foo"},{type:"transport-cc"},{type:"ccm",parameter:"fir"},{type:"nack"},{type:"nack",parameter:"pli"}],parameters:{baz:"1234abcd"}},{mimeType:"video/rtx",kind:"video",preferredPayloadType:101,clockRate:9e4,rtcpFeedback:[],parameters:{apt:100}},{mimeType:"video/VP8",kind:"video",preferredPayloadType:96,clockRate:9e4,rtcpFeedback:[{type:"goog-remb"},{type:"transport-cc"},{type:"ccm",parameter:"fir"},{type:"nack"},{type:"nack",parameter:"pli"}],parameters:{baz:"1234abcd"}},{mimeType:"video/rtx",kind:"video",preferredPayloadType:97,clockRate:9e4,rtcpFeedback:[],parameters:{apt:96}},{mimeType:"video/VP9",kind:"video",preferredPayloadType:98,clockRate:9e4,rtcpFeedback:[{type:"goog-remb"},{type:"transport-cc"},{type:"ccm",parameter:"fir"},{type:"nack"},{type:"nack",parameter:"pli"}],parameters:{"profile-id":0}},{mimeType:"video/rtx",kind:"video",preferredPayloadType:99,clockRate:9e4,rtcpFeedback:[],parameters:{apt:98}}],headerExtensions:[{kind:"audio",uri:"urn:ietf:params:rtp-hdrext:sdes:mid",preferredId:1},{kind:"video",uri:"urn:ietf:params:rtp-hdrext:sdes:mid",preferredId:1},{kind:"video",uri:"urn:ietf:params:rtp-hdrext:toffset",preferredId:2},{kind:"video",uri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time",preferredId:3},{kind:"video",uri:"urn:3gpp:video-orientation",preferredId:4},{kind:"video",uri:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01",preferredId:5},{kind:"video",uri:"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay",preferredId:6},{kind:"video",uri:"http://www.webrtc.org/experiments/rtp-hdrext/video-content-type",preferredId:7},{kind:"video",uri:"http://www.webrtc.org/experiments/rtp-hdrext/video-timing",preferredId:8},{kind:"audio",uri:"urn:ietf:params:rtp-hdrext:ssrc-audio-level",preferredId:10}]}}function _(){return l.deepFreeze({numStreams:{OS:2048,MIS:2048}})}function T(){return l.deepFreeze({fingerprints:[{algorithm:"sha-256",value:"82:5A:68:3D:36:C3:0A:DE:AF:E7:32:43:D2:88:83:57:AC:2D:65:E5:80:C4:B6:FB:AF:1A:A0:21:9F:6D:0C:AD"}],role:"auto"})}function w(){return{id:s(),iceParameters:l.deepFreeze({iceLite:!0,password:"yku5ej8nvfaor28lvtrabcx0wkrpkztz",usernameFragment:"h3hk1iz6qqlnqlne"}),iceCandidates:l.deepFreeze([{foundation:"udpcandidate",address:"9.9.9.9",ip:"9.9.9.9",port:40533,priority:1078862079,protocol:"udp",type:"host",tcpType:"passive"},{foundation:"udpcandidate",address:"9.9.9.9",ip:"9:9:9:9:9:9",port:41333,priority:1078862089,protocol:"udp",type:"host",tcpType:"passive"}]),dtlsParameters:l.deepFreeze({fingerprints:[{algorithm:"sha-256",value:"A9:F4:E0:D2:74:D3:0F:D9:CA:A5:2F:9F:7F:47:FA:F0:C4:72:DD:73:49:D0:3B:14:90:20:51:30:1B:90:8E:71"},{algorithm:"sha-384",value:"03:D9:0B:87:13:98:F6:6D:BC:FC:92:2E:39:D4:E1:97:32:61:30:56:84:70:81:6E:D1:82:97:EA:D9:C1:21:0F:6B:C5:E7:7F:E1:97:0C:17:97:6E:CF:B3:EF:2E:74:B0"},{algorithm:"sha-512",value:"84:27:A4:28:A4:73:AF:43:02:2A:44:68:FF:2F:29:5C:3B:11:9A:60:F4:A8:F0:F5:AC:A0:E3:49:3E:B1:34:53:A9:85:CE:51:9B:ED:87:5E:B8:F4:8E:3D:FA:20:51:B8:96:EE:DA:56:DC:2F:5C:62:79:15:23:E0:21:82:2B:2C"}],role:"auto"}),sctpParameters:l.deepFreeze({port:5e3,OS:2048,MIS:2048,maxMessageSize:2e6})}}function g(){return l.deepFreeze({id:s()})}function A({id:S,codecMimeType:R}={}){switch(R){case"audio/opus":return{id:S??s(),producerId:s(),kind:"audio",rtpParameters:l.deepFreeze({codecs:[{mimeType:"audio/opus",payloadType:100,clockRate:48e3,channels:2,rtcpFeedback:[{type:"transport-cc"}],parameters:{useinbandfec:1,foo:"bar"}}],encodings:[{ssrc:46687003}],headerExtensions:[{uri:"urn:ietf:params:rtp-hdrext:sdes:mid",id:1},{uri:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01",id:5},{uri:"urn:ietf:params:rtp-hdrext:ssrc-audio-level",id:10}],rtcp:{cname:"wB4Ql4lrsxYLjzuN",reducedSize:!0,mux:!0}})};case"audio/ISAC":return{id:S??s(),producerId:s(),kind:"audio",rtpParameters:l.deepFreeze({codecs:[{mimeType:"audio/ISAC",payloadType:111,clockRate:16e3,channels:1,rtcpFeedback:[{type:"transport-cc"}],parameters:{}}],encodings:[{ssrc:46687004}],headerExtensions:[{uri:"urn:ietf:params:rtp-hdrext:sdes:mid",id:1},{uri:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01",id:5}],rtcp:{cname:"wB4Ql4lrsxYLjzuN",reducedSize:!0,mux:!0}})};case"video/VP8":return{id:S??s(),producerId:s(),kind:"video",rtpParameters:l.deepFreeze({codecs:[{mimeType:"video/VP8",payloadType:101,clockRate:9e4,rtcpFeedback:[{type:"nack"},{type:"nack",parameter:"pli"},{type:"ccm",parameter:"fir"},{type:"goog-remb"},{type:"transport-cc"}],parameters:{"x-google-start-bitrate":1500}},{mimeType:"video/rtx",payloadType:102,clockRate:9e4,rtcpFeedback:[],parameters:{apt:101}}],encodings:[{ssrc:99991111,rtx:{ssrc:99991112}}],headerExtensions:[{uri:"urn:ietf:params:rtp-hdrext:sdes:mid",id:1},{uri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time",id:4},{uri:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01",id:5},{uri:"urn:3gpp:video-orientation",id:11},{uri:"urn:ietf:params:rtp-hdrext:toffset",id:12}],rtcp:{cname:"wB4Ql4lrsxYLjzuN",reducedSize:!0,mux:!0}})};case"video/H264":return{id:S??s(),producerId:s(),kind:"video",rtpParameters:l.deepFreeze({codecs:[{mimeType:"video/H264",payloadType:103,clockRate:9e4,rtcpFeedback:[{type:"nack"},{type:"nack",parameter:"pli"},{type:"ccm",parameter:"fir"},{type:"goog-remb"},{type:"transport-cc"}],parameters:{"level-asymmetry-allowed":1,"packetization-mode":1,"profile-level-id":"42e01f"}},{mimeType:"video/rtx",payloadType:104,clockRate:9e4,rtcpFeedback:[],parameters:{apt:103}}],encodings:[{ssrc:99991113,rtx:{ssrc:99991114}}],headerExtensions:[{uri:"urn:ietf:params:rtp-hdrext:sdes:mid",id:1},{uri:"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time",id:4},{uri:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01",id:5},{uri:"urn:3gpp:video-orientation",id:11},{uri:"urn:ietf:params:rtp-hdrext:toffset",id:12}],rtcp:{cname:"wB4Ql4lrsxYLjzuN",reducedSize:!0,mux:!0}})};default:throw new TypeError(`unknown codecMimeType '${R}'`)}}function x(){return l.deepFreeze({id:s()})}function p({id:S}={}){return{id:S??s(),dataProducerId:s(),sctpStreamParameters:l.deepFreeze({streamId:666,maxPacketLifeTime:5e3,maxRetransmits:void 0})}}return Gt}var ym;function ib(){return ym||(ym=1,(function(l){Object.defineProperty(l,"__esModule",{value:!0}),l.debug=l.testFakeParameters=l.FakeHandler=l.enhancedEvents=l.ortc=l.parseScalabilityMode=l.detectDeviceAsync=l.detectDevice=l.Device=l.version=l.types=void 0;const s=bc();l.debug=s.default,l.types=x_(),l.version="3.18.3";var o=F_();Object.defineProperty(l,"Device",{enumerable:!0,get:function(){return o.Device}}),Object.defineProperty(l,"detectDevice",{enumerable:!0,get:function(){return o.detectDevice}}),Object.defineProperty(l,"detectDeviceAsync",{enumerable:!0,get:function(){return o.detectDeviceAsync}});var c=fa();Object.defineProperty(l,"parseScalabilityMode",{enumerable:!0,get:function(){return c.parse}}),l.ortc=Rn(),l.enhancedEvents=Nt();var _=tb();Object.defineProperty(l,"FakeHandler",{enumerable:!0,get:function(){return _.FakeHandler}}),l.testFakeParameters=nb()})(Gl)),Gl}var ab=ib();const _m="https://devws.letscatchup-kcs.com",rb=({meeting:l})=>{const s=pe.useRef(null),[o,c]=pe.useState(new Map),[_,T]=pe.useState(!1),[w,g]=pe.useState(!1),[A,x]=pe.useState(!1),[p,S]=pe.useState(!1),[R,q]=pe.useState("disconnected"),[z,u]=pe.useState(null),f=pe.useRef(null),m=pe.useRef(null),v=pe.useRef(null),L=pe.useRef(null),D=pe.useRef(null),M=pe.useRef(null),C=pe.useRef(new Map),h=pe.useRef(new Map),E=pe.useRef(new Set),k=pe.useRef(new Map),B=pe.useRef(new Map),ee=pe.useCallback(async()=>{try{const I=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720}},audio:!1});if(v.current){const W=I.getVideoTracks()[0];v.current.addTrack(W)}else v.current=I;if(s.current&&(s.current.srcObject=v.current),x(!0),console.log(" Camera started"),D.current&&l){const W=v.current.getVideoTracks()[0];if(W)try{const se=await D.current.produce({track:W});C.current.set("video",se),console.log(" Video producer created:",se.id)}catch(se){console.error("Failed to produce video:",se)}}}catch(I){u(`Camera error: ${I}`),console.error("Camera error:",I)}},[l]),ae=pe.useCallback(async()=>{try{const I=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0},video:!1});if(v.current){const W=I.getAudioTracks()[0];v.current.addTrack(W)}else v.current=I;if(g(!0),console.log(" Microphone started"),D.current&&l){const W=v.current.getAudioTracks()[0];if(W)try{const se=await D.current.produce({track:W});C.current.set("audio",se),console.log(" Audio producer created:",se.id)}catch(se){console.error("Failed to produce audio:",se)}}}catch(I){u(`Microphone error: ${I}`),console.error("Microphone error:",I)}},[l]),b=pe.useCallback(()=>{v.current&&(v.current.getVideoTracks().forEach(W=>{W.stop(),v.current?.removeTrack(W)}),x(!1));const I=C.current.get("video");I&&f.current&&l&&(f.current.emit("close-producer",{meetingId:l.id,producerId:I.id,kind:"video"}),I.close(),C.current.delete("video")),console.log(" Camera stopped")},[l]),Q=pe.useCallback(()=>{v.current&&(v.current.getAudioTracks().forEach(W=>{W.stop(),v.current?.removeTrack(W)}),g(!1));const I=C.current.get("audio");I&&f.current&&l&&(f.current.emit("close-producer",{meetingId:l.id,producerId:I.id,kind:"audio"}),I.close(),C.current.delete("audio")),console.log(" Microphone stopped")},[l]),Z=pe.useCallback(()=>{A?b():ee()},[A,ee,b]),O=pe.useCallback(()=>{w?Q():ae()},[w,ae,Q]),P=pe.useCallback(async()=>{try{const I=await navigator.mediaDevices.getDisplayMedia({video:{width:{ideal:1920},height:{ideal:1080},frameRate:{ideal:30}},audio:!0});if(L.current=I,S(!0),console.log(" Screen share started with tracks:",I.getTracks().map(W=>W.kind).join(", ")),I.getVideoTracks()[0].onended=()=>{console.log(" Screen share ended by user"),J()},D.current&&l){const W=I.getVideoTracks()[0];if(W)try{const he=await D.current.produce({track:W,appData:{type:"screen"}});C.current.set("screen",he),console.log(" Screen share video producer created:",he.id)}catch(he){console.error("Failed to produce screen share video:",he)}const se=I.getAudioTracks()[0];if(se)try{const he=await D.current.produce({track:se,appData:{type:"screenAudio"}});C.current.set("screenAudio",he),console.log(" Screen share audio producer created:",he.id)}catch(he){console.error("Failed to produce screen share audio:",he)}else console.log(" No audio track from screen share (browser may not support it or user declined)")}}catch(I){I.name==="NotAllowedError"?console.log(" Screen share cancelled by user"):(u(`Screen share error: ${I}`),console.error("Screen share error:",I))}},[l]),J=pe.useCallback(()=>{L.current&&(L.current.getTracks().forEach(se=>{se.stop()}),L.current=null,S(!1));const I=C.current.get("screen");I&&f.current&&l&&(f.current.emit("close-producer",{meetingId:l.id,producerId:I.id,kind:"video",appData:{type:"screen"}}),I.close(),C.current.delete("screen"));const W=C.current.get("screenAudio");W&&f.current&&l&&(f.current.emit("close-producer",{meetingId:l.id,producerId:W.id,kind:"audio",appData:{type:"screenAudio"}}),W.close(),C.current.delete("screenAudio")),console.log(" Screen share stopped")},[l]),re=pe.useCallback(()=>{p?J():P()},[p,P,J]),ue=pe.useCallback(async()=>{if(!l){u("No meeting selected");return}console.log(" Starting WebRTC join for meeting:",l.id),q("connecting"),u(null);try{console.log(" Fetching WebRTC config...");const I=await h_(l.id);if(console.log(" WebRTC config response:",I),!I.success||!I.data)throw new Error(I.error||"Failed to get WebRTC config");const W=I.data;if(W.routerError||!W.rtpCapabilities){console.warn(" Router issue - fallback mode"),q("fallback");return}console.log(" Loading MediaSoup device...");const se=new ab.Device;await se.load({routerRtpCapabilities:W.rtpCapabilities}),m.current=se,console.log(" MediaSoup device loaded"),console.log(" Connecting to Socket.IO at:",_m);const he=fu(),le=kr(_m,{auth:{token:he},transports:["polling","websocket"],upgrade:!0,timeout:2e4});f.current=le,le.on("connect",()=>{console.log(" Socket connected, socket.id:",le.id),le.emit("join-meeting",{meetingId:l.id})}),le.on("connect_error",te=>{console.error(" Socket connect_error:",te.message),u(`Socket connection failed: ${te.message}`),q("fallback")});let Se=[];le.on("meeting-joined",async te=>{console.log(" Joined meeting:",te),T(!0),q("connected"),te.existingProducers&&te.existingProducers.length>0&&(console.log(" Existing producers to consume:",te.existingProducers),Se=te.existingProducers),le.emit("create-transport",{meetingId:l.id,direction:"send"}),le.emit("create-transport",{meetingId:l.id,direction:"recv"})}),le.on("transport-created",async te=>{console.log(` Transport created (${te.direction}):`,te.params.id);const ie={id:te.params.id,iceParameters:te.params.iceParameters,iceCandidates:te.params.iceCandidates,dtlsParameters:te.params.dtlsParameters};if(te.direction==="send"){const we=se.createSendTransport(ie);D.current=we,we.on("connect",async({dtlsParameters:xe},Ne,Ue)=>{try{console.log(" Send transport connecting..."),le.emit("connect-transport",{transportId:we.id,dtlsParameters:xe});const Ae=nt=>{nt.transportId===we.id&&(console.log(" Send transport connected!"),le.off("transport-connected",Ae),Ne())};le.on("transport-connected",Ae)}catch(Ae){Ue(Ae)}}),we.on("produce",async({kind:xe,rtpParameters:Ne,appData:Ue},Ae,nt)=>{try{const Pe=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`;console.log(` Producing ${xe}, requestId: ${Pe}`),le.emit("produce",{meetingId:l.id,kind:xe,rtpParameters:Ne,requestId:Pe,appData:Ue});const sn=Et=>{(!Et.requestId||Et.requestId===Pe)&&(console.log(` Producer created: ${Et.producerId}`),le.off("produced",sn),Ae({id:Et.producerId}))};le.on("produced",sn),setTimeout(()=>{le.off("produced",sn)},1e4)}catch(Pe){nt(Pe)}}),console.log(" Send transport ready")}else{const we=se.createRecvTransport(ie);if(M.current=we,we.on("connect",async({dtlsParameters:xe},Ne,Ue)=>{try{console.log(" Recv transport connecting..."),le.emit("connect-transport",{transportId:we.id,dtlsParameters:xe});const Ae=nt=>{nt.transportId===we.id&&(console.log(" Recv transport connected!"),le.off("transport-connected",Ae),Ne())};le.on("transport-connected",Ae)}catch(Ae){Ue(Ae)}}),console.log(" Receive transport ready"),Se.length>0&&m.current){console.log(" Consuming pending producers:",Se.length);for(const xe of Se)le.emit("consume",{meetingId:l.id,producerParticipantId:xe.participantId,producerId:xe.producerId,kind:xe.kind,rtpCapabilities:m.current.rtpCapabilities});Se=[]}}}),le.on("new-producer",async te=>{if(console.log(" New producer from participant:",te),E.current.has(te.producerId)){console.log(" Already consumed this producer, skipping:",te.producerId);return}if(!M.current||!m.current){console.log("No receive transport yet");return}te.appData&&k.current.set(te.producerId,te.appData),E.current.add(te.producerId),le.emit("consume",{meetingId:l.id,producerParticipantId:te.participantId,producerId:te.producerId,kind:te.kind,rtpCapabilities:m.current.rtpCapabilities,appData:te.appData})}),le.on("consumed",async te=>{if(console.log(" Consumed media:",te),!!M.current)try{const ie=await M.current.consume({id:te.id,producerId:te.producerId,kind:te.kind,rtpParameters:te.rtpParameters});h.current.set(te.id,ie),le.emit("resume-consumer",{consumerId:te.id}),await ie.resume(),console.log(" Consumer resumed:",te.id,"paused:",ie.paused);const we=te.producerParticipantId,xe=ie.track,Ne=k.current.get(te.producerId),Ue=te.appData||Ne,Ae=Ue?.type==="screen",nt=Ue?.type==="screenAudio";console.log(` Got ${te.kind} track (${Ae?"screen":nt?"screenAudio":"camera/mic"}):`,xe.id,"enabled:",xe.enabled,"readyState:",xe.readyState,"muted:",xe.muted,"appData:",Ue),xe.onunmute=()=>{console.log(" Track UNMUTED - receiving RTP data!",xe.id)},xe.onmute=()=>{console.log(" Track MUTED - no RTP data",xe.id)},xe.onended=()=>{console.log(" Track ENDED",xe.id)};let Pe=B.current.get(we);Pe||(Pe={camera:null,screen:null,audio:null},B.current.set(we,Pe)),te.kind==="video"?Ae?(Pe.screen||(Pe.screen=new MediaStream),Pe.screen.addTrack(xe),console.log(" Added screen video track for:",we)):(Pe.camera||(Pe.camera=new MediaStream),Pe.camera.addTrack(xe),console.log(" Added camera video track for:",we)):te.kind==="audio"&&(Pe.audio||(Pe.audio=new MediaStream),Pe.audio.addTrack(xe),console.log(` Added audio track (${nt?"screen":"mic"}) for:`,we)),c(sn=>{const Et=new Map(sn),ti=Et.get(we);return Et.set(we,{odId:we,userName:ti?.userName||"Participant",cameraStream:Pe.camera,screenStream:Pe.screen,audioStream:Pe.audio,_updateTs:Date.now()}),Et})}catch(ie){console.error("Failed to consume:",ie)}}),le.on("participant-joined",te=>{console.log(" Participant joined:",te)}),le.on("participant-left",te=>{console.log(" Participant left:",te),c(ie=>{const we=new Map(ie);return we.delete(te.participantId),we}),B.current.delete(te.participantId)}),le.on("producer-closed",te=>{console.log(" Producer closed:",te),E.current.delete(te.producerId);const ie=k.current.get(te.producerId),we=te.appData||ie,xe=we?.type==="screen";k.current.delete(te.producerId),console.log(` Producer closed - kind: ${te.kind}, isScreen: ${xe}, appData:`,we);for(const[Ue,Ae]of h.current)if(Ae.producerId===te.producerId){Ae.close(),h.current.delete(Ue),console.log(` Consumer ${Ue} closed for producer ${te.producerId}`);break}const Ne=B.current.get(te.participantId);Ne&&(te.kind==="video"?xe&&Ne.screen?(Ne.screen.getTracks().forEach(Ue=>{Ne.screen?.removeTrack(Ue),Ue.stop()}),Ne.screen=null,console.log(` Removed screen video for ${te.participantId}`)):!xe&&Ne.camera&&(Ne.camera.getTracks().forEach(Ue=>{Ne.camera?.removeTrack(Ue),Ue.stop()}),Ne.camera=null,console.log(` Removed camera video for ${te.participantId}`)):te.kind==="audio"&&Ne.audio&&(Ne.audio.getTracks().forEach(Ue=>{Ne.audio?.removeTrack(Ue),Ue.stop()}),Ne.audio=null,console.log(` Removed audio for ${te.participantId}`)),c(Ue=>{const Ae=new Map(Ue),nt=Ae.get(te.participantId);return nt&&Ae.set(te.participantId,{...nt,cameraStream:Ne.camera,screenStream:Ne.screen,audioStream:Ne.audio,_updateTs:Date.now()}),Ae}))}),le.on("error",te=>{console.error(" Socket error:",te),u(te.message||"Socket error")}),le.on("disconnect",te=>{console.log(" Socket disconnected:",te),T(!1),q("disconnected")})}catch(I){console.error(" WebRTC join error:",I),u(String(I)),q("fallback")}},[l]),j=pe.useCallback(()=>{h.current.forEach(I=>I.close()),h.current.clear(),C.current.forEach(I=>I.close()),C.current.clear(),E.current.clear(),B.current.clear(),D.current?.close(),D.current=null,M.current?.close(),M.current=null,v.current&&(v.current.getTracks().forEach(I=>I.stop()),v.current=null),L.current&&(L.current.getTracks().forEach(I=>I.stop()),L.current=null),f.current?.disconnect(),f.current=null,m.current=null,T(!1),x(!1),g(!1),S(!1),q("disconnected"),c(new Map),console.log(" Left meeting")},[]);return pe.useEffect(()=>()=>{j()},[j]),{localVideoRef:s,remoteParticipants:o,isConnected:_,isAudioEnabled:w,isVideoEnabled:A,isScreenSharing:p,connectionStatus:R,error:z,startCamera:ee,startMicrophone:ae,stopCamera:b,stopMicrophone:Q,toggleVideo:Z,toggleAudio:O,startScreenShare:P,stopScreenShare:J,toggleScreenShare:re,joinMeeting:ue,leaveMeeting:j}},sb="https://devws.letscatchup-kcs.com";function cb(){const[l,s]=pe.useState(fu()),[o,c]=pe.useState(!1),[_,T]=pe.useState(null),[w,g]=pe.useState(""),[A,x]=pe.useState([]),[p,S]=pe.useState(!1),[R,q]=pe.useState(!1),[z,u]=pe.useState(""),[f,m]=pe.useState(null),[v,L]=pe.useState(null),[D,M]=pe.useState(!1),[C,h]=pe.useState(""),[E,k]=pe.useState([]),[B,ee]=pe.useState(!1),[ae,b]=pe.useState(null),[Q,Z]=pe.useState(!1),O=pe.useRef(null),{localVideoRef:P,remoteParticipants:J,isAudioEnabled:re,isVideoEnabled:ue,isScreenSharing:j,connectionStatus:I,error:W,toggleVideo:se,toggleAudio:he,toggleScreenShare:le,joinMeeting:Se,leaveMeeting:te}=rb({meeting:_}),ie=pe.useCallback(oe=>{const ce=new Date().toLocaleTimeString();x(Ce=>[...Ce.slice(-50),`[${ce}] ${oe}`]),console.log(oe)},[]);pe.useEffect(()=>{l&&u_(l)},[l]),pe.useEffect(()=>{if(!l)return;const oe=kr(sb,{auth:{token:l},transports:["polling","websocket"]});return O.current=oe,oe.on("connect",()=>{ie(" Socket connected for notifications")}),oe.on("incoming-call",ce=>{ie(` Incoming ${ce.callType} call from ${ce.callerName}`),L(ce)}),oe.on("call-accepted",ce=>{ie(" Call accepted by other party!"),h("In call"),M(!0)}),oe.on("call-rejected",ce=>{ie(` Call rejected: ${ce.reason||"Declined"}`),h("Call declined"),m(null),M(!1),T(null),setTimeout(()=>h(""),2e3)}),oe.on("call-missed",ce=>{ie(` Call missed: ${ce.reason||"No answer"}`),h("Call missed"),m(null),M(!1),T(null),L(null),setTimeout(()=>h(""),2e3)}),oe.on("call-ended",ce=>{ie(" Call ended by other party"),h("Call ended"),m(null),M(!1),T(null),setTimeout(()=>h(""),2e3)}),oe.on("call-cancelled",ce=>{ie(" Call was cancelled"),L(null)}),oe.on("admission-granted",ce=>{ie(" You have been admitted to the meeting!"),ee(!1),b(null),q(!0)}),oe.on("admission-rejected",ce=>{ie(` Admission rejected: ${ce.reason||"No reason"}`),ee(!1),b(null),T(null)}),oe.on("waiting-room-update",ce=>{ie(` Waiting room updated: ${ce.waitingRoom.length} waiting`),k(ce.waitingRoom)}),oe.on("admission-requested",ce=>{ie(` ${ce.userName} is waiting to join`)}),oe.on("disconnect",()=>{ie(" Socket disconnected")}),()=>{oe.disconnect()}},[l,ie]),pe.useEffect(()=>{O.current&&_&&(ie(` Joining socket room for meeting ${_.id}`),O.current.emit("join-meeting",{meetingId:_.id}))},[_,ie]),pe.useEffect(()=>{if(!_||!Q)return;we(_.id);const oe=setInterval(()=>{we(_.id)},3e3);return()=>clearInterval(oe)},[_,Q]),pe.useEffect(()=>{_&&R&&!B&&(ie(" Auto-joining WebRTC..."),Se(),q(!1))},[_,R,B,Se,ie]);const we=async oe=>{const ce=await C_(oe);ce.success&&ce.data&&k(ce.data)},xe=async()=>{ie(" Testing connection...");const oe=await d_();if(oe.success){ie(" Connected to API!"),c(!0);const ce=await b_();if(ce.success&&ce.data){const Ce=ce.data;ie(` Found active call: ${Ce.callId} (status: ${Ce.status})`),m(Ce.callId),M(!0),h(`In call - ${Ce.status}`);const Ci=await Vl(Ce.meetingId);Ci.success&&Ci.data&&(T(Ci.data),q(!0))}}else ie(` Connection failed: ${oe.error}`),c(!1)},Ne=async()=>{ie(` Creating meeting (Waiting Room: ${Q?"ON":"OFF"})...`);const oe=await f_(`Meeting - ${new Date().toLocaleTimeString()}`,{waiting_room_enabled:Q,auto_admit:!Q});oe.success&&oe.data?(ie(` Meeting created: ${oe.data.meeting_code}`),T(oe.data),q(!0),Q&&we(oe.data.id)):ie(` Failed to create meeting: ${oe.error}`)},Ue=async()=>{if(!w.trim()){ie(" Please enter a meeting code");return}ie(` Joining meeting ${w}...`);const oe=await p_(w);if(oe.success&&oe.data){if(!oe.data.canJoin){ie(` Cannot join: ${oe.data.joinError}`);return}ie(` Joined meeting: ${oe.data.meeting.meeting_code}`),T(oe.data.meeting),S(!1);const ce=await S_(oe.data.meeting.id);if(ce.success&&ce.data?.required){ie(" Waiting room enabled - requesting admission...");const Ce=await w_(oe.data.meeting.id,"User");Ce.success&&(ee(!0),b(Ce.position||1),ie(` In waiting room (Position: ${Ce.position})`))}else q(!0)}else ie(` Failed to join: ${oe.error}`)},Ae=()=>{te(),T(null),M(!1),k([]),ie(" Left meeting")},nt=async oe=>{if(!z.trim()){ie(" Please enter a user ID to call");return}ie(` Starting ${oe} call to ${z}...`),h("Calling...");const ce=await m_(z,oe);if(ce.success&&ce.data){ie(` Call initiated (ID: ${ce.data.callId})`),m(ce.data.callId),M(!0);const Ce=await Vl(ce.data.meetingId);Ce.success&&Ce.data?(T(Ce.data),q(!0)):ie(` Could not get meeting details: ${Ce.error}`)}else ie(` Failed to initiate call: ${ce.error}`),h("")},Pe=async()=>{if(!v)return;ie(" Answering call...");const oe=await g_(v.callId);if(oe.success){ie(" Call answered!"),m(v.callId),M(!0),h("In call");const ce=await Vl(v.meetingId);ce.success&&ce.data?(T(ce.data),q(!0)):ie(` Could not get meeting details: ${ce.error}`),L(null)}else ie(` Failed to answer: ${oe.error}`),L(null)},sn=async()=>{v&&(ie(" Rejecting call..."),await v_(v.callId,"Busy"),L(null))},Et=async()=>{f&&(ie(" Ending call..."),await y_(f),Ae())},ti=async()=>{f&&(ie(" Cancelling call..."),await __(f),m(null),h(""))},pa=async oe=>{if(!_)return;ie(` Admitting user ${oe}...`);const ce=await E_(_.id,oe);ce.success?(ie(" User admitted"),we(_.id)):ie(` Failed to admit: ${ce.error}`)},ha=async oe=>{if(!_)return;ie(` Rejecting user ${oe}...`);const ce=await T_(_.id,oe);ce.success?(ie(" User rejected"),we(_.id)):ie(` Failed to reject: ${ce.error}`)};pe.useEffect(()=>{W&&ie(` WebRTC Error: ${W}`)},[W,ie]);const Sc=()=>{switch(I){case"connected":return"#22c55e";case"connecting":return"#f59e0b";case"fallback":return"#eab308";default:return"#ef4444"}};return ne.jsxs("div",{className:"app",children:[ne.jsxs("header",{className:"header",children:[ne.jsx("h1",{children:" KCS Meeting Demo"}),ne.jsx("p",{children:"Direct Calls + Waiting Room"})]}),v&&ne.jsx("div",{className:"modal-overlay",children:ne.jsxs("div",{className:"modal incoming-call-modal",children:[ne.jsxs("h2",{children:[" Incoming ",v.callType," Call"]}),ne.jsx("p",{className:"caller-name",children:v.callerName}),ne.jsxs("div",{className:"button-group",children:[ne.jsx("button",{onClick:Pe,className:"btn-success btn-large",children:" Answer"}),ne.jsx("button",{onClick:sn,className:"btn-danger btn-large",children:" Decline"})]})]})}),B&&ne.jsx("div",{className:"modal-overlay",children:ne.jsxs("div",{className:"modal waiting-modal",children:[ne.jsx("h2",{children:" Waiting Room"}),ne.jsx("div",{className:"waiting-spinner"}),ne.jsx("p",{children:"Please wait for the host to admit you..."}),ne.jsxs("p",{className:"waiting-position",children:["Position: ",ae]}),ne.jsx("button",{onClick:Ae,className:"btn-danger",children:"Leave"})]})}),ne.jsxs("section",{className:"section",children:[ne.jsx("h2",{children:" Authentication"}),ne.jsxs("div",{className:"form-group",children:[ne.jsx("label",{children:"Auth Token:"}),ne.jsx("input",{type:"text",value:l,onChange:oe=>s(oe.target.value),placeholder:"Paste your JWT token here"})]}),ne.jsx("button",{onClick:xe,className:"btn-primary",children:"Test Connection"}),ne.jsx("span",{className:`status-badge ${o?"connected":"disconnected"}`,children:o?" Connected":" Not Connected"})]}),ne.jsxs("section",{className:"section",children:[ne.jsx("h2",{children:" Direct 1:1 Call"}),ne.jsxs("div",{className:"form-group",children:[ne.jsx("label",{children:"User ID to call:"}),ne.jsx("input",{type:"text",value:z,onChange:oe=>u(oe.target.value),placeholder:"Enter user ID (e.g., cc921785-5fce-450e-899b-7988a15d6a49)"})]}),ne.jsxs("div",{className:"button-group",children:[ne.jsx("button",{onClick:()=>nt("video"),className:"btn-success",disabled:!o||D,children:" Video Call"}),ne.jsx("button",{onClick:()=>nt("audio"),className:"btn-primary",disabled:!o||D,children:" Audio Call"}),f&&C==="Calling..."&&ne.jsx("button",{onClick:ti,className:"btn-danger",children:" Cancel"}),D&&ne.jsx("button",{onClick:Et,className:"btn-danger",children:" End Call"})]}),C&&ne.jsx("p",{className:"call-status",children:C})]}),ne.jsxs("section",{className:"section",children:[ne.jsx("h2",{children:" Meeting Controls"}),ne.jsx("div",{className:"form-group checkbox-group",children:ne.jsxs("label",{children:[ne.jsx("input",{type:"checkbox",checked:Q,onChange:oe=>Z(oe.target.checked)}),"Enable Waiting Room"]})}),ne.jsxs("div",{className:"button-group",children:[ne.jsx("button",{onClick:Ne,className:"btn-success",disabled:!o,children:"Create Meeting"}),ne.jsx("button",{onClick:()=>S(!0),className:"btn-primary",disabled:!o,children:"Join Meeting"})]}),p&&ne.jsxs("div",{className:"join-dialog",children:[ne.jsx("input",{type:"text",value:w,onChange:oe=>g(oe.target.value),placeholder:"XXX-XXXX-XXX"}),ne.jsx("button",{onClick:Ue,className:"btn-success",children:"Join"}),ne.jsx("button",{onClick:()=>S(!1),className:"btn-danger",children:"Cancel"})]})]}),_&&E.length>0&&ne.jsxs("section",{className:"section waiting-room-section",children:[ne.jsxs("h2",{children:[" Waiting Room (",E.length,")"]}),ne.jsx("div",{className:"waiting-list",children:E.map(oe=>ne.jsxs("div",{className:"waiting-entry",children:[ne.jsx("span",{className:"waiting-name",children:oe.userName}),ne.jsxs("div",{className:"waiting-actions",children:[ne.jsx("button",{onClick:()=>pa(oe.userId),className:"btn-success btn-small",children:" Admit"}),ne.jsx("button",{onClick:()=>ha(oe.userId),className:"btn-danger btn-small",children:" Reject"})]})]},oe.userId))})]}),_&&!B&&ne.jsxs("section",{className:"section meeting-info",children:[ne.jsx("h2",{children:" Current Meeting"}),ne.jsxs("p",{children:[ne.jsx("strong",{children:"Title:"})," ",_.title]}),ne.jsxs("p",{children:[ne.jsx("strong",{children:"Code:"})," ",ne.jsx("code",{children:_.meeting_code})]}),ne.jsxs("p",{children:[ne.jsx("strong",{children:"Status:"}),ne.jsxs("span",{style:{color:Sc(),marginLeft:8},children:[I==="connected"&&" Connected",I==="connecting"&&" Connecting...",I==="fallback"&&" Preview Mode",I==="disconnected"&&" Disconnected"]})]}),ne.jsxs("div",{className:"button-group",children:[ne.jsx("button",{onClick:se,className:ue?"btn-danger":"btn-primary",children:ue?" Stop Camera":" Start Camera"}),ne.jsx("button",{onClick:he,className:re?"btn-danger":"btn-primary",children:re?" Mute":" Unmute"}),ne.jsx("button",{onClick:le,className:j?"btn-danger":"btn-secondary",children:j?" Stop Sharing":" Share Screen"}),ne.jsx("button",{onClick:Ae,className:"btn-danger",children:" Leave"})]})]}),ne.jsxs("section",{className:"video-grid",children:[ne.jsxs("div",{className:"video-container",children:[ne.jsx("video",{ref:P,autoPlay:!0,muted:!0,playsInline:!0}),ne.jsx("div",{className:"video-label",children:"You (Local)"})]}),Array.from(J.entries()).map(([oe,ce])=>ne.jsxs(ry.Fragment,{children:[ce.cameraStream&&ne.jsxs("div",{className:"video-container",children:[ne.jsx("video",{autoPlay:!0,playsInline:!0,ref:Ce=>{Ce&&ce.cameraStream&&(Ce.srcObject!==ce.cameraStream&&(Ce.srcObject=ce.cameraStream),Ce.paused&&(Ce.muted=!0,Ce.play().catch(()=>{})))}}),ne.jsx("div",{className:"video-label",children:ce.userName||"Participant"})]}),ce.screenStream&&ne.jsxs("div",{className:"video-container screen-share",children:[ne.jsx("video",{autoPlay:!0,playsInline:!0,ref:Ce=>{Ce&&ce.screenStream&&(Ce.srcObject!==ce.screenStream&&(Ce.srcObject=ce.screenStream),Ce.paused&&(Ce.muted=!0,Ce.play().catch(()=>{})))}}),ne.jsxs("div",{className:"video-label",children:[" ",ce.userName," - Screen"]})]}),ce.audioStream&&ne.jsx("audio",{autoPlay:!0,ref:Ce=>{Ce&&ce.audioStream&&Ce.srcObject!==ce.audioStream&&(Ce.srcObject=ce.audioStream,Ce.play().catch(()=>{}))}})]},oe))]}),ne.jsxs("section",{className:"section",children:[ne.jsx("h2",{children:" Logs"}),ne.jsx("div",{className:"log-container",children:A.map((oe,ce)=>ne.jsx("div",{className:"log-entry",children:oe},ce))})]})]})}fy.createRoot(document.getElementById("root")).render(ne.jsx(pe.StrictMode,{children:ne.jsx(cb,{})}));
